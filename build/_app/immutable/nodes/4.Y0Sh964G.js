const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/Bkee_T1r.js","../chunks/Cc16BkMR.js","../chunks/Dd9dlJ0t.js","../chunks/BJqnC6n6.js"])))=>i.map(i=>d[i]);
import{_ as cl}from"../chunks/CmsKOCeN.js";import{S as Ct,i as Et,s as Tt,n as qe,d as u,L as lt,N as He,P as ft,b as W,v as s,F as xe,g as a,R as yt,h as i,q as h,j as M,B as g,k as c,D as x,o as Dt,A as pe,C as O,E as U,U as Mt,z as bt,w as ul,x as dl,W as Js,O as xl,M as kt,f as wl,a8 as Gs,y as Nl,e as fl,G as _t,t as ut,a as at,c as _l,H as mt,I as Xs,J as gt,K as xt,a0 as hl,r as ml,X as Zs}from"../chunks/BJqnC6n6.js";import{e as Ge,u as Ws,d as Ys}from"../chunks/Ce8MPPMO.js";import"../chunks/IHki7fMi.js";import{b as Pl,f as gl}from"../chunks/C-nxcAHp.js";import{a as il}from"../chunks/pNq0rSp3.js";import{c as Nt,d as Xe,q as jt,p as zt,t as Ks,f as pl,b as ot,u as pt,m as Ht,n as Qs,g as Sl,e as $s,r as Ft,h as Rt,i as sl,j as rl,k as Ll,l as Bl,D as er,T as tr}from"../chunks/Cc16BkMR.js";import{u as lr}from"../chunks/Bkee_T1r.js";import{B as sr}from"../chunks/DfkiFzvq.js";import{U as rr}from"../chunks/bb5kb8JS.js";import{B as ar}from"../chunks/BUi2D-Q1.js";import{M as nr}from"../chunks/zjp6v3yD.js";import{A as or}from"../chunks/ClFmCXxC.js";function Ol(r,e,t){const l=r.slice();return l[22]=e[t],l}function Ul(r,e,t){const l=r.slice();return l[22]=e[t],l}function Ml(r){let e,t;return{c(){e=c("div"),t=U(r[5]),this.h()},l(l){e=i(l,"DIV",{class:!0});var n=h(e);t=O(n,r[5]),n.forEach(u),this.h()},h(){a(e,"class","mb-6 p-4 bg-white/10 border border-white/20 rounded-xl")},m(l,n){W(l,e,n),s(e,t)},p(l,n){n&32&&pe(t,l[5])},d(l){l&&u(e)}}}function ir(r){let e,t,l,n,d='<tr><th class="px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-300">Usuario</th> <th class="px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-300">Plan</th> <th class="px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-300">Estado</th> <th class="px-6 py-4 text-right text-xs font-bold uppercase tracking-wider text-slate-300">Acciones</th></tr>',o,f,_,b,w,m,y,L,T=r[3].length+"",I,S,E=r[2].length+"",N,B,p=Ge(r[3]),v=[];for(let k=0;k<p.length;k+=1)v[k]=Rl(Ul(r,p,k));let C=Ge(r[3]),V=[];for(let k=0;k<C.length;k+=1)V[k]=ql(Ol(r,C,k));let P=r[3].length===0&&Gl();return{c(){e=c("div"),t=c("div"),l=c("table"),n=c("thead"),n.innerHTML=d,o=x(),f=c("tbody");for(let k=0;k<v.length;k+=1)v[k].c();_=x(),b=c("div");for(let k=0;k<V.length;k+=1)V[k].c();w=x(),P&&P.c(),m=x(),y=c("div"),L=U("Mostrando "),I=U(T),S=U(" de "),N=U(E),B=U(" usuarios"),this.h()},l(k){e=i(k,"DIV",{class:!0});var A=h(e);t=i(A,"DIV",{class:!0});var D=h(t);l=i(D,"TABLE",{class:!0});var j=h(l);n=i(j,"THEAD",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-1u7mm2j"&&(n.innerHTML=d),o=g(j),f=i(j,"TBODY",{class:!0});var R=h(f);for(let H=0;H<v.length;H+=1)v[H].l(R);R.forEach(u),j.forEach(u),D.forEach(u),A.forEach(u),_=g(k),b=i(k,"DIV",{class:!0});var F=h(b);for(let H=0;H<V.length;H+=1)V[H].l(F);F.forEach(u),w=g(k),P&&P.l(k),m=g(k),y=i(k,"DIV",{class:!0});var Q=h(y);L=O(Q,"Mostrando "),I=O(Q,T),S=O(Q," de "),N=O(Q,E),B=O(Q," usuarios"),Q.forEach(u),this.h()},h(){a(n,"class","bg-white/5 border-b border-white/10"),a(f,"class","divide-y divide-white/5"),a(l,"class","w-full"),a(t,"class","overflow-x-auto"),a(e,"class","hidden md:block bg-white/5 border border-white/10 rounded-2xl overflow-hidden"),a(b,"class","md:hidden space-y-4"),a(y,"class","px-2 py-4 text-sm text-slate-500 text-center")},m(k,A){W(k,e,A),s(e,t),s(t,l),s(l,n),s(l,o),s(l,f);for(let D=0;D<v.length;D+=1)v[D]&&v[D].m(f,null);W(k,_,A),W(k,b,A);for(let D=0;D<V.length;D+=1)V[D]&&V[D].m(b,null);W(k,w,A),P&&P.m(k,A),W(k,m,A),W(k,y,A),s(y,L),s(y,I),s(y,S),s(y,N),s(y,B)},p(k,A){if(A&968){p=Ge(k[3]);let D;for(D=0;D<p.length;D+=1){const j=Ul(k,p,D);v[D]?v[D].p(j,A):(v[D]=Rl(j),v[D].c(),v[D].m(f,null))}for(;D<v.length;D+=1)v[D].d(1);v.length=p.length}if(A&968){C=Ge(k[3]);let D;for(D=0;D<C.length;D+=1){const j=Ol(k,C,D);V[D]?V[D].p(j,A):(V[D]=ql(j),V[D].c(),V[D].m(b,null))}for(;D<V.length;D+=1)V[D].d(1);V.length=C.length}k[3].length===0?P||(P=Gl(),P.c(),P.m(m.parentNode,m)):P&&(P.d(1),P=null),A&8&&T!==(T=k[3].length+"")&&pe(I,T),A&4&&E!==(E=k[2].length+"")&&pe(N,E)},d(k){k&&(u(e),u(_),u(b),u(w),u(m),u(y)),bt(v,k),bt(V,k),P&&P.d(k)}}}function cr(r){let e,t='<div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-white/20 border-t-white"></div> <p class="mt-4 text-slate-400">Cargando usuarios...</p>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-lu67yh"&&(e.innerHTML=t),this.h()},h(){a(e,"class","text-center py-12")},m(l,n){W(l,e,n)},p:qe,d(l){l&&u(e)}}}function jl(r){let e,t="‚úì Verificado";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1gg5uyn"&&(e.textContent=t),this.h()},h(){a(e,"class","inline-flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-300 rounded-lg text-xs font-bold")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function Fl(r){let e,t="üëë Admin";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1ie2xqt"&&(e.textContent=t),this.h()},h(){a(e,"class","inline-flex items-center gap-1 px-2 py-1 bg-red-500/20 text-red-300 rounded-lg text-xs font-bold")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function Rl(r){let e,t,l,n,d=(r[22].displayName||"Sin nombre")+"",o,f,_,b=r[22].email+"",w,m,y,L=r[22].uid+"",T,I,S,E,N,B="Free",p,v="PRO",C,V,P,k,A,D,j,R,F,Q=r[22].isVerified?"‚úó":"‚úì",H,G,q,X,Y,K,se,ce,ee,te,le="üóëÔ∏è",fe,be,we;function _e(...ue){return r[12](r[22],...ue)}let oe=r[22].isVerified&&jl(),J=r[22].isAdmin&&Fl();function ie(){return r[13](r[22])}function ne(){return r[14](r[22])}function me(){return r[15](r[22])}return{c(){e=c("tr"),t=c("td"),l=c("div"),n=c("p"),o=U(d),f=x(),_=c("p"),w=U(b),m=x(),y=c("p"),T=U(L),I=x(),S=c("td"),E=c("select"),N=c("option"),N.textContent=B,p=c("option"),p.textContent=v,V=x(),P=c("td"),k=c("div"),oe&&oe.c(),A=x(),J&&J.c(),D=x(),j=c("td"),R=c("div"),F=c("button"),H=U(Q),X=x(),Y=c("button"),K=U("üëë"),ee=x(),te=c("button"),te.textContent=le,fe=x(),this.h()},l(ue){e=i(ue,"TR",{class:!0});var de=h(e);t=i(de,"TD",{class:!0});var Te=h(t);l=i(Te,"DIV",{});var ae=h(l);n=i(ae,"P",{class:!0});var ve=h(n);o=O(ve,d),ve.forEach(u),f=g(ae),_=i(ae,"P",{class:!0});var ye=h(_);w=O(ye,b),ye.forEach(u),m=g(ae),y=i(ae,"P",{class:!0});var Ae=h(y);T=O(Ae,L),Ae.forEach(u),ae.forEach(u),Te.forEach(u),I=g(de),S=i(de,"TD",{class:!0});var re=h(S);E=i(re,"SELECT",{class:!0});var Z=h(E);N=i(Z,"OPTION",{"data-svelte-h":!0}),M(N)!=="svelte-88bi0a"&&(N.textContent=B),p=i(Z,"OPTION",{"data-svelte-h":!0}),M(p)!=="svelte-1k6mio0"&&(p.textContent=v),Z.forEach(u),re.forEach(u),V=g(de),P=i(de,"TD",{class:!0});var De=h(P);k=i(De,"DIV",{class:!0});var Ve=h(k);oe&&oe.l(Ve),A=g(Ve),J&&J.l(Ve),Ve.forEach(u),De.forEach(u),D=g(de),j=i(de,"TD",{class:!0});var Ne=h(j);R=i(Ne,"DIV",{class:!0});var $=h(R);F=i($,"BUTTON",{class:!0,title:!0});var Be=h(F);H=O(Be,Q),Be.forEach(u),X=g($),Y=i($,"BUTTON",{class:!0,title:!0});var Pe=h(Y);K=O(Pe,"üëë"),Pe.forEach(u),ee=g($),te=i($,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),M(te)!=="svelte-bnd7n"&&(te.textContent=le),$.forEach(u),Ne.forEach(u),fe=g(de),de.forEach(u),this.h()},h(){a(n,"class","font-medium text-white"),a(_,"class","text-sm text-slate-400"),a(y,"class","text-xs text-slate-500 font-mono mt-1"),a(t,"class","px-6 py-4"),N.__value="free",He(N,N.__value),p.__value="pro",He(p,p.__value),a(E,"class","px-3 py-1.5 rounded-lg text-xs font-bold bg-midnight-800 border border-white/20 text-white focus:outline-none focus:border-primary-500"),a(S,"class","px-6 py-4"),a(k,"class","flex flex-wrap gap-2"),a(P,"class","px-6 py-4"),a(F,"class",G="p-2 rounded-lg transition-colors "+(r[22].isVerified?"bg-red-500/20 text-red-300":"bg-green-500/20 text-green-300")),a(F,"title",q=r[22].isVerified?"Quitar verificado":"Verificar"),a(Y,"class",se="p-2 rounded-lg transition-colors "+(r[22].isAdmin?"bg-orange-500/20 text-orange-300":"bg-slate-500/20 text-slate-300")),a(Y,"title",ce=r[22].isAdmin?"Quitar admin":"Hacer admin"),a(te,"class","p-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors"),a(te,"title","Eliminar usuario"),a(R,"class","flex items-center justify-end gap-2"),a(j,"class","px-6 py-4 text-right"),a(e,"class","hover:bg-white/5 transition-colors")},m(ue,de){W(ue,e,de),s(e,t),s(t,l),s(l,n),s(n,o),s(l,f),s(l,_),s(_,w),s(l,m),s(l,y),s(y,T),s(e,I),s(e,S),s(S,E),s(E,N),s(E,p),ft(E,r[22].subscriptionTier||"free"),s(e,V),s(e,P),s(P,k),oe&&oe.m(k,null),s(k,A),J&&J.m(k,null),s(e,D),s(e,j),s(j,R),s(R,F),s(F,H),s(R,X),s(R,Y),s(Y,K),s(R,ee),s(R,te),s(e,fe),be||(we=[xe(E,"change",_e),xe(F,"click",ie),xe(Y,"click",ne),xe(te,"click",me)],be=!0)},p(ue,de){r=ue,de&8&&d!==(d=(r[22].displayName||"Sin nombre")+"")&&pe(o,d),de&8&&b!==(b=r[22].email+"")&&pe(w,b),de&8&&L!==(L=r[22].uid+"")&&pe(T,L),de&8&&C!==(C=r[22].subscriptionTier||"free")&&ft(E,r[22].subscriptionTier||"free"),r[22].isVerified?oe||(oe=jl(),oe.c(),oe.m(k,A)):oe&&(oe.d(1),oe=null),r[22].isAdmin?J||(J=Fl(),J.c(),J.m(k,null)):J&&(J.d(1),J=null),de&8&&Q!==(Q=r[22].isVerified?"‚úó":"‚úì")&&pe(H,Q),de&8&&G!==(G="p-2 rounded-lg transition-colors "+(r[22].isVerified?"bg-red-500/20 text-red-300":"bg-green-500/20 text-green-300"))&&a(F,"class",G),de&8&&q!==(q=r[22].isVerified?"Quitar verificado":"Verificar")&&a(F,"title",q),de&8&&se!==(se="p-2 rounded-lg transition-colors "+(r[22].isAdmin?"bg-orange-500/20 text-orange-300":"bg-slate-500/20 text-slate-300"))&&a(Y,"class",se),de&8&&ce!==(ce=r[22].isAdmin?"Quitar admin":"Hacer admin")&&a(Y,"title",ce)},d(ue){ue&&u(e),oe&&oe.d(),J&&J.d(),be=!1,lt(we)}}}function Hl(r){let e,t="‚úì Verificado";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-bgtm45"&&(e.textContent=t),this.h()},h(){a(e,"class","inline-flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-300 rounded-lg text-xs font-bold")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function zl(r){let e,t="üëë Admin";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-hye89r"&&(e.textContent=t),this.h()},h(){a(e,"class","inline-flex items-center gap-1 px-2 py-1 bg-red-500/20 text-red-300 rounded-lg text-xs font-bold")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function ql(r){let e,t,l,n,d=(r[22].displayName||"Sin nombre")+"",o,f,_,b=r[22].email+"",w,m,y,L=r[22].uid+"",T,I,S,E,N,B="Free",p,v="PRO",C,V,P,k,A,D,j,R=r[22].isVerified?"Quitar":"Verificar",F,Q,H,G,q,X,Y,K,se="Eliminar",ce,ee,te;function le(...J){return r[16](r[22],...J)}let fe=r[22].isVerified&&Hl(),be=r[22].isAdmin&&zl();function we(){return r[17](r[22])}function _e(){return r[18](r[22])}function oe(){return r[19](r[22])}return{c(){e=c("div"),t=c("div"),l=c("div"),n=c("p"),o=U(d),f=x(),_=c("p"),w=U(b),m=x(),y=c("p"),T=U(L),I=x(),S=c("div"),E=c("select"),N=c("option"),N.textContent=B,p=c("option"),p.textContent=v,V=x(),P=c("div"),fe&&fe.c(),k=x(),be&&be.c(),A=x(),D=c("div"),j=c("button"),F=U(R),H=x(),G=c("button"),q=U("Admin"),Y=x(),K=c("button"),K.textContent=se,ce=x(),this.h()},l(J){e=i(J,"DIV",{class:!0});var ie=h(e);t=i(ie,"DIV",{class:!0});var ne=h(t);l=i(ne,"DIV",{class:!0});var me=h(l);n=i(me,"P",{class:!0});var ue=h(n);o=O(ue,d),ue.forEach(u),f=g(me),_=i(me,"P",{class:!0});var de=h(_);w=O(de,b),de.forEach(u),m=g(me),y=i(me,"P",{class:!0});var Te=h(y);T=O(Te,L),Te.forEach(u),me.forEach(u),I=g(ne),S=i(ne,"DIV",{class:!0});var ae=h(S);E=i(ae,"SELECT",{class:!0});var ve=h(E);N=i(ve,"OPTION",{"data-svelte-h":!0}),M(N)!=="svelte-88bi0a"&&(N.textContent=B),p=i(ve,"OPTION",{"data-svelte-h":!0}),M(p)!=="svelte-1k6mio0"&&(p.textContent=v),ve.forEach(u),ae.forEach(u),ne.forEach(u),V=g(ie),P=i(ie,"DIV",{class:!0});var ye=h(P);fe&&fe.l(ye),k=g(ye),be&&be.l(ye),ye.forEach(u),A=g(ie),D=i(ie,"DIV",{class:!0});var Ae=h(D);j=i(Ae,"BUTTON",{class:!0});var re=h(j);F=O(re,R),re.forEach(u),H=g(Ae),G=i(Ae,"BUTTON",{class:!0});var Z=h(G);q=O(Z,"Admin"),Z.forEach(u),Y=g(Ae),K=i(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),M(K)!=="svelte-ae2lyr"&&(K.textContent=se),Ae.forEach(u),ce=g(ie),ie.forEach(u),this.h()},h(){a(n,"class","font-bold text-white text-lg break-all"),a(_,"class","text-sm text-slate-400 break-all"),a(y,"class","text-xs text-slate-600 font-mono mt-1 text-ellipsis overflow-hidden w-full"),a(l,"class","flex-1 pr-4"),N.__value="free",He(N,N.__value),p.__value="pro",He(p,p.__value),a(E,"class","px-3 py-1 rounded-lg text-xs font-bold bg-midnight-800 border border-white/20 text-white"),a(S,"class","flex flex-col gap-2 items-end flex-shrink-0"),a(t,"class","flex justify-between items-start"),a(P,"class","flex flex-wrap gap-2"),a(j,"class",Q="py-2 px-3 rounded-lg font-medium text-xs flex items-center justify-center gap-1 transition-colors "+(r[22].isVerified?"bg-red-500/20 text-red-300":"bg-green-500/20 text-green-300")),a(G,"class",X="py-2 px-3 rounded-lg font-medium text-xs flex items-center justify-center gap-1 transition-colors "+(r[22].isAdmin?"bg-orange-500/20 text-orange-300":"bg-slate-500/20 text-slate-300")),a(K,"class","py-2 px-3 bg-red-500/10 text-red-400 hover:bg-red-500/20 rounded-lg font-medium text-xs flex items-center justify-center gap-1 transition-colors"),a(D,"class","grid grid-cols-3 gap-2 pt-4 border-t border-white/10"),a(e,"class","bg-white/5 border border-white/10 rounded-2xl p-5 space-y-4")},m(J,ie){W(J,e,ie),s(e,t),s(t,l),s(l,n),s(n,o),s(l,f),s(l,_),s(_,w),s(l,m),s(l,y),s(y,T),s(t,I),s(t,S),s(S,E),s(E,N),s(E,p),ft(E,r[22].subscriptionTier||"free"),s(e,V),s(e,P),fe&&fe.m(P,null),s(P,k),be&&be.m(P,null),s(e,A),s(e,D),s(D,j),s(j,F),s(D,H),s(D,G),s(G,q),s(D,Y),s(D,K),s(e,ce),ee||(te=[xe(E,"change",le),xe(j,"click",we),xe(G,"click",_e),xe(K,"click",oe)],ee=!0)},p(J,ie){r=J,ie&8&&d!==(d=(r[22].displayName||"Sin nombre")+"")&&pe(o,d),ie&8&&b!==(b=r[22].email+"")&&pe(w,b),ie&8&&L!==(L=r[22].uid+"")&&pe(T,L),ie&8&&C!==(C=r[22].subscriptionTier||"free")&&ft(E,r[22].subscriptionTier||"free"),r[22].isVerified?fe||(fe=Hl(),fe.c(),fe.m(P,k)):fe&&(fe.d(1),fe=null),r[22].isAdmin?be||(be=zl(),be.c(),be.m(P,null)):be&&(be.d(1),be=null),ie&8&&R!==(R=r[22].isVerified?"Quitar":"Verificar")&&pe(F,R),ie&8&&Q!==(Q="py-2 px-3 rounded-lg font-medium text-xs flex items-center justify-center gap-1 transition-colors "+(r[22].isVerified?"bg-red-500/20 text-red-300":"bg-green-500/20 text-green-300"))&&a(j,"class",Q),ie&8&&X!==(X="py-2 px-3 rounded-lg font-medium text-xs flex items-center justify-center gap-1 transition-colors "+(r[22].isAdmin?"bg-orange-500/20 text-orange-300":"bg-slate-500/20 text-slate-300"))&&a(G,"class",X)},d(J){J&&u(e),fe&&fe.d(),be&&be.d(),ee=!1,lt(te)}}}function Gl(r){let e,t="<p>No se encontraron usuarios con esos criterios</p>";return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-uvtmff"&&(e.innerHTML=t),this.h()},h(){a(e,"class","text-center py-12 text-slate-400")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function ur(r){let e,t,l='<h2 class="text-2xl font-bold text-white mb-2">Gesti√≥n de Usuarios</h2> <p class="text-slate-400">Ver, editar, verificar y gestionar todos los usuarios</p>',n,d,o,f,_,b,w="Buscar Usuario",m,y,L,T,I,S="Filtrar",E,N,B,p="Todos",v,C="Solo Verificados",V,P="Solo No Verificados",k,A="Solo PRO",D,j="Solo Admins",R,F,Q,H=r[5]&&Ml(r);function G(Y,K){return Y[4]?cr:ir}let q=G(r),X=q(r);return{c(){e=c("div"),t=c("div"),t.innerHTML=l,n=x(),H&&H.c(),d=x(),o=c("div"),f=c("div"),_=c("div"),b=c("label"),b.textContent=w,m=x(),y=c("input"),L=x(),T=c("div"),I=c("label"),I.textContent=S,E=x(),N=c("select"),B=c("option"),B.textContent=p,v=c("option"),v.textContent=C,V=c("option"),V.textContent=P,k=c("option"),k.textContent=A,D=c("option"),D.textContent=j,R=x(),X.c(),this.h()},l(Y){e=i(Y,"DIV",{class:!0});var K=h(e);t=i(K,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1tpbpwe"&&(t.innerHTML=l),n=g(K),H&&H.l(K),d=g(K),o=i(K,"DIV",{class:!0});var se=h(o);f=i(se,"DIV",{class:!0});var ce=h(f);_=i(ce,"DIV",{class:!0});var ee=h(_);b=i(ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(b)!=="svelte-3uf3xl"&&(b.textContent=w),m=g(ee),y=i(ee,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),ee.forEach(u),L=g(ce),T=i(ce,"DIV",{});var te=h(T);I=i(te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(I)!=="svelte-1xgezz5"&&(I.textContent=S),E=g(te),N=i(te,"SELECT",{id:!0,class:!0});var le=h(N);B=i(le,"OPTION",{class:!0,"data-svelte-h":!0}),M(B)!=="svelte-sdd69m"&&(B.textContent=p),v=i(le,"OPTION",{class:!0,"data-svelte-h":!0}),M(v)!=="svelte-e6v8ea"&&(v.textContent=C),V=i(le,"OPTION",{class:!0,"data-svelte-h":!0}),M(V)!=="svelte-1gezb5u"&&(V.textContent=P),k=i(le,"OPTION",{class:!0,"data-svelte-h":!0}),M(k)!=="svelte-85quep"&&(k.textContent=A),D=i(le,"OPTION",{class:!0,"data-svelte-h":!0}),M(D)!=="svelte-1n3xy0y"&&(D.textContent=j),le.forEach(u),te.forEach(u),ce.forEach(u),se.forEach(u),R=g(K),X.l(K),K.forEach(u),this.h()},h(){a(t,"class","mb-6"),a(b,"for","user-search-input"),a(b,"class","block text-sm font-medium mb-2 text-white"),a(y,"id","user-search-input"),a(y,"type","text"),a(y,"placeholder","Email, nombre o UID..."),a(y,"class","w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-primary-500/50 focus:bg-white/10 transition-all placeholder:text-slate-500"),a(_,"class","md:col-span-2"),a(I,"for","user-filter-select"),a(I,"class","block text-sm font-medium mb-2 text-white"),B.__value="all",He(B,B.__value),a(B,"class","bg-[#0B1120]"),v.__value="verified",He(v,v.__value),a(v,"class","bg-[#0B1120]"),V.__value="unverified",He(V,V.__value),a(V,"class","bg-[#0B1120]"),k.__value="pro",He(k,k.__value),a(k,"class","bg-[#0B1120]"),D.__value="admin",He(D,D.__value),a(D,"class","bg-[#0B1120]"),a(N,"id","user-filter-select"),a(N,"class","w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-primary-500/50 focus:bg-white/10 transition-all"),r[1]===void 0&&yt(()=>r[11].call(N)),a(f,"class","grid md:grid-cols-3 gap-4"),a(o,"class","bg-[#131b2e]/40 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-6"),a(e,"class","animate-fade-in")},m(Y,K){W(Y,e,K),s(e,t),s(e,n),H&&H.m(e,null),s(e,d),s(e,o),s(o,f),s(f,_),s(_,b),s(_,m),s(_,y),He(y,r[0]),s(f,L),s(f,T),s(T,I),s(T,E),s(T,N),s(N,B),s(N,v),s(N,V),s(N,k),s(N,D),ft(N,r[1],!0),s(e,R),X.m(e,null),F||(Q=[xe(y,"input",r[10]),xe(N,"change",r[11])],F=!0)},p(Y,[K]){Y[5]?H?H.p(Y,K):(H=Ml(Y),H.c(),H.m(e,d)):H&&(H.d(1),H=null),K&1&&y.value!==Y[0]&&He(y,Y[0]),K&2&&ft(N,Y[1]),q===(q=G(Y))&&X?X.p(Y,K):(X.d(1),X=q(Y),X&&(X.c(),X.m(e,null)))},i:qe,o:qe,d(Y){Y&&u(e),H&&H.d(),X.d(),F=!1,lt(Q)}}}function dr(r,e,t){let l=[],n=[],d=!0,o="",f="all",_="";Dt(async()=>{await b()});async function b(){t(4,d=!0);try{const k=Nt(Xe,"users"),A=jt(k,zt("createdAt","desc"),Ks(200)),D=await pl(A);t(2,l=D.docs.map(j=>({uid:j.id,...j.data()}))),w()}catch(k){console.error(k),t(5,_="‚ùå Error al cargar usuarios: "+k.message)}finally{t(4,d=!1)}}function w(){t(3,n=l.filter(k=>{const A=k.email.toLowerCase().includes(o.toLowerCase())||k.displayName?.toLowerCase().includes(o.toLowerCase())||k.uid.toLowerCase().includes(o.toLowerCase()),D=f==="all"||f==="verified"&&k.isVerified||f==="unverified"&&!k.isVerified||f==="pro"&&k.subscriptionTier==="pro"||f==="admin"&&k.isAdmin;return A&&D}))}async function m(k){try{const A=!k.isVerified,D=[],j=ot(Xe,"users",k.uid);D.push(pt(j,{isVerified:A,updatedAt:Date.now()}));try{const{getDoc:R}=await cl(async()=>{const{getDoc:H}=await import("../chunks/Bkee_T1r.js").then(G=>G.i);return{getDoc:H}},__vite__mapDeps([0,1,2,3]),import.meta.url),F=ot(Xe,"artists",k.uid);(await R(F)).exists()&&D.push(pt(F,{isVerified:A}))}catch(R){console.warn("Could not sync with artist profile:",R)}await Promise.all(D),k.isVerified=A,t(2,l),t(5,_=`‚úÖ ${k.email} ${A?"verificado":"desverificado"} correctamente`),setTimeout(()=>t(5,_=""),3e3)}catch(A){console.error(A),t(5,_="‚ùå Error: "+A.message)}}async function y(k){if(confirm(`¬ø${k.isAdmin?"Quitar":"Dar"} permisos de ADMIN a ${k.email}?`))try{const A=ot(Xe,"users",k.uid),D=!k.isAdmin;await pt(A,{isAdmin:D,updatedAt:Date.now()}),k.isAdmin=D,t(2,l),t(5,_=`‚úÖ ${k.email} ${D?"es":"ya no es"} admin`),setTimeout(()=>t(5,_=""),3e3)}catch(A){t(5,_="‚ùå Error: "+A.message)}}async function L(k,A){if(confirm(`¬øCambiar plan de ${k.email} a ${A.toUpperCase()}?`))try{const D=ot(Xe,"users",k.uid);await pt(D,{subscriptionTier:A,updatedAt:Date.now()}),k.subscriptionTier=A,t(2,l),t(5,_=`‚úÖ Plan de ${k.email} cambiado a ${A.toUpperCase()}`),setTimeout(()=>t(5,_=""),3e3)}catch(D){t(5,_="‚ùå Error: "+D.message)}}async function T(k){if(confirm(`‚ö†Ô∏è ¬øELIMINAR PERMANENTEMENTE a ${k.email}?

Esta acci√≥n NO se puede deshacer.`)&&confirm(`¬øEst√°s SEGURO? Esto eliminar√°:
- Usuario
- Sus datos
- Su perfil de artista (si existe)`))try{await Ht(ot(Xe,"users",k.uid));try{await Ht(ot(Xe,"artists",k.uid))}catch{}t(2,l=l.filter(A=>A.uid!==k.uid)),w(),t(5,_=`‚úÖ Usuario ${k.email} eliminado permanentemente`),setTimeout(()=>t(5,_=""),5e3)}catch(A){t(5,_="‚ùå Error al eliminar: "+A.message)}}function I(){o=this.value,t(0,o)}function S(){f=Mt(this),t(1,f)}const E=(k,A)=>L(k,A.currentTarget.value),N=k=>m(k),B=k=>y(k),p=k=>T(k),v=(k,A)=>L(k,A.currentTarget.value),C=k=>m(k),V=k=>y(k),P=k=>T(k);return r.$$.update=()=>{r.$$.dirty&3&&w()},[o,f,l,n,d,_,m,y,L,T,I,S,E,N,B,p,v,C,V,P]}class fr extends Ct{constructor(e){super(),Et(this,e,dr,ur,Tt,{})}}function Kl(r,e,t){const l=r.slice();return l[17]=e[t],l}function Ql(r){let e,t;return{c(){e=c("div"),t=U(r[4]),this.h()},l(l){e=i(l,"DIV",{class:!0});var n=h(e);t=O(n,r[4]),n.forEach(u),this.h()},h(){a(e,"class","mb-6 p-4 bg-white/10 border border-white/20 rounded-xl")},m(l,n){W(l,e,n),s(e,t)},p(l,n){n&16&&pe(t,l[4])},d(l){l&&u(e)}}}function hr(r){let e,t=Ge(r[2]),l=[];for(let n=0;n<t.length;n+=1)l[n]=Zl(Kl(r,t,n));return{c(){e=c("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=i(n,"DIV",{class:!0});var d=h(e);for(let o=0;o<l.length;o+=1)l[o].l(d);d.forEach(u),this.h()},h(){a(e,"class","space-y-4")},m(n,d){W(n,e,d);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,d){if(d&100){t=Ge(n[2]);let o;for(o=0;o<t.length;o+=1){const f=Kl(n,t,o);l[o]?l[o].p(f,d):(l[o]=Zl(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),bt(l,n)}}}function pr(r){let e,t,l,n,d,o,f=(r[0]!=="all"?r[0]:"")+"",_;return{c(){e=c("div"),t=dl("svg"),l=dl("path"),n=x(),d=c("p"),o=U("No hay propuestas "),_=U(f),this.h()},l(b){e=i(b,"DIV",{class:!0});var w=h(e);t=ul(w,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var m=h(t);l=ul(m,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(l).forEach(u),m.forEach(u),n=g(w),d=i(w,"P",{});var y=h(d);o=O(y,"No hay propuestas "),_=O(y,f),y.forEach(u),w.forEach(u),this.h()},h(){a(l,"stroke-linecap","round"),a(l,"stroke-linejoin","round"),a(l,"stroke-width","2"),a(l,"d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"),a(t,"class","w-16 h-16 mx-auto mb-4 opacity-50"),a(t,"fill","none"),a(t,"stroke","currentColor"),a(t,"viewBox","0 0 24 24"),a(e,"class","text-center py-12 text-slate-400")},m(b,w){W(b,e,w),s(e,t),s(t,l),s(e,n),s(e,d),s(d,o),s(d,_)},p(b,w){w&1&&f!==(f=(b[0]!=="all"?b[0]:"")+"")&&pe(_,f)},d(b){b&&u(e)}}}function vr(r){let e,t='<div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-white/20 border-t-white"></div> <p class="mt-4 text-slate-400">Cargando propuestas...</p>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1wi6778"&&(e.innerHTML=t),this.h()},h(){a(e,"class","text-center py-12")},m(l,n){W(l,e,n)},p:qe,d(l){l&&u(e)}}}function Jl(r){let e,t="‚úì Aprobar",l,n,d="‚úó Rechazar",o,f;function _(){return r[11](r[17])}function b(){return r[12](r[17])}return{c(){e=c("button"),e.textContent=t,l=x(),n=c("button"),n.textContent=d,this.h()},l(w){e=i(w,"BUTTON",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1penfwf"&&(e.textContent=t),l=g(w),n=i(w,"BUTTON",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-1qxqj6h"&&(n.textContent=d),this.h()},h(){a(e,"class","px-4 py-2 bg-green-500/20 text-green-300 hover:bg-green-500/30 rounded-lg font-medium text-sm transition-colors"),a(n,"class","px-4 py-2 bg-red-500/20 text-red-300 hover:bg-red-500/30 rounded-lg font-medium text-sm transition-colors")},m(w,m){W(w,e,m),W(w,l,m),W(w,n,m),o||(f=[xe(e,"click",_),xe(n,"click",b)],o=!0)},p(w,m){r=w},d(w){w&&(u(e),u(l),u(n)),o=!1,lt(f)}}}function Xl(r){let e,t="üéâ Marcar como Implementada",l,n;function d(){return r[13](r[17])}return{c(){e=c("button"),e.textContent=t,this.h()},l(o){e=i(o,"BUTTON",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1sp20mr"&&(e.textContent=t),this.h()},h(){a(e,"class","px-4 py-2 bg-blue-500/20 text-blue-300 hover:bg-blue-500/30 rounded-lg font-medium text-sm transition-colors")},m(o,f){W(o,e,f),l||(n=xe(e,"click",d),l=!0)},p(o,f){r=o},d(o){o&&u(e),l=!1,n()}}}function Zl(r){let e,t,l,n,d,o=Wl(r[17].category)+"",f,_,b,w=r[17].title+"",m,y,L,T=r[17].description+"",I,S,E,N,B,p=r[17].author+"",v,C,V,P="‚Ä¢",k,A,D,j=r[17].votes+"",R,F,Q,H,G="‚Ä¢",q,X,Y=new Date(r[17].createdAt?.seconds*1e3).toLocaleDateString()+"",K,se,ce,ee=r[17].status.toUpperCase()+"",te,le,fe,be,we,_e,oe,J="üóëÔ∏è Eliminar",ie,ne,me,ue=r[17].status==="pending"&&Jl(r),de=r[17].status==="approved"&&Xl(r);function Te(){return r[14](r[17])}return{c(){e=c("div"),t=c("div"),l=c("div"),n=c("div"),d=c("span"),f=U(o),_=x(),b=c("h3"),m=U(w),y=x(),L=c("p"),I=U(T),S=x(),E=c("div"),N=c("span"),B=U("Por: "),v=U(p),C=x(),V=c("span"),V.textContent=P,k=x(),A=c("span"),D=U("üëç "),R=U(j),F=U(" votos"),Q=x(),H=c("span"),H.textContent=G,q=x(),X=c("span"),K=U(Y),se=x(),ce=c("span"),te=U(ee),fe=x(),be=c("div"),ue&&ue.c(),we=x(),de&&de.c(),_e=x(),oe=c("button"),oe.textContent=J,ie=x(),this.h()},l(ae){e=i(ae,"DIV",{class:!0});var ve=h(e);t=i(ve,"DIV",{class:!0});var ye=h(t);l=i(ye,"DIV",{class:!0});var Ae=h(l);n=i(Ae,"DIV",{class:!0});var re=h(n);d=i(re,"SPAN",{class:!0});var Z=h(d);f=O(Z,o),Z.forEach(u),_=g(re),b=i(re,"H3",{class:!0});var De=h(b);m=O(De,w),De.forEach(u),re.forEach(u),y=g(Ae),L=i(Ae,"P",{class:!0});var Ve=h(L);I=O(Ve,T),Ve.forEach(u),S=g(Ae),E=i(Ae,"DIV",{class:!0});var Ne=h(E);N=i(Ne,"SPAN",{});var $=h(N);B=O($,"Por: "),v=O($,p),$.forEach(u),C=g(Ne),V=i(Ne,"SPAN",{"data-svelte-h":!0}),M(V)!=="svelte-7hh8jk"&&(V.textContent=P),k=g(Ne),A=i(Ne,"SPAN",{});var Be=h(A);D=O(Be,"üëç "),R=O(Be,j),F=O(Be," votos"),Be.forEach(u),Q=g(Ne),H=i(Ne,"SPAN",{"data-svelte-h":!0}),M(H)!=="svelte-7hh8jk"&&(H.textContent=G),q=g(Ne),X=i(Ne,"SPAN",{});var Pe=h(X);K=O(Pe,Y),Pe.forEach(u),Ne.forEach(u),Ae.forEach(u),se=g(ye),ce=i(ye,"SPAN",{class:!0});var Ce=h(ce);te=O(Ce,ee),Ce.forEach(u),ye.forEach(u),fe=g(ve),be=i(ve,"DIV",{class:!0});var Ee=h(be);ue&&ue.l(Ee),we=g(Ee),de&&de.l(Ee),_e=g(Ee),oe=i(Ee,"BUTTON",{class:!0,"data-svelte-h":!0}),M(oe)!=="svelte-3v7neu"&&(oe.textContent=J),Ee.forEach(u),ie=g(ve),ve.forEach(u),this.h()},h(){a(d,"class","text-2xl"),a(b,"class","text-lg font-bold text-white"),a(n,"class","flex items-center gap-3 mb-2"),a(L,"class","text-slate-300 mb-3"),a(E,"class","flex items-center gap-4 text-sm text-slate-400"),a(l,"class","flex-1"),a(ce,"class",le="px-3 py-1 rounded-lg text-xs font-bold "+Yl(r[17].status)),a(t,"class","flex items-start justify-between mb-4"),a(oe,"class","px-4 py-2 bg-slate-500/20 text-slate-300 hover:bg-slate-500/30 rounded-lg font-medium text-sm transition-colors"),a(be,"class","flex gap-2 flex-wrap"),a(e,"class","bg-white/5 border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-colors")},m(ae,ve){W(ae,e,ve),s(e,t),s(t,l),s(l,n),s(n,d),s(d,f),s(n,_),s(n,b),s(b,m),s(l,y),s(l,L),s(L,I),s(l,S),s(l,E),s(E,N),s(N,B),s(N,v),s(E,C),s(E,V),s(E,k),s(E,A),s(A,D),s(A,R),s(A,F),s(E,Q),s(E,H),s(E,q),s(E,X),s(X,K),s(t,se),s(t,ce),s(ce,te),s(e,fe),s(e,be),ue&&ue.m(be,null),s(be,we),de&&de.m(be,null),s(be,_e),s(be,oe),s(e,ie),ne||(me=xe(oe,"click",Te),ne=!0)},p(ae,ve){r=ae,ve&4&&o!==(o=Wl(r[17].category)+"")&&pe(f,o),ve&4&&w!==(w=r[17].title+"")&&pe(m,w),ve&4&&T!==(T=r[17].description+"")&&pe(I,T),ve&4&&p!==(p=r[17].author+"")&&pe(v,p),ve&4&&j!==(j=r[17].votes+"")&&pe(R,j),ve&4&&Y!==(Y=new Date(r[17].createdAt?.seconds*1e3).toLocaleDateString()+"")&&pe(K,Y),ve&4&&ee!==(ee=r[17].status.toUpperCase()+"")&&pe(te,ee),ve&4&&le!==(le="px-3 py-1 rounded-lg text-xs font-bold "+Yl(r[17].status))&&a(ce,"class",le),r[17].status==="pending"?ue?ue.p(r,ve):(ue=Jl(r),ue.c(),ue.m(be,we)):ue&&(ue.d(1),ue=null),r[17].status==="approved"?de?de.p(r,ve):(de=Xl(r),de.c(),de.m(be,_e)):de&&(de.d(1),de=null)},d(ae){ae&&u(e),ue&&ue.d(),de&&de.d(),ne=!1,me()}}}function br(r){let e,t,l='<h2 class="text-2xl font-bold text-white mb-2">Propuestas de Usuarios PRO</h2> <p class="text-slate-400">Gestiona las propuestas de la comunidad</p>',n,d,o,f,_,b=r[1].length+"",w,m,y,L,T,I,S=r[1].filter($l).length+"",E,N,B,p,v,C,V=r[1].filter(es).length+"",P,k,A,D,j,R,F=r[1].filter(ts).length+"",Q,H,G,q,X,Y,K=r[4]&&Ql(r);function se(te,le){return te[3]?vr:te[2].length===0?pr:hr}let ce=se(r),ee=ce(r);return{c(){e=c("div"),t=c("div"),t.innerHTML=l,n=x(),K&&K.c(),d=x(),o=c("div"),f=c("button"),_=U("Todas ("),w=U(b),m=U(")"),L=x(),T=c("button"),I=U("Pendientes ("),E=U(S),N=U(")"),p=x(),v=c("button"),C=U("Aprobadas ("),P=U(V),k=U(")"),D=x(),j=c("button"),R=U("Implementadas ("),Q=U(F),H=U(")"),q=x(),ee.c(),this.h()},l(te){e=i(te,"DIV",{class:!0});var le=h(e);t=i(le,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-7l8sx0"&&(t.innerHTML=l),n=g(le),K&&K.l(le),d=g(le),o=i(le,"DIV",{class:!0});var fe=h(o);f=i(fe,"BUTTON",{class:!0});var be=h(f);_=O(be,"Todas ("),w=O(be,b),m=O(be,")"),be.forEach(u),L=g(fe),T=i(fe,"BUTTON",{class:!0});var we=h(T);I=O(we,"Pendientes ("),E=O(we,S),N=O(we,")"),we.forEach(u),p=g(fe),v=i(fe,"BUTTON",{class:!0});var _e=h(v);C=O(_e,"Aprobadas ("),P=O(_e,V),k=O(_e,")"),_e.forEach(u),D=g(fe),j=i(fe,"BUTTON",{class:!0});var oe=h(j);R=O(oe,"Implementadas ("),Q=O(oe,F),H=O(oe,")"),oe.forEach(u),fe.forEach(u),q=g(le),ee.l(le),le.forEach(u),this.h()},h(){a(t,"class","mb-6"),a(f,"class",y="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(r[0]==="all"?"bg-primary-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10")),a(T,"class",B="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(r[0]==="pending"?"bg-yellow-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10")),a(v,"class",A="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(r[0]==="approved"?"bg-green-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10")),a(j,"class",G="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(r[0]==="implemented"?"bg-blue-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10")),a(o,"class","mb-6 flex gap-2 overflow-x-auto pb-2"),a(e,"class","animate-fade-in")},m(te,le){W(te,e,le),s(e,t),s(e,n),K&&K.m(e,null),s(e,d),s(e,o),s(o,f),s(f,_),s(f,w),s(f,m),s(o,L),s(o,T),s(T,I),s(T,E),s(T,N),s(o,p),s(o,v),s(v,C),s(v,P),s(v,k),s(o,D),s(o,j),s(j,R),s(j,Q),s(j,H),s(e,q),ee.m(e,null),X||(Y=[xe(f,"click",r[7]),xe(T,"click",r[8]),xe(v,"click",r[9]),xe(j,"click",r[10])],X=!0)},p(te,[le]){te[4]?K?K.p(te,le):(K=Ql(te),K.c(),K.m(e,d)):K&&(K.d(1),K=null),le&2&&b!==(b=te[1].length+"")&&pe(w,b),le&1&&y!==(y="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(te[0]==="all"?"bg-primary-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(f,"class",y),le&2&&S!==(S=te[1].filter($l).length+"")&&pe(E,S),le&1&&B!==(B="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(te[0]==="pending"?"bg-yellow-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(T,"class",B),le&2&&V!==(V=te[1].filter(es).length+"")&&pe(P,V),le&1&&A!==(A="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(te[0]==="approved"?"bg-green-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(v,"class",A),le&2&&F!==(F=te[1].filter(ts).length+"")&&pe(Q,F),le&1&&G!==(G="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(te[0]==="implemented"?"bg-blue-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(j,"class",G),ce===(ce=se(te))&&ee?ee.p(te,le):(ee.d(1),ee=ce(te),ee&&(ee.c(),ee.m(e,null)))},i:qe,o:qe,d(te){te&&u(e),K&&K.d(),ee.d(),X=!1,lt(Y)}}}function Wl(r){return r==="album"?"üéµ":r==="feature"?"‚ö°":"üîß"}function Yl(r){return r==="approved"?"text-green-400 bg-green-500/20":r==="rejected"?"text-red-400 bg-red-500/20":r==="implemented"?"text-blue-400 bg-blue-500/20":"text-yellow-400 bg-yellow-500/20"}const $l=r=>r.status==="pending",es=r=>r.status==="approved",ts=r=>r.status==="implemented";function _r(r,e,t){let l=[],n=[],d=!0,o="all",f="";Dt(async()=>{await _()});async function _(){t(3,d=!0);try{const p=Nt(Xe,"proposals"),v=jt(p,zt("createdAt","desc")),C=await pl(v);t(1,l=C.docs.map(V=>({id:V.id,...V.data()}))),b()}catch(p){console.error(p),t(4,f="‚ùå Error al cargar propuestas: "+p.message)}finally{t(3,d=!1)}}function b(){t(2,n=l.filter(p=>o==="all"?!0:p.status===o))}async function w(p,v){try{const C=ot(Xe,"proposals",p.id);await pt(C,{status:v,updatedAt:Date.now()}),p.status=v,t(1,l),b(),t(4,f=`‚úÖ Propuesta "${p.title}" marcada como ${v}`),setTimeout(()=>t(4,f=""),3e3)}catch(C){t(4,f="‚ùå Error: "+C.message)}}async function m(p){if(confirm(`¬øEliminar propuesta "${p.title}"?`))try{await Ht(ot(Xe,"proposals",p.id)),t(1,l=l.filter(v=>v.id!==p.id)),b(),t(4,f="‚úÖ Propuesta eliminada"),setTimeout(()=>t(4,f=""),3e3)}catch(v){t(4,f="‚ùå Error: "+v.message)}}const y=()=>t(0,o="all"),L=()=>t(0,o="pending"),T=()=>t(0,o="approved"),I=()=>t(0,o="implemented"),S=p=>w(p,"approved"),E=p=>w(p,"rejected"),N=p=>w(p,"implemented"),B=p=>m(p);return r.$$.update=()=>{r.$$.dirty&1&&b()},[o,l,n,d,f,w,m,y,L,T,I,S,E,N,B]}class mr extends Ct{constructor(e){super(),Et(this,e,_r,br,Tt,{})}}function ls(r,e,t){const l=r.slice();return l[17]=e[t],l}function ss(r,e,t){const l=r.slice();return l[20]=e[t],l[22]=t,l}function rs(r,e,t){const l=r.slice();return l[20]=e[t],l[22]=t,l}function as(r){let e,t;return{c(){e=c("div"),t=U(r[2]),this.h()},l(l){e=i(l,"DIV",{class:!0});var n=h(e);t=O(n,r[2]),n.forEach(u),this.h()},h(){a(e,"class","mb-6 p-4 bg-white/10 border border-white/20 rounded-xl")},m(l,n){W(l,e,n),s(e,t)},p(l,n){n&4&&pe(t,l[2])},d(l){l&&u(e)}}}function gr(r){let e,t=Ge(r[0]),l=[];for(let n=0;n<t.length;n+=1)l[n]=cs(ls(r,t,n));return{c(){e=c("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=i(n,"DIV",{class:!0});var d=h(e);for(let o=0;o<l.length;o+=1)l[o].l(d);d.forEach(u),this.h()},h(){a(e,"class","space-y-6")},m(n,d){W(n,e,d);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,d){if(d&509){t=Ge(n[0]);let o;for(o=0;o<t.length;o+=1){const f=ls(n,t,o);l[o]?l[o].p(f,d):(l[o]=cs(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),bt(l,n)}}}function xr(r){let e,t="<p>No hay env√≠os pendientes</p>";return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1n3dbtg"&&(e.innerHTML=t),this.h()},h(){a(e,"class","text-center py-12 text-slate-400")},m(l,n){W(l,e,n)},p:qe,d(l){l&&u(e)}}}function wr(r){let e,t='<div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-white/20 border-t-white"></div> <p class="mt-4 text-slate-400">Cargando env√≠os recientes (max 50)...</p>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-nnds7w"&&(e.innerHTML=t),this.h()},h(){a(e,"class","text-center py-12")},m(l,n){W(l,e,n)},p:qe,d(l){l&&u(e)}}}function kr(r){let e,t="üî• Firebase";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1g6zc7o"&&(e.textContent=t),this.h()},h(){a(e,"class","px-2 py-1 bg-orange-500/20 text-orange-300 rounded-lg text-xs font-bold border border-orange-500/30 flex items-center gap-1")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function yr(r){let e,t="‚òÅÔ∏è R2 Direct";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-64srpi"&&(e.textContent=t),this.h()},h(){a(e,"class","px-2 py-1 bg-blue-500/20 text-blue-300 rounded-lg text-xs font-bold border border-blue-500/30 flex items-center gap-1")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function Cr(r){let e,t="Rechazado";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1pzzk3q"&&(e.textContent=t),this.h()},h(){a(e,"class","px-3 py-1 bg-red-500/20 text-red-300 rounded-full text-xs font-bold uppercase tracking-wider")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function Er(r){let e,t="Aprobado";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1ucl7zn"&&(e.textContent=t),this.h()},h(){a(e,"class","px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-xs font-bold uppercase tracking-wider")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function Tr(r){let e,t="Pendiente";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-130dpoz"&&(e.textContent=t),this.h()},h(){a(e,"class","px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-xs font-bold uppercase tracking-wider")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function Dr(r){let e,t="üíø";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1ap4kcx"&&(e.textContent=t),this.h()},h(){a(e,"class","w-full h-full flex items-center justify-center text-4xl")},m(l,n){W(l,e,n)},p:qe,d(l){l&&u(e)}}}function Ir(r){let e,t='<span class="text-2xl mb-1">üñºÔ∏è</span> <span class="text-[10px]">Cover en R2</span>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-5gdyl4"&&(e.innerHTML=t),this.h()},h(){a(e,"class","w-full h-full flex flex-col items-center justify-center bg-slate-800 text-slate-500 p-2 text-center")},m(l,n){W(l,e,n)},p:qe,d(l){l&&u(e)}}}function Ar(r){let e,t,l;return{c(){e=c("img"),this.h()},l(n){e=i(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){kt(e.src,t=r[17].coverUrl)||a(e,"src",t),a(e,"alt",l=r[17].releaseTitle),a(e,"class","w-full h-full object-cover")},m(n,d){W(n,e,d)},p(n,d){d&1&&!kt(e.src,t=n[17].coverUrl)&&a(e,"src",t),d&1&&l!==(l=n[17].releaseTitle)&&a(e,"alt",l)},d(n){n&&u(e)}}}function ns(r){let e,t,l="‚úì Aprobar",n,d,o="‚úó Rechazar",f,_;function b(){return r[9](r[17])}function w(){return r[10](r[17])}return{c(){e=c("div"),t=c("button"),t.textContent=l,n=x(),d=c("button"),d.textContent=o,this.h()},l(m){e=i(m,"DIV",{class:!0});var y=h(e);t=i(y,"BUTTON",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1qucpid"&&(t.textContent=l),n=g(y),d=i(y,"BUTTON",{class:!0,"data-svelte-h":!0}),M(d)!=="svelte-fs9am5"&&(d.textContent=o),y.forEach(u),this.h()},h(){a(t,"class","px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-bold text-sm transition-colors shadow-lg shadow-green-500/20"),a(d,"class","px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg font-bold text-sm transition-colors"),a(e,"class","flex gap-3")},m(m,y){W(m,e,y),s(e,t),s(e,n),s(e,d),f||(_=[xe(t,"click",b),xe(d,"click",w)],f=!0)},p(m,y){r=m},d(m){m&&u(e),f=!1,lt(_)}}}function Vr(r){let e,t,l,n="Enlace de Descarga",d,o,f=r[17].downloadLink+"",_,b,w,m,y,L="üìã Copiar",T,I,S,E,N,B;function p(){return r[13](r[17])}return{c(){e=c("div"),t=c("div"),l=c("p"),l.textContent=n,d=x(),o=c("a"),_=U(f),w=x(),m=c("div"),y=c("button"),y.textContent=L,T=x(),I=c("a"),S=U("‚¨áÔ∏è Abrir"),this.h()},l(v){e=i(v,"DIV",{class:!0});var C=h(e);t=i(C,"DIV",{class:!0});var V=h(t);l=i(V,"P",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-uv27p3"&&(l.textContent=n),d=g(V),o=i(V,"A",{href:!0,target:!0,class:!0});var P=h(o);_=O(P,f),P.forEach(u),V.forEach(u),w=g(C),m=i(C,"DIV",{class:!0});var k=h(m);y=i(k,"BUTTON",{class:!0,"data-svelte-h":!0}),M(y)!=="svelte-lti678"&&(y.textContent=L),T=g(k),I=i(k,"A",{href:!0,target:!0,class:!0});var A=h(I);S=O(A,"‚¨áÔ∏è Abrir"),A.forEach(u),k.forEach(u),C.forEach(u),this.h()},h(){a(l,"class","text-xs text-slate-500 mb-1"),a(o,"href",b=r[17].downloadLink),a(o,"target","_blank"),a(o,"class","text-blue-400 hover:text-blue-300 hover:underline truncate block font-mono text-sm transition-colors"),a(t,"class","flex-1 w-full overflow-hidden"),a(y,"class","flex-1 sm:flex-none px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg text-xs font-bold whitespace-nowrap transition-colors"),a(I,"href",E=r[17].downloadLink),a(I,"target","_blank"),a(I,"class","flex-1 sm:flex-none px-4 py-2 bg-primary-600 hover:bg-primary-500 text-white rounded-lg text-xs font-bold whitespace-nowrap transition-colors shadow-lg shadow-primary-900/20"),a(m,"class","flex gap-2 w-full sm:w-auto"),a(e,"class","flex flex-col sm:flex-row items-center gap-3 mb-6 bg-white/5 p-4 rounded-lg border border-white/5")},m(v,C){W(v,e,C),s(e,t),s(t,l),s(t,d),s(t,o),s(o,_),s(e,w),s(e,m),s(m,y),s(m,T),s(m,I),s(I,S),N||(B=xe(y,"click",p),N=!0)},p(v,C){r=v,C&1&&f!==(f=r[17].downloadLink+"")&&pe(_,f),C&1&&b!==(b=r[17].downloadLink)&&a(o,"href",b),C&1&&E!==(E=r[17].downloadLink)&&a(I,"href",E)},d(v){v&&u(e),N=!1,B()}}}function Nr(r){let e,t=Ge(r[17].audioFiles),l=[];for(let n=0;n<t.length;n+=1)l[n]=os(ss(r,t,n));return{c(){e=c("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=i(n,"DIV",{class:!0});var d=h(e);for(let o=0;o<l.length;o+=1)l[o].l(d);d.forEach(u),this.h()},h(){a(e,"class","space-y-2")},m(n,d){W(n,e,d);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,d){if(d&89){t=Ge(n[17].audioFiles);let o;for(o=0;o<t.length;o+=1){const f=ss(n,t,o);l[o]?l[o].p(f,d):(l[o]=os(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),bt(l,n)}}}function Pr(r){let e,t=Ge(r[17].r2AudioKeys),l=[];for(let n=0;n<t.length;n+=1)l[n]=is(rs(r,t,n));return{c(){e=c("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=i(n,"DIV",{class:!0});var d=h(e);for(let o=0;o<l.length;o+=1)l[o].l(d);d.forEach(u),this.h()},h(){a(e,"class","space-y-2")},m(n,d){W(n,e,d);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,d){if(d&57){t=Ge(n[17].r2AudioKeys);let o;for(o=0;o<t.length;o+=1){const f=rs(n,t,o);l[o]?l[o].p(f,d):(l[o]=is(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),bt(l,n)}}}function Sr(r){let e;return{c(){e=U("‚ñ∂")},l(t){e=O(t,"‚ñ∂")},m(t,l){W(t,e,l)},d(t){t&&u(e)}}}function Lr(r){let e;return{c(){e=U("‚è∏")},l(t){e=O(t,"‚è∏")},m(t,l){W(t,e,l)},d(t){t&&u(e)}}}function os(r){let e,t,l,n,d,o,f=r[20].name+"",_,b,w,m=(r[20].size/1024/1024).toFixed(2)+"",y,L,T,I,S;function E(v,C){return v[4]===v[20].key&&v[3]&&!v[3].paused?Lr:Sr}let N=E(r),B=N(r);function p(){return r[12](r[20])}return{c(){e=c("div"),t=c("button"),B.c(),n=x(),d=c("div"),o=c("p"),_=U(f),b=x(),w=c("p"),y=U(m),L=U(" MB"),T=x(),this.h()},l(v){e=i(v,"DIV",{class:!0});var C=h(e);t=i(C,"BUTTON",{class:!0});var V=h(t);B.l(V),V.forEach(u),n=g(C),d=i(C,"DIV",{class:!0});var P=h(d);o=i(P,"P",{class:!0});var k=h(o);_=O(k,f),k.forEach(u),b=g(P),w=i(P,"P",{class:!0});var A=h(w);y=O(A,m),L=O(A," MB"),A.forEach(u),P.forEach(u),T=g(C),C.forEach(u),this.h()},h(){a(t,"class",l="w-10 h-10 rounded-full flex items-center justify-center transition-all "+(r[4]===r[20].key?"bg-primary-500 text-white shadow-lg shadow-primary-500/20":"bg-white/10 text-white hover:bg-white/20")),a(o,"class","font-bold text-sm truncate text-white"),a(w,"class","text-xs text-slate-400"),a(d,"class","flex-1 overflow-hidden"),a(e,"class","flex items-center gap-4 bg-white/5 p-3 rounded-lg border border-white/5 hover:border-white/10 transition-all")},m(v,C){W(v,e,C),s(e,t),B.m(t,null),s(e,n),s(e,d),s(d,o),s(o,_),s(d,b),s(d,w),s(w,y),s(w,L),s(e,T),I||(S=xe(t,"click",p),I=!0)},p(v,C){r=v,N!==(N=E(r))&&(B.d(1),B=N(r),B&&(B.c(),B.m(t,null))),C&17&&l!==(l="w-10 h-10 rounded-full flex items-center justify-center transition-all "+(r[4]===r[20].key?"bg-primary-500 text-white shadow-lg shadow-primary-500/20":"bg-white/10 text-white hover:bg-white/20"))&&a(t,"class",l),C&1&&f!==(f=r[20].name+"")&&pe(_,f),C&1&&m!==(m=(r[20].size/1024/1024).toFixed(2)+"")&&pe(y,m)},d(v){v&&u(e),B.d(),I=!1,S()}}}function Br(r){let e;return{c(){e=U("‚ñ∂")},l(t){e=O(t,"‚ñ∂")},m(t,l){W(t,e,l)},d(t){t&&u(e)}}}function Or(r){let e;return{c(){e=U("‚è∏")},l(t){e=O(t,"‚è∏")},m(t,l){W(t,e,l)},d(t){t&&u(e)}}}function is(r){let e,t,l,n,d,o,f=r[20].name+"",_,b,w,m=(r[20].size/1024/1024).toFixed(2)+"",y,L,T,I,S;function E(v,C){return v[4]===v[20].key&&v[3]&&!v[3].paused?Or:Br}let N=E(r),B=N(r);function p(){return r[11](r[20])}return{c(){e=c("div"),t=c("button"),B.c(),n=x(),d=c("div"),o=c("p"),_=U(f),b=x(),w=c("p"),y=U(m),L=U(" MB"),T=x(),this.h()},l(v){e=i(v,"DIV",{class:!0});var C=h(e);t=i(C,"BUTTON",{class:!0});var V=h(t);B.l(V),V.forEach(u),n=g(C),d=i(C,"DIV",{class:!0});var P=h(d);o=i(P,"P",{class:!0});var k=h(o);_=O(k,f),k.forEach(u),b=g(P),w=i(P,"P",{class:!0});var A=h(w);y=O(A,m),L=O(A," MB"),A.forEach(u),P.forEach(u),T=g(C),C.forEach(u),this.h()},h(){a(t,"class",l="w-10 h-10 rounded-full flex items-center justify-center transition-all "+(r[4]===r[20].key?"bg-primary-500 text-white shadow-lg shadow-primary-500/20":"bg-white/10 text-white hover:bg-white/20")),a(o,"class","font-bold text-sm truncate text-white"),a(w,"class","text-xs text-slate-400"),a(d,"class","flex-1 overflow-hidden"),a(e,"class","flex items-center gap-4 bg-white/5 p-3 rounded-lg border border-white/5 hover:border-white/10 transition-all")},m(v,C){W(v,e,C),s(e,t),B.m(t,null),s(e,n),s(e,d),s(d,o),s(o,_),s(d,b),s(d,w),s(w,y),s(w,L),s(e,T),I||(S=xe(t,"click",p),I=!0)},p(v,C){r=v,N!==(N=E(r))&&(B.d(1),B=N(r),B&&(B.c(),B.m(t,null))),C&17&&l!==(l="w-10 h-10 rounded-full flex items-center justify-center transition-all "+(r[4]===r[20].key?"bg-primary-500 text-white shadow-lg shadow-primary-500/20":"bg-white/10 text-white hover:bg-white/20"))&&a(t,"class",l),C&1&&f!==(f=r[20].name+"")&&pe(_,f),C&1&&m!==(m=(r[20].size/1024/1024).toFixed(2)+"")&&pe(y,m)},d(v){v&&u(e),B.d(),I=!1,S()}}}function cs(r){let e,t,l,n,d,o,f,_,b,w=r[17].releaseTitle+"",m,y,L,T=r[17].artistName+"",I,S,E,N,B,p=r[17].genre+"",v,C,V,P,k=r[17].artistEmail+"",A,D,j,R,F=new Date(r[17].submittedAt?.seconds*1e3).toLocaleDateString()+"",Q,H,G,q,X,Y="<span>Material de Audio</span>",K,se,ce,ee,te="Tracklist Declarado",le,fe,be=(r[17].tracklist||"No especificado por el artista.")+"",we,_e;function oe(Z,De){if(Z[17].submissionType==="r2_direct")return yr;if(Z[17].submissionType==="firebase_direct")return kr}let J=oe(r),ie=J&&J(r);function ne(Z,De){return Z[17].status==="pending"?Tr:Z[17].status==="approved"?Er:Cr}let me=ne(r),ue=me(r);function de(Z,De){return Z[17].coverUrl?Ar:Z[17].r2CoverKey?Ir:Dr}let Te=de(r),ae=Te(r),ve=r[17].status==="pending"&&ns(r);function ye(Z,De){if(Z[17].submissionType==="r2_direct"&&Z[17].r2AudioKeys)return Pr;if(Z[17].submissionType==="firebase_direct"&&Z[17].audioFiles)return Nr;if(Z[17].downloadLink)return Vr}let Ae=ye(r),re=Ae&&Ae(r);return{c(){e=c("div"),t=c("div"),ie&&ie.c(),l=x(),ue.c(),n=x(),d=c("div"),o=c("div"),ae.c(),f=x(),_=c("div"),b=c("h3"),m=U(w),y=x(),L=c("p"),I=U(T),S=x(),E=c("div"),N=c("span"),B=U("üéµ "),v=U(p),C=x(),V=c("span"),P=U("üìß "),A=U(k),D=x(),j=c("span"),R=U("üìÖ "),Q=U(F),H=x(),ve&&ve.c(),G=x(),q=c("div"),X=c("h4"),X.innerHTML=Y,K=x(),re&&re.c(),se=x(),ce=c("div"),ee=c("p"),ee.textContent=te,le=x(),fe=c("pre"),we=U(be),_e=x(),this.h()},l(Z){e=i(Z,"DIV",{class:!0});var De=h(e);t=i(De,"DIV",{class:!0});var Ve=h(t);ie&&ie.l(Ve),l=g(Ve),ue.l(Ve),Ve.forEach(u),n=g(De),d=i(De,"DIV",{class:!0});var Ne=h(d);o=i(Ne,"DIV",{class:!0});var $=h(o);ae.l($),$.forEach(u),f=g(Ne),_=i(Ne,"DIV",{class:!0});var Be=h(_);b=i(Be,"H3",{class:!0});var Pe=h(b);m=O(Pe,w),Pe.forEach(u),y=g(Be),L=i(Be,"P",{class:!0});var Ce=h(L);I=O(Ce,T),Ce.forEach(u),S=g(Be),E=i(Be,"DIV",{class:!0});var Ee=h(E);N=i(Ee,"SPAN",{class:!0});var Oe=h(N);B=O(Oe,"üéµ "),v=O(Oe,p),Oe.forEach(u),C=g(Ee),V=i(Ee,"SPAN",{class:!0});var Fe=h(V);P=O(Fe,"üìß "),A=O(Fe,k),Fe.forEach(u),D=g(Ee),j=i(Ee,"SPAN",{class:!0});var ze=h(j);R=O(ze,"üìÖ "),Q=O(ze,F),ze.forEach(u),Ee.forEach(u),H=g(Be),ve&&ve.l(Be),Be.forEach(u),Ne.forEach(u),G=g(De),q=i(De,"DIV",{class:!0});var z=h(q);X=i(z,"H4",{class:!0,"data-svelte-h":!0}),M(X)!=="svelte-1n02mju"&&(X.innerHTML=Y),K=g(z),re&&re.l(z),se=g(z),ce=i(z,"DIV",{});var he=h(ce);ee=i(he,"P",{class:!0,"data-svelte-h":!0}),M(ee)!=="svelte-vk3n5h"&&(ee.textContent=te),le=g(he),fe=i(he,"PRE",{class:!0});var Se=h(fe);we=O(Se,be),Se.forEach(u),he.forEach(u),z.forEach(u),_e=g(De),De.forEach(u),this.h()},h(){a(t,"class","absolute top-4 right-4 flex gap-2"),a(o,"class","w-32 h-32 flex-shrink-0 rounded-xl overflow-hidden bg-black/50"),a(b,"class","text-2xl font-bold text-white mb-1"),a(L,"class","text-lg text-slate-300 mb-2"),a(N,"class","flex items-center gap-1"),a(V,"class","flex items-center gap-1"),a(j,"class","flex items-center gap-1"),a(E,"class","flex flex-wrap gap-4 text-sm text-slate-400 mb-4"),a(_,"class","flex-1"),a(d,"class","flex flex-col md:flex-row gap-6 mb-6"),a(X,"class","text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 flex items-center justify-between"),a(ee,"class","text-xs text-slate-500 mb-2"),a(fe,"class","text-xs text-slate-300 font-mono bg-black/40 border border-white/5 p-4 rounded-lg whitespace-pre-wrap leading-relaxed"),a(q,"class","bg-black/20 rounded-xl p-6"),a(e,"class","bg-white/5 border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-colors relative overflow-hidden")},m(Z,De){W(Z,e,De),s(e,t),ie&&ie.m(t,null),s(t,l),ue.m(t,null),s(e,n),s(e,d),s(d,o),ae.m(o,null),s(d,f),s(d,_),s(_,b),s(b,m),s(_,y),s(_,L),s(L,I),s(_,S),s(_,E),s(E,N),s(N,B),s(N,v),s(E,C),s(E,V),s(V,P),s(V,A),s(E,D),s(E,j),s(j,R),s(j,Q),s(_,H),ve&&ve.m(_,null),s(e,G),s(e,q),s(q,X),s(q,K),re&&re.m(q,null),s(q,se),s(q,ce),s(ce,ee),s(ce,le),s(ce,fe),s(fe,we),s(e,_e)},p(Z,De){J!==(J=oe(Z))&&(ie&&ie.d(1),ie=J&&J(Z),ie&&(ie.c(),ie.m(t,l))),me!==(me=ne(Z))&&(ue.d(1),ue=me(Z),ue&&(ue.c(),ue.m(t,null))),Te===(Te=de(Z))&&ae?ae.p(Z,De):(ae.d(1),ae=Te(Z),ae&&(ae.c(),ae.m(o,null))),De&1&&w!==(w=Z[17].releaseTitle+"")&&pe(m,w),De&1&&T!==(T=Z[17].artistName+"")&&pe(I,T),De&1&&p!==(p=Z[17].genre+"")&&pe(v,p),De&1&&k!==(k=Z[17].artistEmail+"")&&pe(A,k),De&1&&F!==(F=new Date(Z[17].submittedAt?.seconds*1e3).toLocaleDateString()+"")&&pe(Q,F),Z[17].status==="pending"?ve?ve.p(Z,De):(ve=ns(Z),ve.c(),ve.m(_,null)):ve&&(ve.d(1),ve=null),Ae===(Ae=ye(Z))&&re?re.p(Z,De):(re&&re.d(1),re=Ae&&Ae(Z),re&&(re.c(),re.m(q,se))),De&1&&be!==(be=(Z[17].tracklist||"No especificado por el artista.")+"")&&pe(we,be)},d(Z){Z&&u(e),ie&&ie.d(),ue.d(),ae.d(),ve&&ve.d(),re&&re.d()}}}function Ur(r){let e,t,l='<h2 class="text-2xl font-bold text-white mb-2">Env√≠os Musicales</h2> <p class="text-slate-400">Escucha y verifica el material subido directamente a Cloudflare R2.</p>',n,d,o=r[2]&&as(r);function f(w,m){return w[1]?wr:w[0].length===0?xr:gr}let _=f(r),b=_(r);return{c(){e=c("div"),t=c("div"),t.innerHTML=l,n=x(),o&&o.c(),d=x(),b.c(),this.h()},l(w){e=i(w,"DIV",{class:!0});var m=h(e);t=i(m,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-e1a9v4"&&(t.innerHTML=l),n=g(m),o&&o.l(m),d=g(m),b.l(m),m.forEach(u),this.h()},h(){a(t,"class","mb-6"),a(e,"class","animate-fade-in")},m(w,m){W(w,e,m),s(e,t),s(e,n),o&&o.m(e,null),s(e,d),b.m(e,null)},p(w,[m]){w[2]?o?o.p(w,m):(o=as(w),o.c(),o.m(e,d)):o&&(o.d(1),o=null),_===(_=f(w))&&b?b.p(w,m):(b.d(1),b=_(w),b&&(b.c(),b.m(e,null)))},i:qe,o:qe,d(w){w&&u(e),o&&o.d(),b.d()}}}function Mr(r,e,t){const l=Js();let n=[],d=!0,o="",f=null,_="",b;async function w(p){if(_===p&&f){f.paused?f.play():f.pause();return}f&&(f.pause(),t(3,f=null));try{const v=await fetch("/api/r2/get-url",{method:"POST",body:JSON.stringify({key:p})}),{url:C}=await v.json();t(3,f=new Audio(C)),f.play(),t(4,_=p)}catch(v){console.error("Error playing audio:",v),t(2,o="Error al reproducir audio")}}function m(p,v){if(_===v&&f){f.paused?f.play():f.pause();return}f&&(f.pause(),t(3,f=null)),t(3,f=new Audio(p)),f.play(),t(4,_=v)}Dt(()=>{y()}),xl(()=>{b&&b(),f&&(f.pause(),t(3,f=null))});function y(){t(1,d=!0);try{const p=Nt(Xe,"musicSubmissions"),v=jt(p,zt("submittedAt","desc"),Ks(50));b=Qs(v,C=>{t(0,n=C.docs.map(V=>({id:V.id,...V.data()}))),t(1,d=!1)},C=>{console.error("Error realtime:",C),t(2,o="‚ùå Error en conexi√≥n tiempo real"),t(1,d=!1)})}catch(p){console.error(p),t(2,o="‚ùå Error al iniciar listener: "+p.message),t(1,d=!1)}}async function L(p){if(confirm(`¬øAprobar "${p.releaseTitle}" de ${p.artistName}?`))try{const v=ot(Xe,"musicSubmissions",p.id);await pt(v,{status:"approved",reviewedAt:Date.now()});const C=ot(Xe,"users",p.artistId),V=await Sl(C);if(V.exists()){const P=V.data(),A=(P.approvedSubmissionsCount||0)+1;if(await pt(C,{approvedSubmissionsCount:A,updatedAt:Date.now()}),A>=2&&!P.isVerified){await pt(C,{isVerified:!0,verifiedAt:Date.now()});const H=ot(Xe,"artists",p.artistId);(await Sl(H)).exists()&&await pt(H,{isVerified:!0,verifiedAt:Date.now()}),t(2,o=`‚úÖ Env√≠o aprobado. ${p.artistName} ahora es VERIFICADO ‚úì (${A} aprobaciones)`)}else A>=2?t(2,o=`‚úÖ Env√≠o aprobado (artista ya verificado, ${A} aprobaciones totales)`):t(2,o=`‚úÖ Env√≠o aprobado (${A}/2 para verificaci√≥n autom√°tica)`);const{addDoc:D,collection:j}=await cl(async()=>{const{addDoc:H,collection:G}=await import("../chunks/Bkee_T1r.js").then(q=>q.i);return{addDoc:H,collection:G}},__vite__mapDeps([0,1,2,3]),import.meta.url);let R=[],F=p.r2CoverKey;if(p.submissionType==="r2_direct"){t(2,o="‚è≥ Migrando archivos en Cloudflare R2...");const H=[{key:p.r2CoverKey,name:`cover_${Date.now()}.jpg`},...(p.r2AudioKeys||[]).map(K=>({key:K.key,name:K.name}))],G=await fetch("/api/r2/approve",{method:"POST",body:JSON.stringify({submissionId:p.id,artistVerifiedName:p.artistName,albumTitle:p.releaseTitle,files:H})});if(!G.ok)throw new Error("Error moviendo archivos en R2");const{migratedFiles:q}=await G.json();F=q[0].key,R=q.slice(1).map((K,se)=>({id:`track-${se+1}`,title:K.name.replace(/\.(mp3|wav|m4a)$/i,""),r2Key:K.key,duration:0}))}else R=p.tracklist?p.tracklist.split(`
`).filter(H=>H.trim()).map((H,G)=>({id:`track-${G+1}`,title:H.replace(/^\d+\.\s*/,"").trim(),url:p.downloadLink})):[];const Q={title:p.releaseTitle,artist:p.artistName,artistId:p.artistId,cover:p.coverUrl,r2CoverKey:F,category:p.genre||"Chill",tracks:R,releaseDate:Date.now(),createdAt:Date.now(),submissionId:p.id,storageProvider:p.submissionType==="r2_direct"?"cloudflare_r2":"external_link"};await D(j(Xe,"albums"),Q),t(2,o="‚úÖ ¬°Publicado! Archivos migrados y √°lbum creado.")}p.status="approved",t(0,n),l("approved"),setTimeout(()=>t(2,o=""),6e3)}catch(v){t(2,o="‚ùå Error: "+v.message)}}async function T(p){if(confirm(`¬øRechazar "${p.releaseTitle}"?`))try{const v=ot(Xe,"musicSubmissions",p.id);await pt(v,{status:"rejected",reviewedAt:Date.now()}),p.status="rejected",t(0,n),t(2,o="‚ùå Env√≠o rechazado"),l("approved"),setTimeout(()=>t(2,o=""),3e3)}catch(v){t(2,o="‚ùå Error: "+v.message)}}return[n,d,o,f,_,w,m,L,T,p=>L(p),p=>T(p),p=>w(p.key),p=>m(p.key,p.key),p=>{navigator.clipboard.writeText(p.downloadLink||""),t(2,o="üìã URL copiada")}]}class jr extends Ct{constructor(e){super(),Et(this,e,Mr,Ur,Tt,{})}}function us(r,e,t){const l=r.slice();return l[72]=e[t],l}function ds(r,e,t){const l=r.slice();return l[69]=e[t],l}function fs(r,e,t){const l=r.slice();return l[72]=e[t],l}function hs(r,e,t){const l=r.slice();return l[72]=e[t],l}function ps(r,e,t){const l=r.slice();return l[77]=e[t],l}function vs(r,e,t){const l=r.slice();return l[80]=e[t],l}function bs(r){let e,t;return{c(){e=c("div"),t=U(r[13]),this.h()},l(l){e=i(l,"DIV",{class:!0});var n=h(e);t=O(n,r[13]),n.forEach(u),this.h()},h(){a(e,"class","mb-6 p-4 bg-white/10 border border-white/20 rounded-xl")},m(l,n){W(l,e,n),s(e,t)},p(l,n){n[0]&8192&&pe(t,l[13])},d(l){l&&u(e)}}}function Fr(r){let e,t,l,n='<span class="text-purple-400">üì§</span> Subir M√∫sica',d,o,f,_,b="T√≠tulo",w,m,y,L,T,I="Artista",S,E,N,B,p,v,C="Archivo de Audio (MP3)",V,P,k,A,D,j,R="Portada (Opcional)",F,Q,H,G,q,X,Y,K="La m√∫sica ser√° p√∫blica en el cat√°logo de creadores de inmediato.",se,ce,ee,te,le,fe,be=r[14].length+"",we,_e,oe,J,ie="Actualizar",ne,me,ue;function de(re,Z){return re[20]?zr:Hr}let Te=de(r),ae=Te(r);function ve(re,Z){return re[15]?Kr:re[14].length===0?Gr:qr}let ye=ve(r),Ae=ye(r);return{c(){e=c("div"),t=c("div"),l=c("h3"),l.innerHTML=n,d=x(),o=c("div"),f=c("label"),_=c("span"),_.textContent=b,w=x(),m=c("input"),y=x(),L=c("label"),T=c("span"),T.textContent=I,S=x(),E=c("input"),N=x(),B=c("div"),p=c("label"),v=c("span"),v.textContent=C,V=x(),P=c("input"),k=x(),A=c("div"),D=c("label"),j=c("span"),j.textContent=R,F=x(),Q=c("input"),H=x(),G=c("button"),ae.c(),X=x(),Y=c("p"),Y.textContent=K,se=x(),ce=c("div"),ee=c("div"),te=c("div"),le=c("h3"),fe=U("Cat√°logo Actual ("),we=U(be),_e=U(")"),oe=x(),J=c("button"),J.textContent=ie,ne=x(),Ae.c(),this.h()},l(re){e=i(re,"DIV",{class:!0});var Z=h(e);t=i(Z,"DIV",{class:!0});var De=h(t);l=i(De,"H3",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-1q4ffir"&&(l.innerHTML=n),d=g(De),o=i(De,"DIV",{class:!0});var Ve=h(o);f=i(Ve,"LABEL",{class:!0});var Ne=h(f);_=i(Ne,"SPAN",{class:!0,"data-svelte-h":!0}),M(_)!=="svelte-1x2zpdk"&&(_.textContent=b),w=g(Ne),m=i(Ne,"INPUT",{type:!0,placeholder:!0,class:!0}),Ne.forEach(u),y=g(Ve),L=i(Ve,"LABEL",{class:!0});var $=h(L);T=i($,"SPAN",{class:!0,"data-svelte-h":!0}),M(T)!=="svelte-8aluxf"&&(T.textContent=I),S=g($),E=i($,"INPUT",{type:!0,class:!0}),$.forEach(u),N=g(Ve),B=i(Ve,"DIV",{class:!0});var Be=h(B);p=i(Be,"LABEL",{class:!0});var Pe=h(p);v=i(Pe,"SPAN",{class:!0,"data-svelte-h":!0}),M(v)!=="svelte-1iw2une"&&(v.textContent=C),V=g(Pe),P=i(Pe,"INPUT",{type:!0,accept:!0,class:!0}),Pe.forEach(u),Be.forEach(u),k=g(Ve),A=i(Ve,"DIV",{class:!0});var Ce=h(A);D=i(Ce,"LABEL",{class:!0});var Ee=h(D);j=i(Ee,"SPAN",{class:!0,"data-svelte-h":!0}),M(j)!=="svelte-kfse49"&&(j.textContent=R),F=g(Ee),Q=i(Ee,"INPUT",{type:!0,accept:!0,class:!0}),Ee.forEach(u),Ce.forEach(u),H=g(Ve),G=i(Ve,"BUTTON",{class:!0});var Oe=h(G);ae.l(Oe),Oe.forEach(u),X=g(Ve),Y=i(Ve,"P",{class:!0,"data-svelte-h":!0}),M(Y)!=="svelte-10tosdu"&&(Y.textContent=K),Ve.forEach(u),De.forEach(u),se=g(Z),ce=i(Z,"DIV",{class:!0});var Fe=h(ce);ee=i(Fe,"DIV",{class:!0});var ze=h(ee);te=i(ze,"DIV",{class:!0});var z=h(te);le=i(z,"H3",{class:!0});var he=h(le);fe=O(he,"Cat√°logo Actual ("),we=O(he,be),_e=O(he,")"),he.forEach(u),oe=g(z),J=i(z,"BUTTON",{class:!0,"data-svelte-h":!0}),M(J)!=="svelte-11gqpoq"&&(J.textContent=ie),z.forEach(u),ne=g(ze),Ae.l(ze),ze.forEach(u),Fe.forEach(u),Z.forEach(u),this.h()},h(){a(l,"class","text-xl font-bold text-white mb-4 flex items-center gap-2"),a(_,"class","block text-sm text-slate-400 mb-1"),a(m,"type","text"),a(m,"placeholder","Ej. Midnight Vibes"),a(m,"class","w-full bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-white focus:border-purple-500 outline-none"),a(f,"class","block"),a(T,"class","block text-sm text-slate-400 mb-1"),a(E,"type","text"),a(E,"class","w-full bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-white focus:border-purple-500 outline-none"),a(L,"class","block"),a(v,"class","block text-sm text-slate-400 mb-2"),a(P,"type","file"),a(P,"accept","audio/mpeg"),a(P,"class","w-full text-sm text-slate-300 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-purple-500/20 file:text-purple-400 hover:file:bg-purple-500/30"),a(p,"class","block w-full cursor-pointer"),a(B,"class","bg-black/20 p-4 rounded-lg border border-white/5 border-dashed"),a(j,"class","block text-sm text-slate-400 mb-2"),a(Q,"type","file"),a(Q,"accept","image/*"),a(Q,"class","w-full text-sm text-slate-300 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-slate-500/20 file:text-slate-400 hover:file:bg-slate-500/30"),a(D,"class","block w-full cursor-pointer"),a(A,"class","bg-black/20 p-4 rounded-lg border border-white/5 border-dashed"),G.disabled=q=r[20]||!r[16]||!r[18],a(G,"class","w-full py-3 bg-purple-600 hover:bg-purple-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold rounded-xl shadow-lg shadow-purple-900/20 transition-all flex items-center justify-center gap-2"),a(Y,"class","text-xs text-slate-500 text-center"),a(o,"class","space-y-4"),a(t,"class","bg-white/5 border border-white/10 rounded-2xl p-6 h-fit"),a(le,"class","font-bold text-slate-200"),a(J,"class","text-xs text-purple-400 hover:text-purple-300"),a(te,"class","p-4 border-b border-white/10 flex justify-between items-center"),a(ee,"class","bg-white/5 border border-white/10 rounded-2xl overflow-hidden"),a(ce,"class","lg:col-span-2"),a(e,"class","grid grid-cols-1 lg:grid-cols-3 gap-8")},m(re,Z){W(re,e,Z),s(e,t),s(t,l),s(t,d),s(t,o),s(o,f),s(f,_),s(f,w),s(f,m),He(m,r[16]),s(o,y),s(o,L),s(L,T),s(L,S),s(L,E),He(E,r[17]),s(o,N),s(o,B),s(B,p),s(p,v),s(p,V),s(p,P),s(o,k),s(o,A),s(A,D),s(D,j),s(D,F),s(D,Q),s(o,H),s(o,G),ae.m(G,null),s(o,X),s(o,Y),s(e,se),s(e,ce),s(ce,ee),s(ee,te),s(te,le),s(le,fe),s(le,we),s(le,_e),s(te,oe),s(te,J),s(ee,ne),Ae.m(ee,null),me||(ue=[xe(m,"input",r[62]),xe(E,"input",r[63]),xe(P,"change",r[64]),xe(Q,"change",r[65]),xe(G,"click",r[34]),xe(J,"click",r[33])],me=!0)},p(re,Z){Z[0]&65536&&m.value!==re[16]&&He(m,re[16]),Z[0]&131072&&E.value!==re[17]&&He(E,re[17]),Te===(Te=de(re))&&ae?ae.p(re,Z):(ae.d(1),ae=Te(re),ae&&(ae.c(),ae.m(G,null))),Z[0]&1376256&&q!==(q=re[20]||!re[16]||!re[18])&&(G.disabled=q),Z[0]&16384&&be!==(be=re[14].length+"")&&pe(we,be),ye===(ye=ve(re))&&Ae?Ae.p(re,Z):(Ae.d(1),Ae=ye(re),Ae&&(Ae.c(),Ae.m(ee,null)))},d(re){re&&u(e),ae.d(),Ae.d(),me=!1,lt(ue)}}}function Rr(r){let e,t,l,n,d,o,f,_,b=[],w=new Map,m,y;function L(p,v){return p[4]?Zr:Xr}let T=L(r),I=T(r),S=r[4]&&ms(r),E=r[2]&&ws(r),N=Ge(r[22].slice(0,50));const B=p=>p[69].id;for(let p=0;p<N.length;p+=1){let v=ds(r,N,p),C=B(v);w.set(C,b[p]=Es(C,v))}return{c(){e=c("div"),t=c("input"),l=x(),n=c("button"),I.c(),d=x(),S&&S.c(),o=x(),E&&E.c(),f=x(),_=c("div");for(let p=0;p<b.length;p+=1)b[p].c();this.h()},l(p){e=i(p,"DIV",{class:!0});var v=h(e);t=i(v,"INPUT",{type:!0,placeholder:!0,class:!0}),l=g(v),n=i(v,"BUTTON",{class:!0});var C=h(n);I.l(C),C.forEach(u),v.forEach(u),d=g(p),S&&S.l(p),o=g(p),E&&E.l(p),f=g(p),_=i(p,"DIV",{class:!0});var V=h(_);for(let P=0;P<b.length;P+=1)b[P].l(V);V.forEach(u),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Buscar por √°lbum o artista..."),a(t,"class","flex-1 w-full bg-midnight-800 border border-white/20 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-primary-500"),a(n,"class","px-6 py-3 bg-primary-500 hover:bg-primary-600 rounded-xl font-bold transition-all shadow-lg flex items-center gap-2"),a(e,"class","mb-6 flex flex-col md:flex-row gap-4 justify-between items-start md:items-center"),a(_,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6")},m(p,v){W(p,e,v),s(e,t),He(t,r[3]),s(e,l),s(e,n),I.m(n,null),W(p,d,v),S&&S.m(p,v),W(p,o,v),E&&E.m(p,v),W(p,f,v),W(p,_,v);for(let C=0;C<b.length;C+=1)b[C]&&b[C].m(_,null);m||(y=[xe(t,"input",r[39]),xe(n,"click",r[40])],m=!0)},p(p,v){v[0]&8&&t.value!==p[3]&&He(t,p[3]),T!==(T=L(p))&&(I.d(1),I=T(p),I&&(I.c(),I.m(n,null))),p[4]?S?S.p(p,v):(S=ms(p),S.c(),S.m(o.parentNode,o)):S&&(S.d(1),S=null),p[2]?E?E.p(p,v):(E=ws(p),E.c(),E.m(f.parentNode,f)):E&&(E.d(1),E=null),v[0]&1111494656|v[1]&1&&(N=Ge(p[22].slice(0,50)),b=Ws(b,v,B,1,p,N,w,_,Ys,Es,null,ds))},d(p){p&&(u(e),u(d),u(o),u(f),u(_)),I.d(),S&&S.d(p),E&&E.d(p);for(let v=0;v<b.length;v+=1)b[v].d();m=!1,lt(y)}}}function Hr(r){let e,t="üöÄ Publicar en Cat√°logo";return{c(){e=c("span"),e.textContent=t},l(l){e=i(l,"SPAN",{"data-svelte-h":!0}),M(e)!=="svelte-11qhkiu"&&(e.textContent=t)},m(l,n){W(l,e,n)},p:qe,d(l){l&&u(e)}}}function zr(r){let e,t,l=Math.round(r[21])+"",n,d;return{c(){e=c("div"),t=U(`\r
                            Subiendo `),n=U(l),d=U("%..."),this.h()},l(o){e=i(o,"DIV",{class:!0}),h(e).forEach(u),t=O(o,`\r
                            Subiendo `),n=O(o,l),d=O(o,"%..."),this.h()},h(){a(e,"class","animate-spin h-4 w-4 border-2 border-white/30 border-t-white rounded-full")},m(o,f){W(o,e,f),W(o,t,f),W(o,n,f),W(o,d,f)},p(o,f){f[0]&2097152&&l!==(l=Math.round(o[21])+"")&&pe(n,l)},d(o){o&&(u(e),u(t),u(n),u(d))}}}function qr(r){let e,t=Ge(r[14]),l=[];for(let n=0;n<t.length;n+=1)l[n]=_s(us(r,t,n));return{c(){e=c("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=i(n,"DIV",{class:!0});var d=h(e);for(let o=0;o<l.length;o+=1)l[o].l(d);d.forEach(u),this.h()},h(){a(e,"class","divide-y divide-white/5")},m(n,d){W(n,e,d);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,d){if(d[0]&1073762304|d[1]&16){t=Ge(n[14]);let o;for(o=0;o<t.length;o+=1){const f=us(n,t,o);l[o]?l[o].p(f,d):(l[o]=_s(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),bt(l,n)}}}function Gr(r){let e,t="El cat√°logo est√° vac√≠o. Sube tu primera canci√≥n.";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-7fzich"&&(e.textContent=t),this.h()},h(){a(e,"class","p-8 text-center text-slate-500")},m(l,n){W(l,e,n)},p:qe,d(l){l&&u(e)}}}function Kr(r){let e,t="Cargando...";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-18hjy8t"&&(e.textContent=t),this.h()},h(){a(e,"class","p-8 text-center text-slate-500")},m(l,n){W(l,e,n)},p:qe,d(l){l&&u(e)}}}function Qr(r){let e;return{c(){e=U("‚ñ∂")},l(t){e=O(t,"‚ñ∂")},m(t,l){W(t,e,l)},d(t){t&&u(e)}}}function Jr(r){let e;return{c(){e=U("‚è∏")},l(t){e=O(t,"‚è∏")},m(t,l){W(t,e,l)},d(t){t&&u(e)}}}function _s(r){let e,t,l,n,d,o,f,_,b=r[72].title+"",w,m,y,L=r[72].artist+"",T,I,S,E,N,B,p="üóëÔ∏è",v,C,V;function P(R,F){return R[12]===R[72].url?Jr:Qr}let k=P(r),A=k(r);function D(){return r[66](r[72])}function j(){return r[67](r[72])}return{c(){e=c("div"),t=c("div"),l=c("img"),o=x(),f=c("div"),_=c("p"),w=U(b),m=x(),y=c("p"),T=U(L),I=x(),S=c("div"),E=c("button"),A.c(),N=x(),B=c("button"),B.textContent=p,v=x(),this.h()},l(R){e=i(R,"DIV",{class:!0});var F=h(e);t=i(F,"DIV",{class:!0});var Q=h(t);l=i(Q,"IMG",{src:!0,alt:!0,class:!0}),Q.forEach(u),o=g(F),f=i(F,"DIV",{class:!0});var H=h(f);_=i(H,"P",{class:!0});var G=h(_);w=O(G,b),G.forEach(u),m=g(H),y=i(H,"P",{class:!0});var q=h(y);T=O(q,L),q.forEach(u),H.forEach(u),I=g(F),S=i(F,"DIV",{class:!0});var X=h(S);E=i(X,"BUTTON",{class:!0});var Y=h(E);A.l(Y),Y.forEach(u),N=g(X),B=i(X,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),M(B)!=="svelte-1886e0s"&&(B.textContent=p),X.forEach(u),v=g(F),F.forEach(u),this.h()},h(){kt(l.src,n=r[72].coverUrl)||a(l,"src",n),a(l,"alt",d=r[72].title),a(l,"class","w-full h-full object-cover opacity-80 group-hover:opacity-100"),a(t,"class","w-10 h-10 rounded bg-black/50 overflow-hidden flex-shrink-0"),a(_,"class","font-bold text-white text-sm truncate"),a(y,"class","text-xs text-slate-400 truncate"),a(f,"class","flex-1 min-w-0"),a(E,"class","w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center text-white transition-colors"),a(B,"class","w-8 h-8 rounded-full bg-red-500/10 hover:bg-red-500/20 text-red-500 flex items-center justify-center transition-colors"),a(B,"title","Eliminar"),a(S,"class","flex items-center gap-2"),a(e,"class","p-3 flex items-center gap-4 hover:bg-white/5 transition-colors group")},m(R,F){W(R,e,F),s(e,t),s(t,l),s(e,o),s(e,f),s(f,_),s(_,w),s(f,m),s(f,y),s(y,T),s(e,I),s(e,S),s(S,E),A.m(E,null),s(S,N),s(S,B),s(e,v),C||(V=[xe(E,"click",D),xe(B,"click",j)],C=!0)},p(R,F){r=R,F[0]&16384&&!kt(l.src,n=r[72].coverUrl)&&a(l,"src",n),F[0]&16384&&d!==(d=r[72].title)&&a(l,"alt",d),F[0]&16384&&b!==(b=r[72].title+"")&&pe(w,b),F[0]&16384&&L!==(L=r[72].artist+"")&&pe(T,L),k!==(k=P(r))&&(A.d(1),A=k(r),A&&(A.c(),A.m(E,null)))},d(R){R&&u(e),A.d(),C=!1,lt(V)}}}function Xr(r){let e;return{c(){e=U("Ôºã Nuevo √Ålbum")},l(t){e=O(t,"Ôºã Nuevo √Ålbum")},m(t,l){W(t,e,l)},d(t){t&&u(e)}}}function Zr(r){let e;return{c(){e=U("‚úï Cancelar")},l(t){e=O(t,"‚úï Cancelar")},m(t,l){W(t,e,l)},d(t){t&&u(e)}}}function ms(r){let e,t,l,n="‚úï",d,o,f='<span class="text-3xl">üíø</span> Crear Nuevo √Ålbum',_,b,w,m,y,L="T√≠tulo del √Ålbum",T,I,S,E,N,B="Artista (Seleccionar Verificado)",p,v,C,V,P="-- Selecciona un Artista --",k,A,D="‚ñº",j,R,F,Q,H="Recargar lista",G,q,X,Y="Categor√≠a",K,se,ce,ee="M√∫sica",te,le="Juegos / Focus",fe,be="Ambiente",we,_e,oe,J,ie="Portada del √Ålbum",ne,me,ue,de,Te,ae,ve,ye="Tracks (Selecci√≥n m√∫ltiple)",Ae,re,Z,De,Ve,Ne,$,Be="Cancelar",Pe,Ce,Ee=r[5]?"Subiendo y Procesando...":"üöÄ Publicar √Ålbum",Oe,Fe,ze,z=Ge(r[0]),he=[];for(let ge=0;ge<z.length;ge+=1)he[ge]=gs(vs(r,z,ge));function Se(ge,Re){return ge[10].coverFile?Yr:Wr}let Ue=Se(r),Me=Ue(r);function Le(ge,Re){return ge[10].tracks.length>0?ea:$r}let ke=Le(r),Ie=ke(r);return{c(){e=c("div"),t=c("div"),l=c("button"),l.textContent=n,d=x(),o=c("h3"),o.innerHTML=f,_=x(),b=c("div"),w=c("div"),m=c("label"),y=c("span"),y.textContent=L,T=x(),I=c("input"),S=x(),E=c("label"),N=c("span"),N.textContent=B,p=x(),v=c("div"),C=c("select"),V=c("option"),V.textContent=P;for(let ge=0;ge<he.length;ge+=1)he[ge].c();k=x(),A=c("div"),A.textContent=D,j=x(),R=c("p"),F=U(`¬øNo encuentras al artista? Aseg√∫rate de que tenga el rol\r
                                    'artist' o est√© 'verificado'.\r
                                    `),Q=c("button"),Q.textContent=H,G=x(),q=c("label"),X=c("span"),X.textContent=Y,K=x(),se=c("select"),ce=c("option"),ce.textContent=ee,te=c("option"),te.textContent=le,fe=c("option"),fe.textContent=be,we=x(),_e=c("div"),oe=c("label"),J=c("span"),J.textContent=ie,ne=x(),me=c("div"),Me.c(),ue=x(),de=c("input"),Te=x(),ae=c("label"),ve=c("span"),ve.textContent=ye,Ae=x(),re=c("div"),Z=c("input"),De=x(),Ie.c(),Ve=x(),Ne=c("div"),$=c("button"),$.textContent=Be,Pe=x(),Ce=c("button"),Oe=U(Ee),this.h()},l(ge){e=i(ge,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var Re=h(e);t=i(Re,"DIV",{class:!0});var je=h(t);l=i(je,"BUTTON",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-zd03a2"&&(l.textContent=n),d=g(je),o=i(je,"H3",{class:!0,"data-svelte-h":!0}),M(o)!=="svelte-l3sd0f"&&(o.innerHTML=f),_=g(je),b=i(je,"DIV",{class:!0});var Ke=h(b);w=i(Ke,"DIV",{class:!0});var st=h(w);m=i(st,"LABEL",{class:!0});var Je=h(m);y=i(Je,"SPAN",{class:!0,"data-svelte-h":!0}),M(y)!=="svelte-1b0kyf9"&&(y.textContent=L),T=g(Je),I=i(Je,"INPUT",{type:!0,class:!0,placeholder:!0}),Je.forEach(u),S=g(st),E=i(st,"LABEL",{class:!0});var Ye=h(E);N=i(Ye,"SPAN",{class:!0,"data-svelte-h":!0}),M(N)!=="svelte-1ug56w1"&&(N.textContent=B),p=g(Ye),v=i(Ye,"DIV",{class:!0});var Ze=h(v);C=i(Ze,"SELECT",{class:!0});var dt=h(C);V=i(dt,"OPTION",{"data-svelte-h":!0}),M(V)!=="svelte-zt3b1k"&&(V.textContent=P);for(let At=0;At<he.length;At+=1)he[At].l(dt);dt.forEach(u),k=g(Ze),A=i(Ze,"DIV",{class:!0,"data-svelte-h":!0}),M(A)!=="svelte-ronnek"&&(A.textContent=D),Ze.forEach(u),j=g(Ye),R=i(Ye,"P",{class:!0});var Qe=h(R);F=O(Qe,`¬øNo encuentras al artista? Aseg√∫rate de que tenga el rol\r
                                    'artist' o est√© 'verificado'.\r
                                    `),Q=i(Qe,"BUTTON",{class:!0,"data-svelte-h":!0}),M(Q)!=="svelte-1lzll0h"&&(Q.textContent=H),Qe.forEach(u),Ye.forEach(u),G=g(st),q=i(st,"LABEL",{class:!0});var $e=h(q);X=i($e,"SPAN",{class:!0,"data-svelte-h":!0}),M(X)!=="svelte-90j49n"&&(X.textContent=Y),K=g($e),se=i($e,"SELECT",{class:!0});var nt=h(se);ce=i(nt,"OPTION",{"data-svelte-h":!0}),M(ce)!=="svelte-so9z49"&&(ce.textContent=ee),te=i(nt,"OPTION",{"data-svelte-h":!0}),M(te)!=="svelte-enmzzp"&&(te.textContent=le),fe=i(nt,"OPTION",{"data-svelte-h":!0}),M(fe)!=="svelte-mboq3a"&&(fe.textContent=be),nt.forEach(u),$e.forEach(u),st.forEach(u),we=g(Ke),_e=i(Ke,"DIV",{class:!0});var rt=h(_e);oe=i(rt,"LABEL",{class:!0});var et=h(oe);J=i(et,"SPAN",{class:!0,"data-svelte-h":!0}),M(J)!=="svelte-1c7lph1"&&(J.textContent=ie),ne=g(et),me=i(et,"DIV",{class:!0});var it=h(me);Me.l(it),ue=g(it),de=i(it,"INPUT",{type:!0,accept:!0,class:!0}),it.forEach(u),et.forEach(u),Te=g(rt),ae=i(rt,"LABEL",{class:!0});var ct=h(ae);ve=i(ct,"SPAN",{class:!0,"data-svelte-h":!0}),M(ve)!=="svelte-1xiecty"&&(ve.textContent=ye),Ae=g(ct),re=i(ct,"DIV",{class:!0});var wt=h(re);Z=i(wt,"INPUT",{type:!0,accept:!0,class:!0}),De=g(wt),Ie.l(wt),wt.forEach(u),ct.forEach(u),rt.forEach(u),Ke.forEach(u),Ve=g(je),Ne=i(je,"DIV",{class:!0});var vt=h(Ne);$=i(vt,"BUTTON",{class:!0,"data-svelte-h":!0}),M($)!=="svelte-qyv1s4"&&($.textContent=Be),Pe=g(vt),Ce=i(vt,"BUTTON",{class:!0});var It=h(Ce);Oe=O(It,Ee),It.forEach(u),vt.forEach(u),je.forEach(u),Re.forEach(u),this.h()},h(){a(l,"class","absolute top-4 right-4 text-slate-400 hover:text-white transition-colors"),a(o,"class","text-2xl font-bold mb-6 flex items-center gap-3"),a(y,"class","block text-sm font-semibold text-slate-400 group-focus-within:text-primary-400 mb-2 transition-colors"),a(I,"type","text"),a(I,"class","w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary-500 focus:ring-1 focus:ring-primary-500 outline-none transition-all placeholder-slate-600"),a(I,"placeholder","Ej. Summer Vibes"),a(m,"class","block group"),a(N,"class","block text-sm font-semibold text-slate-400 group-focus-within:text-primary-400 mb-2 transition-colors"),V.__value="",He(V,V.__value),V.disabled=!0,V.selected=!0,a(C,"class","w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary-500 focus:ring-1 focus:ring-primary-500 outline-none appearance-none transition-all"),r[1]===void 0&&yt(()=>r[43].call(C)),a(A,"class","absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none text-slate-500"),a(v,"class","relative"),a(Q,"class","text-primary-400 underline hover:text-primary-300 ml-1"),a(R,"class","text-xs text-slate-500 mt-2"),a(E,"class","block group"),a(X,"class","block text-sm font-semibold text-slate-400 group-focus-within:text-primary-400 mb-2 transition-colors"),ce.__value="musica",He(ce,ce.__value),te.__value="juegos",He(te,te.__value),fe.__value="ambiente",He(fe,fe.__value),a(se,"class","w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary-500 outline-none"),r[10].category===void 0&&yt(()=>r[44].call(se)),a(q,"class","block group"),a(w,"class","space-y-5"),a(J,"class","block text-sm font-semibold text-slate-400 group-hover:text-primary-400 mb-2 transition-colors"),a(de,"type","file"),a(de,"accept","image/*"),a(de,"class","absolute inset-0 opacity-0 cursor-pointer"),a(me,"class","relative w-full aspect-video md:aspect-square bg-black/40 border-2 border-dashed border-white/10 rounded-xl flex flex-col items-center justify-center p-4 group-hover:border-primary-500/50 transition-all overflow-hidden"),a(oe,"class","block group cursor-pointer"),a(ve,"class","block text-sm font-semibold text-slate-400 mb-2"),a(Z,"type","file"),Z.multiple=!0,a(Z,"accept","audio/*"),a(Z,"class","w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-primary-500/20 file:text-primary-400 hover:file:bg-primary-500/30 cursor-pointer"),a(re,"class","bg-black/40 border border-white/10 rounded-xl p-4"),a(ae,"class","block group"),a(_e,"class","space-y-5"),a(b,"class","grid grid-cols-1 md:grid-cols-2 gap-8 mb-8"),a($,"class","px-6 py-2 text-slate-400 hover:text-white font-medium transition-colors"),Ce.disabled=r[5],a(Ce,"class","px-8 py-3 bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-500 hover:to-purple-500 rounded-xl font-bold text-white shadow-lg shadow-primary-900/20 disabled:opacity-50 disabled:cursor-not-allowed transform hover:-translate-y-0.5 transition-all w-full md:w-auto"),a(Ne,"class","flex justify-end items-center gap-4 pt-4 border-t border-white/5"),a(t,"class","bg-midnight-900 border border-white/10 rounded-3xl p-6 md:p-8 w-full max-w-3xl shadow-2xl relative overflow-y-auto max-h-[90vh]"),a(e,"class","fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fade-in cursor-pointer"),a(e,"role","button"),a(e,"tabindex","0"),a(e,"aria-label","Cerrar modal")},m(ge,Re){W(ge,e,Re),s(e,t),s(t,l),s(t,d),s(t,o),s(t,_),s(t,b),s(b,w),s(w,m),s(m,y),s(m,T),s(m,I),He(I,r[10].title),s(w,S),s(w,E),s(E,N),s(E,p),s(E,v),s(v,C),s(C,V);for(let je=0;je<he.length;je+=1)he[je]&&he[je].m(C,null);ft(C,r[1],!0),s(v,k),s(v,A),s(E,j),s(E,R),s(R,F),s(R,Q),s(w,G),s(w,q),s(q,X),s(q,K),s(q,se),s(se,ce),s(se,te),s(se,fe),ft(se,r[10].category,!0),s(b,we),s(b,_e),s(_e,oe),s(oe,J),s(oe,ne),s(oe,me),Me.m(me,null),s(me,ue),s(me,de),s(_e,Te),s(_e,ae),s(ae,ve),s(ae,Ae),s(ae,re),s(re,Z),s(re,De),Ie.m(re,null),s(t,Ve),s(t,Ne),s(Ne,$),s(Ne,Pe),s(Ne,Ce),s(Ce,Oe),Fe||(ze=[xe(l,"click",r[41]),xe(I,"input",r[42]),xe(C,"change",r[43]),xe(Q,"click",r[32]),xe(se,"change",r[44]),xe(de,"change",r[23]),xe(Z,"change",r[24]),xe($,"click",r[45]),xe(Ce,"click",r[29]),xe(e,"click",Gs(r[46])),xe(e,"keydown",r[47])],Fe=!0)},p(ge,Re){if(Re[0]&1024&&I.value!==ge[10].title&&He(I,ge[10].title),Re[0]&1){z=Ge(ge[0]);let je;for(je=0;je<z.length;je+=1){const Ke=vs(ge,z,je);he[je]?he[je].p(Ke,Re):(he[je]=gs(Ke),he[je].c(),he[je].m(C,null))}for(;je<he.length;je+=1)he[je].d(1);he.length=z.length}Re[0]&3&&ft(C,ge[1]),Re[0]&1024&&ft(se,ge[10].category),Ue===(Ue=Se(ge))&&Me?Me.p(ge,Re):(Me.d(1),Me=Ue(ge),Me&&(Me.c(),Me.m(me,ue))),ke===(ke=Le(ge))&&Ie?Ie.p(ge,Re):(Ie.d(1),Ie=ke(ge),Ie&&(Ie.c(),Ie.m(re,null))),Re[0]&32&&Ee!==(Ee=ge[5]?"Subiendo y Procesando...":"üöÄ Publicar √Ålbum")&&pe(Oe,Ee),Re[0]&32&&(Ce.disabled=ge[5])},d(ge){ge&&u(e),bt(he,ge),Me.d(),Ie.d(),Fe=!1,lt(ze)}}}function gs(r){let e,t=r[80].displayName+"",l,n,d=r[80].isFounder?"(Fundador üíé)":"",o,f,_;return{c(){e=c("option"),l=U(t),n=x(),o=U(d),f=x(),this.h()},l(b){e=i(b,"OPTION",{});var w=h(e);l=O(w,t),n=g(w),o=O(w,d),f=g(w),w.forEach(u),this.h()},h(){e.__value=_=r[80].uid,He(e,e.__value)},m(b,w){W(b,e,w),s(e,l),s(e,n),s(e,o),s(e,f)},p(b,w){w[0]&1&&t!==(t=b[80].displayName+"")&&pe(l,t),w[0]&1&&d!==(d=b[80].isFounder?"(Fundador üíé)":"")&&pe(o,d),w[0]&1&&_!==(_=b[80].uid)&&(e.__value=_,He(e,e.__value))},d(b){b&&u(e)}}}function Wr(r){let e,t="üñºÔ∏è",l,n,d="Click para subir imagen";return{c(){e=c("span"),e.textContent=t,l=x(),n=c("span"),n.textContent=d,this.h()},l(o){e=i(o,"SPAN",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1x6sqgy"&&(e.textContent=t),l=g(o),n=i(o,"SPAN",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-127sb12"&&(n.textContent=d),this.h()},h(){a(e,"class","text-4xl mb-2 opacity-50"),a(n,"class","text-xs text-slate-500 text-center")},m(o,f){W(o,e,f),W(o,l,f),W(o,n,f)},p:qe,d(o){o&&(u(e),u(l),u(n))}}}function Yr(r){let e,t,l='<span class="text-white font-bold">Cambiar Imagen</span>';return{c(){e=c("div"),t=c("div"),t.innerHTML=l,this.h()},l(n){e=i(n,"DIV",{class:!0,style:!0});var d=h(e);t=i(d,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1nqq5i2"&&(t.innerHTML=l),d.forEach(u),this.h()},h(){a(t,"class","absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"),a(e,"class","absolute inset-0 bg-cover bg-center"),Nl(e,"background-image","url("+URL.createObjectURL(r[10].coverFile)+")")},m(n,d){W(n,e,d),s(e,t)},p(n,d){d[0]&1024&&Nl(e,"background-image","url("+URL.createObjectURL(n[10].coverFile)+")")},d(n){n&&u(e)}}}function $r(r){let e,t="Ning√∫n track seleccionado";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-gnqwkz"&&(e.textContent=t),this.h()},h(){a(e,"class","mt-4 text-center text-xs text-slate-600 italic py-2")},m(l,n){W(l,e,n)},p:qe,d(l){l&&u(e)}}}function ea(r){let e,t=Ge(r[10].tracks),l=[];for(let n=0;n<t.length;n+=1)l[n]=xs(ps(r,t,n));return{c(){e=c("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=i(n,"DIV",{class:!0});var d=h(e);for(let o=0;o<l.length;o+=1)l[o].l(d);d.forEach(u),this.h()},h(){a(e,"class","mt-4 max-h-32 overflow-y-auto pr-2 custom-scrollbar svelte-qqas83")},m(n,d){W(n,e,d);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,d){if(d[0]&1024){t=Ge(n[10].tracks);let o;for(o=0;o<t.length;o+=1){const f=ps(n,t,o);l[o]?l[o].p(f,d):(l[o]=xs(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),bt(l,n)}}}function xs(r){let e,t,l="üéµ",n,d=r[77].name+"",o,f;return{c(){e=c("div"),t=c("span"),t.textContent=l,n=x(),o=U(d),f=x(),this.h()},l(_){e=i(_,"DIV",{class:!0});var b=h(e);t=i(b,"SPAN",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1g0zmsm"&&(t.textContent=l),n=g(b),o=O(b,d),f=g(b),b.forEach(u),this.h()},h(){a(t,"class","text-primary-500"),a(e,"class","flex items-center gap-2 py-2 border-b border-white/5 last:border-0 text-xs text-slate-300")},m(_,b){W(_,e,b),s(e,t),s(e,n),s(e,o),s(e,f)},p(_,b){b[0]&1024&&d!==(d=_[77].name+"")&&pe(o,d)},d(_){_&&u(e)}}}function ws(r){let e,t,l,n="‚úï",d,o,f='<span class="text-3xl">‚úèÔ∏è</span> Editar √Ålbum',_,b,w,m,y,L="T√≠tulo",T,I,S,E,N,B="Categor√≠a",p,v,C,V="M√∫sica",P,k="Juegos / Focus",A,D="Ambiente",j,R,F,Q="<span>üéµ</span> A√±adir Canci√≥n",H,G,q,X,Y,K,se,ce,ee,te,le,fe,be,we="Portada del √Ålbum",_e,oe,J,ie,ne='<span class="text-white text-xs font-bold">Cambiar Portada</span>',me,ue,de,Te,ae,ve,ye=(r[7].tracks?.length||0)+"",Ae,re,Z,De,Ve,Ne,$,Be="Cancelar",Pe,Ce,Ee=r[6]?"Guardando cambios...":"üíæ Guardar Todo",Oe,Fe,ze;function z(ke,Ie){if(ke[8])return la;if(ke[7].cover)return ta}let he=z(r),Se=he&&he(r);function Ue(ke,Ie){return ke[7].tracks&&ke[7].tracks.length>0?ra:sa}let Me=Ue(r),Le=Me(r);return{c(){e=c("div"),t=c("div"),l=c("button"),l.textContent=n,d=x(),o=c("h3"),o.innerHTML=f,_=x(),b=c("div"),w=c("div"),m=c("label"),y=c("span"),y.textContent=L,T=x(),I=c("input"),S=x(),E=c("label"),N=c("span"),N.textContent=B,p=x(),v=c("select"),C=c("option"),C.textContent=V,P=c("option"),P.textContent=k,A=c("option"),A.textContent=D,j=x(),R=c("div"),F=c("h4"),F.innerHTML=Q,H=x(),G=c("div"),q=c("input"),X=x(),Y=c("input"),K=x(),se=c("button"),ce=U("Subir y A√±adir Track"),te=x(),le=c("div"),fe=c("label"),be=c("span"),be.textContent=we,_e=x(),oe=c("div"),Se&&Se.c(),J=x(),ie=c("div"),ie.innerHTML=ne,me=x(),ue=c("input"),de=x(),Te=c("div"),ae=c("h4"),ve=U("Pistas Actuales ("),Ae=U(ye),re=U(")"),Z=x(),De=c("div"),Le.c(),Ve=x(),Ne=c("div"),$=c("button"),$.textContent=Be,Pe=x(),Ce=c("button"),Oe=U(Ee),this.h()},l(ke){e=i(ke,"DIV",{class:!0,role:!0,tabindex:!0});var Ie=h(e);t=i(Ie,"DIV",{class:!0});var ge=h(t);l=i(ge,"BUTTON",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-1oz4kgi"&&(l.textContent=n),d=g(ge),o=i(ge,"H3",{class:!0,"data-svelte-h":!0}),M(o)!=="svelte-10necvm"&&(o.innerHTML=f),_=g(ge),b=i(ge,"DIV",{class:!0});var Re=h(b);w=i(Re,"DIV",{class:!0});var je=h(w);m=i(je,"LABEL",{class:!0});var Ke=h(m);y=i(Ke,"SPAN",{class:!0,"data-svelte-h":!0}),M(y)!=="svelte-xhucfg"&&(y.textContent=L),T=g(Ke),I=i(Ke,"INPUT",{type:!0,class:!0}),Ke.forEach(u),S=g(je),E=i(je,"LABEL",{class:!0});var st=h(E);N=i(st,"SPAN",{class:!0,"data-svelte-h":!0}),M(N)!=="svelte-1pd5pgo"&&(N.textContent=B),p=g(st),v=i(st,"SELECT",{class:!0});var Je=h(v);C=i(Je,"OPTION",{"data-svelte-h":!0}),M(C)!=="svelte-so9z49"&&(C.textContent=V),P=i(Je,"OPTION",{"data-svelte-h":!0}),M(P)!=="svelte-enmzzp"&&(P.textContent=k),A=i(Je,"OPTION",{"data-svelte-h":!0}),M(A)!=="svelte-mboq3a"&&(A.textContent=D),Je.forEach(u),st.forEach(u),j=g(je),R=i(je,"DIV",{class:!0});var Ye=h(R);F=i(Ye,"H4",{class:!0,"data-svelte-h":!0}),M(F)!=="svelte-th333p"&&(F.innerHTML=Q),H=g(Ye),G=i(Ye,"DIV",{class:!0});var Ze=h(G);q=i(Ze,"INPUT",{type:!0,placeholder:!0,class:!0}),X=g(Ze),Y=i(Ze,"INPUT",{type:!0,accept:!0,class:!0}),K=g(Ze),se=i(Ze,"BUTTON",{class:!0});var dt=h(se);ce=O(dt,"Subir y A√±adir Track"),dt.forEach(u),Ze.forEach(u),Ye.forEach(u),je.forEach(u),te=g(Re),le=i(Re,"DIV",{class:!0});var Qe=h(le);fe=i(Qe,"LABEL",{class:!0});var $e=h(fe);be=i($e,"SPAN",{class:!0,"data-svelte-h":!0}),M(be)!=="svelte-1745cd4"&&(be.textContent=we),_e=g($e),oe=i($e,"DIV",{class:!0});var nt=h(oe);Se&&Se.l(nt),J=g(nt),ie=i(nt,"DIV",{class:!0,"data-svelte-h":!0}),M(ie)!=="svelte-1927f7x"&&(ie.innerHTML=ne),me=g(nt),ue=i(nt,"INPUT",{type:!0,accept:!0,class:!0}),nt.forEach(u),$e.forEach(u),de=g(Qe),Te=i(Qe,"DIV",{class:!0});var rt=h(Te);ae=i(rt,"H4",{class:!0});var et=h(ae);ve=O(et,"Pistas Actuales ("),Ae=O(et,ye),re=O(et,")"),et.forEach(u),Z=g(rt),De=i(rt,"DIV",{class:!0});var it=h(De);Le.l(it),it.forEach(u),rt.forEach(u),Qe.forEach(u),Re.forEach(u),Ve=g(ge),Ne=i(ge,"DIV",{class:!0});var ct=h(Ne);$=i(ct,"BUTTON",{class:!0,"data-svelte-h":!0}),M($)!=="svelte-158i1o4"&&($.textContent=Be),Pe=g(ct),Ce=i(ct,"BUTTON",{class:!0});var wt=h(Ce);Oe=O(wt,Ee),wt.forEach(u),ct.forEach(u),ge.forEach(u),Ie.forEach(u),this.h()},h(){a(l,"class","absolute top-4 right-4 text-slate-400 hover:text-white transition-colors"),a(o,"class","text-2xl font-bold mb-6 flex items-center gap-3"),a(y,"class","block text-sm font-semibold text-slate-400 mb-2"),a(I,"type","text"),a(I,"class","w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary-500 outline-none"),a(m,"class","block"),a(N,"class","block text-sm font-semibold text-slate-400 mb-2"),C.__value="musica",He(C,C.__value),P.__value="juegos",He(P,P.__value),A.__value="ambiente",He(A,A.__value),a(v,"class","w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary-500 outline-none"),r[7].category===void 0&&yt(()=>r[50].call(v)),a(E,"class","block"),a(F,"class","text-sm font-bold text-primary-400 mb-3 flex items-center gap-2"),a(q,"type","text"),a(q,"placeholder","T√≠tulo de la canci√≥n"),a(q,"class","w-full bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-primary-500 outline-none"),a(Y,"type","file"),a(Y,"accept","audio/*"),a(Y,"class","w-full text-xs text-slate-400 file:mr-3 file:py-1 file:px-3 file:rounded-full file:border-0 file:text-[10px] file:font-semibold file:bg-primary-500/20 file:text-primary-400"),se.disabled=ee=r[6]||!r[9].title||!r[9].file,a(se,"class","w-full py-2 bg-primary-500/10 hover:bg-primary-500/20 border border-primary-500/30 text-primary-400 text-xs font-bold rounded-lg transition-all"),a(G,"class","space-y-3"),a(R,"class","bg-black/30 border border-white/5 rounded-2xl p-4 mt-6"),a(w,"class","space-y-5"),a(be,"class","block text-sm font-semibold text-slate-400 mb-2"),a(ie,"class","absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center"),a(ue,"type","file"),a(ue,"accept","image/*"),a(ue,"class","absolute inset-0 opacity-0 cursor-pointer"),a(oe,"class","relative w-full aspect-square bg-black/40 border-2 border-dashed border-white/10 rounded-xl flex flex-col items-center justify-center p-4 overflow-hidden"),a(fe,"class","block group cursor-pointer"),a(ae,"class","text-sm font-bold text-slate-400 mb-3"),a(De,"class","max-h-40 overflow-y-auto custom-scrollbar space-y-2 svelte-qqas83"),a(Te,"class","bg-black/30 border border-white/5 rounded-2xl p-4"),a(le,"class","space-y-5"),a(b,"class","grid grid-cols-1 md:grid-cols-2 gap-8 mb-8"),a($,"class","px-6 py-2 text-slate-400 hover:text-white font-medium transition-colors"),Ce.disabled=r[6],a(Ce,"class","px-8 py-3 bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-500 hover:to-purple-500 rounded-xl font-bold text-white shadow-lg shadow-primary-900/20 transform hover:-translate-y-0.5 transition-all"),a(Ne,"class","flex justify-end items-center gap-4 pt-6 border-t border-white/5"),a(t,"class","bg-midnight-900 border border-white/10 rounded-3xl p-6 md:p-8 w-full max-w-2xl shadow-2xl relative overflow-y-auto max-h-[90vh]"),a(e,"class","fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fade-in"),a(e,"role","button"),a(e,"tabindex","0")},m(ke,Ie){W(ke,e,Ie),s(e,t),s(t,l),s(t,d),s(t,o),s(t,_),s(t,b),s(b,w),s(w,m),s(m,y),s(m,T),s(m,I),He(I,r[7].title),s(w,S),s(w,E),s(E,N),s(E,p),s(E,v),s(v,C),s(v,P),s(v,A),ft(v,r[7].category,!0),s(w,j),s(w,R),s(R,F),s(R,H),s(R,G),s(G,q),He(q,r[9].title),s(G,X),s(G,Y),s(G,K),s(G,se),s(se,ce),s(b,te),s(b,le),s(le,fe),s(fe,be),s(fe,_e),s(fe,oe),Se&&Se.m(oe,null),s(oe,J),s(oe,ie),s(oe,me),s(oe,ue),s(le,de),s(le,Te),s(Te,ae),s(ae,ve),s(ae,Ae),s(ae,re),s(Te,Z),s(Te,De),Le.m(De,null),s(t,Ve),s(t,Ne),s(Ne,$),s(Ne,Pe),s(Ne,Ce),s(Ce,Oe),Fe||(ze=[xe(l,"click",r[48]),xe(I,"input",r[49]),xe(v,"change",r[50]),xe(q,"input",r[51]),xe(Y,"change",r[52]),xe(se,"click",r[27]),xe(ue,"change",r[53]),xe($,"click",r[56]),xe(Ce,"click",r[26]),xe(e,"click",Gs(r[57])),xe(e,"keydown",r[58])],Fe=!0)},p(ke,Ie){Ie[0]&128&&I.value!==ke[7].title&&He(I,ke[7].title),Ie[0]&128&&ft(v,ke[7].category),Ie[0]&512&&q.value!==ke[9].title&&He(q,ke[9].title),Ie[0]&576&&ee!==(ee=ke[6]||!ke[9].title||!ke[9].file)&&(se.disabled=ee),he===(he=z(ke))&&Se?Se.p(ke,Ie):(Se&&Se.d(1),Se=he&&he(ke),Se&&(Se.c(),Se.m(oe,J))),Ie[0]&128&&ye!==(ye=(ke[7].tracks?.length||0)+"")&&pe(Ae,ye),Me===(Me=Ue(ke))&&Le?Le.p(ke,Ie):(Le.d(1),Le=Me(ke),Le&&(Le.c(),Le.m(De,null))),Ie[0]&64&&Ee!==(Ee=ke[6]?"Guardando cambios...":"üíæ Guardar Todo")&&pe(Oe,Ee),Ie[0]&64&&(Ce.disabled=ke[6])},d(ke){ke&&u(e),Se&&Se.d(),Le.d(),Fe=!1,lt(ze)}}}function ta(r){let e,t;return{c(){e=c("img"),this.h()},l(l){e=i(l,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){kt(e.src,t=r[7].cover)||a(e,"src",t),a(e,"class","absolute inset-0 w-full h-full object-cover"),a(e,"alt","Current Cover")},m(l,n){W(l,e,n)},p(l,n){n[0]&128&&!kt(e.src,t=l[7].cover)&&a(e,"src",t)},d(l){l&&u(e)}}}function la(r){let e,t;return{c(){e=c("img"),this.h()},l(l){e=i(l,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){kt(e.src,t=URL.createObjectURL(r[8]))||a(e,"src",t),a(e,"class","absolute inset-0 w-full h-full object-cover"),a(e,"alt","New Preview")},m(l,n){W(l,e,n)},p(l,n){n[0]&256&&!kt(e.src,t=URL.createObjectURL(l[8]))&&a(e,"src",t)},d(l){l&&u(e)}}}function sa(r){let e,t="Sin pistas";return{c(){e=c("p"),e.textContent=t,this.h()},l(l){e=i(l,"P",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-q22ewh"&&(e.textContent=t),this.h()},h(){a(e,"class","text-xs text-slate-600 italic text-center py-4")},m(l,n){W(l,e,n)},p:qe,d(l){l&&u(e)}}}function ra(r){let e,t=Ge(r[7].tracks),l=[];for(let n=0;n<t.length;n+=1)l[n]=ks(hs(r,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=fl()},l(n){for(let d=0;d<l.length;d+=1)l[d].l(n);e=fl()},m(n,d){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(n,d);W(n,e,d)},p(n,d){if(d[0]&1342181504){t=Ge(n[7].tracks);let o;for(o=0;o<t.length;o+=1){const f=hs(n,t,o);l[o]?l[o].p(f,d):(l[o]=ks(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),bt(l,n)}}}function ks(r){let e,t,l,n="üéµ",d,o,f=r[72].title+"",_,b,w,m,y,L=r[12]===r[72].file?"‚è∏":"‚ñ∂",T,I,S,E="üóëÔ∏è",N,B,p;function v(){return r[54](r[72])}function C(){return r[55](r[72])}return{c(){e=c("div"),t=c("div"),l=c("span"),l.textContent=n,d=x(),o=c("span"),_=U(f),w=x(),m=c("div"),y=c("button"),T=U(L),I=x(),S=c("button"),S.textContent=E,N=x(),this.h()},l(V){e=i(V,"DIV",{class:!0});var P=h(e);t=i(P,"DIV",{class:!0});var k=h(t);l=i(k,"SPAN",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-1g4k119"&&(l.textContent=n),d=g(k),o=i(k,"SPAN",{class:!0,title:!0});var A=h(o);_=O(A,f),A.forEach(u),k.forEach(u),w=g(P),m=i(P,"DIV",{class:!0});var D=h(m);y=i(D,"BUTTON",{class:!0});var j=h(y);T=O(j,L),j.forEach(u),I=g(D),S=i(D,"BUTTON",{class:!0,"data-svelte-h":!0}),M(S)!=="svelte-jydyb5"&&(S.textContent=E),D.forEach(u),N=g(P),P.forEach(u),this.h()},h(){a(l,"class","text-primary-500 text-[10px]"),a(o,"class","text-xs text-slate-300 truncate"),a(o,"title",b=r[72].title),a(t,"class","flex items-center gap-2 min-w-0"),a(y,"class","p-1 hover:text-primary-400 transition-colors"),a(S,"class","p-1 hover:text-red-400 transition-colors"),a(m,"class","flex items-center gap-1 shrink-0"),a(e,"class","flex items-center justify-between gap-2 p-2 bg-white/5 rounded-lg group/track")},m(V,P){W(V,e,P),s(e,t),s(t,l),s(t,d),s(t,o),s(o,_),s(e,w),s(e,m),s(m,y),s(y,T),s(m,I),s(m,S),s(e,N),B||(p=[xe(y,"click",v),xe(S,"click",C)],B=!0)},p(V,P){r=V,P[0]&128&&f!==(f=r[72].title+"")&&pe(_,f),P[0]&128&&b!==(b=r[72].title)&&a(o,"title",b),P[0]&4224&&L!==(L=r[12]===r[72].file?"‚è∏":"‚ñ∂")&&pe(T,L)},d(V){V&&u(e),B=!1,lt(p)}}}function ys(r){let e,t="PRO";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-iptan5"&&(e.textContent=t),this.h()},h(){a(e,"class","absolute top-0 right-0 bg-yellow-500 text-black text-[10px] font-bold px-1.5 py-0.5")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function aa(r){let e,t="Sin pistas disponibles";return{c(){e=c("p"),e.textContent=t,this.h()},l(l){e=i(l,"P",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-xhrmay"&&(e.textContent=t),this.h()},h(){a(e,"class","text-xs text-slate-500 text-center py-2")},m(l,n){W(l,e,n)},p:qe,d(l){l&&u(e)}}}function na(r){let e,t=Ge(r[69].tracks),l=[];for(let n=0;n<t.length;n+=1)l[n]=Cs(fs(r,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=fl()},l(n){for(let d=0;d<l.length;d+=1)l[d].l(n);e=fl()},m(n,d){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(n,d);W(n,e,d)},p(n,d){if(d[0]&1077940224){t=Ge(n[69].tracks);let o;for(o=0;o<t.length;o+=1){const f=fs(n,t,o);l[o]?l[o].p(f,d):(l[o]=Cs(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),bt(l,n)}}}function oa(r){let e;return{c(){e=U("‚ñ∂")},l(t){e=O(t,"‚ñ∂")},m(t,l){W(t,e,l)},d(t){t&&u(e)}}}function ia(r){let e;return{c(){e=U("‚è∏")},l(t){e=O(t,"‚è∏")},m(t,l){W(t,e,l)},d(t){t&&u(e)}}}function Cs(r){let e,t,l,n,d=r[72].title+"",o,f,_,b;function w(T,I){return T[12]===T[72].file?ia:oa}let m=w(r),y=m(r);function L(){return r[59](r[72])}return{c(){e=c("div"),t=c("button"),y.c(),l=x(),n=c("span"),o=U(d),f=x(),this.h()},l(T){e=i(T,"DIV",{class:!0});var I=h(e);t=i(I,"BUTTON",{class:!0});var S=h(t);y.l(S),S.forEach(u),l=g(I),n=i(I,"SPAN",{class:!0});var E=h(n);o=O(E,d),E.forEach(u),f=g(I),I.forEach(u),this.h()},h(){a(t,"class","text-primary-400 hover:text-white"),a(n,"class","text-slate-300 truncate"),a(e,"class","flex items-center gap-2 py-1 hover:bg-white/5 rounded px-2 text-xs")},m(T,I){W(T,e,I),s(e,t),y.m(t,null),s(e,l),s(e,n),s(n,o),s(e,f),_||(b=xe(t,"click",L),_=!0)},p(T,I){r=T,m!==(m=w(r))&&(y.d(1),y=m(r),y&&(y.c(),y.m(t,null))),I[0]&4194304&&d!==(d=r[72].title+"")&&pe(o,d)},d(T){T&&u(e),y.d(),_=!1,b()}}}function Es(r,e){let t,l,n,d,o,f,_,b,w,m,y=e[69].title+"",L,T,I,S,E=e[69].artist+"",N,B,p,v=e[69].category+"",C,V,P=(e[69].tracks?.length||0)+"",k,A,D,j,R,F,Q,H="‚úèÔ∏è Editar",G,q,X="üóëÔ∏è Eliminar",Y,K,se,ce=e[69].isPremium&&ys();function ee(we,_e){return we[69].tracks&&we[69].tracks.length>0?na:aa}let te=ee(e),le=te(e);function fe(){return e[60](e[69])}function be(){return e[61](e[69])}return{key:r,first:null,c(){t=c("div"),l=c("div"),n=c("div"),d=c("img"),_=x(),ce&&ce.c(),b=x(),w=c("div"),m=c("h3"),L=U(y),I=x(),S=c("p"),N=U(E),B=x(),p=c("p"),C=U(v),V=U(" ‚Ä¢ "),k=U(P),A=U(" tracks"),D=x(),j=c("div"),le.c(),R=x(),F=c("div"),Q=c("button"),Q.textContent=H,G=x(),q=c("button"),q.textContent=X,Y=x(),this.h()},l(we){t=i(we,"DIV",{class:!0});var _e=h(t);l=i(_e,"DIV",{class:!0});var oe=h(l);n=i(oe,"DIV",{class:!0});var J=h(n);d=i(J,"IMG",{src:!0,alt:!0,class:!0}),_=g(J),ce&&ce.l(J),J.forEach(u),b=g(oe),w=i(oe,"DIV",{class:!0});var ie=h(w);m=i(ie,"H3",{class:!0,title:!0});var ne=h(m);L=O(ne,y),ne.forEach(u),I=g(ie),S=i(ie,"P",{class:!0});var me=h(S);N=O(me,E),me.forEach(u),B=g(ie),p=i(ie,"P",{class:!0});var ue=h(p);C=O(ue,v),V=O(ue," ‚Ä¢ "),k=O(ue,P),A=O(ue," tracks"),ue.forEach(u),ie.forEach(u),oe.forEach(u),D=g(_e),j=i(_e,"DIV",{class:!0});var de=h(j);le.l(de),de.forEach(u),R=g(_e),F=i(_e,"DIV",{class:!0});var Te=h(F);Q=i(Te,"BUTTON",{class:!0,"data-svelte-h":!0}),M(Q)!=="svelte-1aw6g59"&&(Q.textContent=H),G=g(Te),q=i(Te,"BUTTON",{class:!0,"data-svelte-h":!0}),M(q)!=="svelte-11imbxg"&&(q.textContent=X),Te.forEach(u),Y=g(_e),_e.forEach(u),this.h()},h(){kt(d.src,o=e[69].cover)||a(d,"src",o),a(d,"alt",f=e[69].title),a(d,"class","w-full h-full object-cover"),a(n,"class","w-20 h-20 rounded-lg overflow-hidden bg-black/50 flex-shrink-0 relative"),a(m,"class","font-bold text-white truncate"),a(m,"title",T=e[69].title),a(S,"class","text-sm text-slate-400 truncate"),a(p,"class","text-xs text-slate-500 mt-1 capitalize"),a(w,"class","overflow-hidden"),a(l,"class","flex gap-4 mb-4"),a(j,"class","bg-black/20 rounded-xl p-3 mb-4 max-h-32 overflow-y-auto custom-scrollbar svelte-qqas83"),a(Q,"class","text-xs flex items-center gap-1 text-primary-400 hover:text-primary-300 px-3 py-1.5 rounded-lg hover:bg-primary-500/10 transition-colors"),a(q,"class","text-xs flex items-center gap-1 text-red-400 hover:text-red-300 px-3 py-1.5 rounded-lg hover:bg-red-500/10 transition-colors"),a(F,"class","flex justify-between pt-3 border-t border-white/10"),a(t,"class","bg-white/5 border border-white/10 rounded-2xl p-5 hover:bg-white/10 transition-colors group"),this.first=t},m(we,_e){W(we,t,_e),s(t,l),s(l,n),s(n,d),s(n,_),ce&&ce.m(n,null),s(l,b),s(l,w),s(w,m),s(m,L),s(w,I),s(w,S),s(S,N),s(w,B),s(w,p),s(p,C),s(p,V),s(p,k),s(p,A),s(t,D),s(t,j),le.m(j,null),s(t,R),s(t,F),s(F,Q),s(F,G),s(F,q),s(t,Y),K||(se=[xe(Q,"click",fe),xe(q,"click",be)],K=!0)},p(we,_e){e=we,_e[0]&4194304&&!kt(d.src,o=e[69].cover)&&a(d,"src",o),_e[0]&4194304&&f!==(f=e[69].title)&&a(d,"alt",f),e[69].isPremium?ce||(ce=ys(),ce.c(),ce.m(n,null)):ce&&(ce.d(1),ce=null),_e[0]&4194304&&y!==(y=e[69].title+"")&&pe(L,y),_e[0]&4194304&&T!==(T=e[69].title)&&a(m,"title",T),_e[0]&4194304&&E!==(E=e[69].artist+"")&&pe(N,E),_e[0]&4194304&&v!==(v=e[69].category+"")&&pe(C,v),_e[0]&4194304&&P!==(P=(e[69].tracks?.length||0)+"")&&pe(k,P),te===(te=ee(e))&&le?le.p(e,_e):(le.d(1),le=te(e),le&&(le.c(),le.m(j,null)))},d(we){we&&u(t),ce&&ce.d(),le.d(),K=!1,lt(se)}}}function ca(r){let e,t,l,n='<h2 class="text-2xl font-bold text-white mb-2">Gesti√≥n Musical</h2> <p class="text-slate-400">Gestiona la biblioteca de la app y el cat√°logo para creadores.</p>',d,o,f,_,b,w,m,y,L,T,I,S,E,N=r[13]&&bs(r);function B(C,V){return C[11]==="library"?Rr:Fr}let p=B(r),v=p(r);return{c(){e=c("div"),t=c("div"),l=c("div"),l.innerHTML=n,d=x(),o=c("div"),f=c("button"),_=U("Biblioteca App"),w=x(),m=c("button"),y=U("Cat√°logo Streamers"),T=x(),N&&N.c(),I=x(),v.c(),this.h()},l(C){e=i(C,"DIV",{class:!0});var V=h(e);t=i(V,"DIV",{class:!0});var P=h(t);l=i(P,"DIV",{"data-svelte-h":!0}),M(l)!=="svelte-frte3z"&&(l.innerHTML=n),d=g(P),o=i(P,"DIV",{class:!0});var k=h(o);f=i(k,"BUTTON",{class:!0});var A=h(f);_=O(A,"Biblioteca App"),A.forEach(u),w=g(k),m=i(k,"BUTTON",{class:!0});var D=h(m);y=O(D,"Cat√°logo Streamers"),D.forEach(u),k.forEach(u),P.forEach(u),T=g(V),N&&N.l(V),I=g(V),v.l(V),V.forEach(u),this.h()},h(){a(f,"class",b="px-4 py-2 rounded-lg text-sm font-bold transition-colors "+(r[11]==="library"?"bg-primary-500 text-white shadow-lg":"text-slate-400 hover:text-white")),a(m,"class",L="px-4 py-2 rounded-lg text-sm font-bold transition-colors "+(r[11]==="creators"?"bg-purple-500 text-white shadow-lg":"text-slate-400 hover:text-white")),a(o,"class","flex bg-black/30 p-1 rounded-xl"),a(t,"class","flex items-center justify-between mb-6"),a(e,"class","animate-fade-in")},m(C,V){W(C,e,V),s(e,t),s(t,l),s(t,d),s(t,o),s(o,f),s(f,_),s(o,w),s(o,m),s(m,y),s(e,T),N&&N.m(e,null),s(e,I),v.m(e,null),S||(E=[xe(f,"click",r[37]),xe(m,"click",r[38])],S=!0)},p(C,V){V[0]&2048&&b!==(b="px-4 py-2 rounded-lg text-sm font-bold transition-colors "+(C[11]==="library"?"bg-primary-500 text-white shadow-lg":"text-slate-400 hover:text-white"))&&a(f,"class",b),V[0]&2048&&L!==(L="px-4 py-2 rounded-lg text-sm font-bold transition-colors "+(C[11]==="creators"?"bg-purple-500 text-white shadow-lg":"text-slate-400 hover:text-white"))&&a(m,"class",L),C[13]?N?N.p(C,V):(N=bs(C),N.c(),N.m(e,I)):N&&(N.d(1),N=null),p===(p=B(C))&&v?v.p(C,V):(v.d(1),v=p(C),v&&(v.c(),v.m(e,null)))},i:qe,o:qe,d(C){C&&u(e),N&&N.d(),v.d(),S=!1,lt(E)}}}async function Ts(r,e){const t=await fetch("/api/r2/sign-url",{method:"POST",body:JSON.stringify({fileName:r.name,fileType:r.type,folder:e})});if(!t.ok)throw new Error("Failed to get upload URL");const{uploadUrl:l,key:n}=await t.json();if(!(await fetch(l,{method:"PUT",body:r,headers:{"Content-Type":r.type}})).ok)throw new Error("Failed to upload file to R2");return`https://pub-e58e51867b4c44f58a32c407eb8cca7c.r2.dev/${n}`}function ua(r,e,t){let l,n;wl(r,il,z=>t(36,n=z));let d=!1,o=!1,f=[],_="",b=!1,w=!1,m={id:"",title:"",artist:"",artistId:"",category:"musica",cover:"",tracks:[]},y=null,L={title:"",file:null},T={title:"",artist:"",artistId:"",category:"musica",coverFile:null,tracks:[]};function I(z){t(10,T.coverFile=z.target.files[0],T)}function S(z){t(10,T.tracks=Array.from(z.target.files),T)}function E(z){t(7,m={id:z.id,title:z.title,artist:z.artist,artistId:z.artistId||"",category:z.category||"musica",cover:z.cover||"",tracks:z.tracks||[]}),t(8,y=null),t(9,L={title:"",file:null}),t(2,b=!0)}async function N(){if(!m.title||!m.artist){alert("T√≠tulo y Artista son obligatorios");return}t(6,w=!0);try{const z={title:m.title,artist:m.artist,artistId:m.artistId,category:m.category,updatedAt:Date.now()};if(y){const Se=Date.now(),Ue=Ft(Rt,`albums/${m.artistId}/${Se}_cover`),Me=await sl(Ue,y);z.cover=await rl(Me.ref),t(7,m.cover=z.cover,m)}const he=ot(Xe,"albums",m.id);await pt(he,z),il.update(Se=>({...Se,availableAlbums:Se.availableAlbums.map(Ue=>Ue.id===m.id?{...Ue,...m}:Ue)})),alert("‚úÖ √Ålbum actualizado"),t(2,b=!1)}catch(z){console.error(z),alert("Error al actualizar: "+z.message)}finally{t(6,w=!1)}}async function B(){if(!L.title.trim()||!L.file){alert("T√≠tulo y archivo de audio son obligatorios");return}t(6,w=!0);try{const z=Date.now(),he=L.title.replace(/[^a-zA-Z0-9]/g,"_"),Se=Ft(Rt,`albums/${m.artistId}/tracks/${z}_${he}`),Ue=await sl(Se,L.file),Me=await rl(Ue.ref),Le={id:`track-${Date.now()}`,title:L.title.trim(),artist:m.artist,file:Me,duration:0},ke=[...m.tracks||[],Le];t(7,m.tracks=ke,m);const Ie=ot(Xe,"albums",m.id);await pt(Ie,{tracks:ke,updatedAt:Date.now()}),t(9,L={title:"",file:null}),alert("‚úÖ Track a√±adido al √°lbum")}catch(z){console.error(z),alert("Error al a√±adir track: "+z.message)}finally{t(6,w=!1)}}async function p(z){if(confirm("¬øEliminar esta canci√≥n del √°lbum?"))try{const he=m.tracks.filter(Ue=>Ue.id!==z);t(7,m.tracks=he,m);const Se=ot(Xe,"albums",m.id);await pt(Se,{tracks:he,updatedAt:Date.now()}),alert("‚úÖ Track eliminado")}catch(he){console.error(he),alert("Error: "+he.message)}}async function v(){if(!T.title||!T.artist||!T.coverFile||T.tracks.length===0){alert("Completa todos los campos (Portada y Tracks obligatorios)");return}t(5,o=!0);try{const z=T.artist.replace(/[^a-zA-Z0-9]/g,"_"),he=T.title.replace(/[^a-zA-Z0-9]/g,"_"),Se=`artists/${z}/${he}`,Ue=await Ts(T.coverFile,Se),Me=[];for(const Le of T.tracks){const ke=await Ts(Le,Se);Me.push({title:Le.name.replace(/\.[^/.]+$/,""),artist:T.artist,file:ke,id:crypto.randomUUID(),duration:0})}await Ll(Nt(Xe,"albums"),{title:T.title,artist:T.artist,artistId:T.artistId,category:T.category,cover:Ue,tracks:Me,createdAt:Bl(),vibeId:"custom",price:"Free",tag:"New",description:"Uploaded via Admin R2",isPremium:!1}),alert("‚úÖ √Ålbum creado y subido a R2 exitosamente"),t(4,d=!1),t(10,T={title:"",artist:"",artistId:"",category:"musica",coverFile:null,tracks:[]})}catch(z){console.error(z),alert("Error: "+z.message)}finally{t(5,o=!1)}}let C="library",V="",P=null,k=null,A="";function D(z){P===z?(k?.pause(),t(12,P=null)):(k&&k.pause(),k=new Audio(z),k.play(),t(12,P=z),k.onended=()=>t(12,P=null))}async function j(z){if(confirm(`‚ö†Ô∏è ¬øELIMINAR √ÅLBUM "${z.title}"?

Esta acci√≥n es irreversible.`))try{await Ht(ot(Xe,"albums",z.id)),il.update(he=>({...he,availableAlbums:he.availableAlbums.filter(Se=>Se.id!==z.id)})),t(13,A="‚úÖ √Ålbum eliminado correctamente"),setTimeout(()=>t(13,A=""),3e3)}catch(he){console.error(he),he.code==="permission-denied"?t(13,A="‚ùå No tienes permisos o es un √°lbum del sistema (no eliminable)"):t(13,A="‚ùå Error al eliminar (probablemente es un √°lbum est√°tico local): "+he.message)}}let R=[],F=!1,Q="",H="ChillChess Originals",G=null,q=null,X=!1,Y=0;Dt(async()=>{await Promise.all([se(),K()])});async function K(){try{const z=jt(Nt(Xe,"users"),$s("isVerified","==",!0)),he=await pl(z);t(0,f=he.docs.map(Se=>{const Ue=Se.data();return{uid:Se.id,displayName:Ue.displayName||Ue.username||"Sin Nombre",photoURL:Ue.photoURL,isFounder:Ue.subscriptionTier==="pro"||Ue.subscriptionTier==="premium"}})),console.log("Verified Artists loaded:",f.length)}catch(z){console.warn("Error loading verified artists:",z)}}async function se(){t(15,F=!0);try{const z=jt(Nt(Xe,"creatorCatalog"),zt("createdAt","desc")),he=await pl(z);t(14,R=he.docs.map(Se=>({id:Se.id,...Se.data()})))}catch(z){console.error("Error loading catalog:",z)}finally{t(15,F=!1)}}async function ce(){if(!Q||!G){alert("T√≠tulo y archivo de audio son obligatorios");return}t(20,X=!0),t(21,Y=10);try{const z=Date.now(),he=`catalog/${z}_${G.name}`,Se=Ft(Rt,he);await sl(Se,G);const Ue=await rl(Se);t(21,Y=60);let Me="";if(q){const ke=`catalog/covers/${z}_${q.name}`,Ie=Ft(Rt,ke);await sl(Ie,q),Me=await rl(Ie)}t(21,Y=80),await Ll(Nt(Xe,"creatorCatalog"),{title:Q,artist:H,url:Ue,coverUrl:Me||"/images/default-cover.jpg",storagePath:he,createdAt:Bl(),duration:0}),t(21,Y=100),t(13,A="‚úÖ Pista a√±adida al cat√°logo"),t(16,Q=""),t(18,G=null),t(19,q=null),document.querySelectorAll('input[type="file"]').forEach(ke=>ke.value=""),await se(),setTimeout(()=>t(13,A=""),3e3)}catch(z){console.error(z),alert("Error al subir: "+z.message)}finally{t(20,X=!1),t(21,Y=0)}}async function ee(z){if(confirm(`¬øEliminar "${z.title}" del cat√°logo?`))try{if(await Ht(ot(Xe,"creatorCatalog",z.id)),z.storagePath){const he=Ft(Rt,z.storagePath);await er(he).catch(()=>console.warn("Audio file not found"))}t(14,R=R.filter(he=>he.id!==z.id)),t(13,A="üóëÔ∏è Pista eliminada")}catch(he){alert("Error al eliminar: "+he.message)}}const te=()=>t(11,C="library"),le=()=>t(11,C="creators");function fe(){V=this.value,t(3,V)}const be=()=>t(4,d=!d),we=()=>t(4,d=!1);function _e(){T.title=this.value,t(10,T),t(1,_),t(0,f)}function oe(){_=Mt(this),t(1,_),t(0,f)}function J(){T.category=Mt(this),t(10,T),t(1,_),t(0,f)}const ie=()=>t(4,d=!1),ne=()=>t(4,d=!1),me=z=>z.key==="Escape"&&t(4,d=!1),ue=()=>t(2,b=!1);function de(){m.title=this.value,t(7,m),t(2,b),t(0,f)}function Te(){m.category=Mt(this),t(7,m),t(2,b),t(0,f)}function ae(){L.title=this.value,t(9,L)}const ve=z=>t(9,L.file=z.currentTarget.files?.[0]||null,L),ye=z=>t(8,y=z.currentTarget.files?.[0]||null),Ae=z=>D(z.file),re=z=>p(z.id),Z=()=>t(2,b=!1),De=()=>t(2,b=!1),Ve=z=>z.key==="Escape"&&t(2,b=!1),Ne=z=>D(z.file),$=z=>E(z),Be=z=>j(z);function Pe(){Q=this.value,t(16,Q)}function Ce(){H=this.value,t(17,H)}const Ee=z=>t(18,G=z.currentTarget.files?.[0]||null),Oe=z=>t(19,q=z.currentTarget.files?.[0]||null),Fe=z=>D(z.url),ze=z=>ee(z);return r.$$.update=()=>{if(r.$$.dirty[0]&3&&_){const z=f.find(he=>he.uid===_);z&&(t(10,T.artist=z.displayName,T),t(10,T.artistId=z.uid,T))}r.$$.dirty[0]&5,r.$$.dirty[0]&8|r.$$.dirty[1]&32&&t(22,l=n.availableAlbums.filter(z=>{const he=V.toLowerCase();return z.title.toLowerCase().includes(he)||z.artist.toLowerCase().includes(he)}))},[f,_,b,V,d,o,w,m,y,L,T,C,P,A,R,F,Q,H,G,q,X,Y,l,I,S,E,N,B,p,v,D,j,K,se,ce,ee,n,te,le,fe,be,we,_e,oe,J,ie,ne,me,ue,de,Te,ae,ve,ye,Ae,re,Z,De,Ve,Ne,$,Be,Pe,Ce,Ee,Oe,Fe,ze]}class da extends Ct{constructor(e){super(),Et(this,e,ua,ca,Tt,{},null,[-1,-1,-1])}}function Ds(r,e,t){const l=r.slice();return l[5]=e[t],l}function Is(r){let e,t,l=new Date(r[5].timestamp).toLocaleTimeString()+"",n,d,o,f,_=r[5].module+"",b,w,m,y,L=r[5].message+"",T,I;return{c(){e=c("div"),t=c("span"),n=U(l),d=x(),o=c("span"),f=U("["),b=U(_),w=U("]"),m=x(),y=c("span"),T=U(L),this.h()},l(S){e=i(S,"DIV",{class:!0});var E=h(e);t=i(E,"SPAN",{class:!0});var N=h(t);n=O(N,l),N.forEach(u),d=g(E),o=i(E,"SPAN",{class:!0});var B=h(o);f=O(B,"["),b=O(B,_),w=O(B,"]"),B.forEach(u),m=g(E),y=i(E,"SPAN",{class:!0});var p=h(y);T=O(p,L),p.forEach(u),E.forEach(u),this.h()},h(){a(t,"class","text-slate-500 w-24 flex-shrink-0"),a(o,"class","font-bold w-24 flex-shrink-0 flex items-center gap-2"),a(y,"class","text-slate-300"),a(e,"class",I="flex gap-4 p-2 hover:bg-white/5 rounded border-l-2 "+Vs(r[5].type)+" mb-1 svelte-bfe4de")},m(S,E){W(S,e,E),s(e,t),s(t,n),s(e,d),s(e,o),s(o,f),s(o,b),s(o,w),s(e,m),s(e,y),s(y,T)},p(S,E){E&2&&l!==(l=new Date(S[5].timestamp).toLocaleTimeString()+"")&&pe(n,l),E&2&&_!==(_=S[5].module+"")&&pe(b,_),E&2&&L!==(L=S[5].message+"")&&pe(T,L),E&2&&I!==(I="flex gap-4 p-2 hover:bg-white/5 rounded border-l-2 "+Vs(S[5].type)+" mb-1 svelte-bfe4de")&&a(e,"class",I)},d(S){S&&u(e)}}}function As(r){let e,t="No hay logs para mostrar";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-10mp30q"&&(e.textContent=t),this.h()},h(){a(e,"class","text-center py-12 text-slate-500")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function fa(r){let e,t,l,n='<h2 class="text-2xl font-bold text-white mb-2">Logs del Sistema</h2> <p class="text-slate-400">Registro de actividad y errores</p>',d,o,f,_,b,w,m,y,L,T,I,S,E,N,B=Ge(r[1]),p=[];for(let C=0;C<B.length;C+=1)p[C]=Is(Ds(r,B,C));let v=r[1].length===0&&As();return{c(){e=c("div"),t=c("div"),l=c("div"),l.innerHTML=n,d=x(),o=c("div"),f=c("button"),_=U("Todos"),w=x(),m=c("button"),y=U("Errores"),T=x(),I=c("div");for(let C=0;C<p.length;C+=1)p[C].c();S=x(),v&&v.c(),this.h()},l(C){e=i(C,"DIV",{class:!0});var V=h(e);t=i(V,"DIV",{class:!0});var P=h(t);l=i(P,"DIV",{"data-svelte-h":!0}),M(l)!=="svelte-1tzxayg"&&(l.innerHTML=n),d=g(P),o=i(P,"DIV",{class:!0});var k=h(o);f=i(k,"BUTTON",{class:!0});var A=h(f);_=O(A,"Todos"),A.forEach(u),w=g(k),m=i(k,"BUTTON",{class:!0});var D=h(m);y=O(D,"Errores"),D.forEach(u),k.forEach(u),P.forEach(u),T=g(V),I=i(V,"DIV",{class:!0});var j=h(I);for(let R=0;R<p.length;R+=1)p[R].l(j);S=g(j),v&&v.l(j),j.forEach(u),V.forEach(u),this.h()},h(){a(f,"class",b="px-3 py-1 bg-white/5 hover:bg-white/10 rounded-lg text-sm "+(r[0]==="all"?"text-white bg-white/10":"text-slate-400")),a(m,"class",L="px-3 py-1 bg-white/5 hover:bg-white/10 rounded-lg text-sm "+(r[0]==="error"?"text-red-400 bg-red-500/10":"text-slate-400")),a(o,"class","flex gap-2"),a(t,"class","flex items-center justify-between mb-6"),a(I,"class","bg-[#0F172A] border border-white/10 rounded-2xl p-4 font-mono text-sm h-[600px] overflow-y-auto custom-scrollbar svelte-bfe4de"),a(e,"class","animate-fade-in")},m(C,V){W(C,e,V),s(e,t),s(t,l),s(t,d),s(t,o),s(o,f),s(f,_),s(o,w),s(o,m),s(m,y),s(e,T),s(e,I);for(let P=0;P<p.length;P+=1)p[P]&&p[P].m(I,null);s(I,S),v&&v.m(I,null),E||(N=[xe(f,"click",r[3]),xe(m,"click",r[4])],E=!0)},p(C,[V]){if(V&1&&b!==(b="px-3 py-1 bg-white/5 hover:bg-white/10 rounded-lg text-sm "+(C[0]==="all"?"text-white bg-white/10":"text-slate-400"))&&a(f,"class",b),V&1&&L!==(L="px-3 py-1 bg-white/5 hover:bg-white/10 rounded-lg text-sm "+(C[0]==="error"?"text-red-400 bg-red-500/10":"text-slate-400"))&&a(m,"class",L),V&2){B=Ge(C[1]);let P;for(P=0;P<B.length;P+=1){const k=Ds(C,B,P);p[P]?p[P].p(k,V):(p[P]=Is(k),p[P].c(),p[P].m(I,S))}for(;P<p.length;P+=1)p[P].d(1);p.length=B.length}C[1].length===0?v||(v=As(),v.c(),v.m(I,null)):v&&(v.d(1),v=null)},i:qe,o:qe,d(C){C&&u(e),bt(p,C),v&&v.d(),E=!1,lt(N)}}}function Vs(r){switch(r){case"success":return"text-green-400 border-green-500/50";case"error":return"text-red-400 border-red-500/50";case"warning":return"text-yellow-400 border-yellow-500/50";default:return"text-blue-400 border-blue-500/50"}}function ha(r,e,t){let l,n=[],d="all";Dt(()=>{t(2,n=[{id:"1",type:"info",message:"Admin panel initialized",timestamp:Date.now(),module:"System"},{id:"2",type:"success",message:"User database connected",timestamp:Date.now()-1e3,module:"Database"},{id:"3",type:"info",message:"Checked 145 users status",timestamp:Date.now()-5e3,module:"Users"}])});const o=()=>t(0,d="all"),f=()=>t(0,d="error");return r.$$.update=()=>{r.$$.dirty&5&&t(1,l=d==="all"?n:n.filter(_=>_.type===d))},[d,l,n,o,f]}class pa extends Ct{constructor(e){super(),Et(this,e,ha,fa,Tt,{})}}function Ns(r,e,t){const l=r.slice();return l[24]=e[t],l}function Ps(r){let e,t,l=r[0].length===0?"No hay bugs reportados":"No hay bugs con los filtros seleccionados",n;return{c(){e=c("div"),t=c("p"),n=U(l),this.h()},l(d){e=i(d,"DIV",{class:!0});var o=h(e);t=i(o,"P",{class:!0});var f=h(t);n=O(f,l),f.forEach(u),o.forEach(u),this.h()},h(){a(t,"class","text-slate-400"),a(e,"class","text-center py-12 bg-white/5 rounded-2xl border border-white/10")},m(d,o){W(d,e,o),s(e,t),s(t,n)},p(d,o){o&1&&l!==(l=d[0].length===0?"No hay bugs reportados":"No hay bugs con los filtros seleccionados")&&pe(n,l)},d(d){d&&u(e)}}}function Ss(r){let e,t,l,n="Descripci√≥n:",d,o,f=r[24].description+"",_,b,w,m,y,L="Estado:",T,I,S,E,N,B,p,v,C,V,P,k,A,D,j,R,F,Q,H,G,q,X="Notas del Admin:",Y,K,se,ce,ee=r[24].steps&&Ls(r);function te(){return r[15](r[24])}function le(){return r[16](r[24])}function fe(){return r[17](r[24])}function be(){return r[18](r[24])}let we=r[4]!==r[24].id&&Bs(r);function _e(ie,ne){return ie[4]===ie[24].id?_a:ie[24].adminNotes?ba:va}let oe=_e(r),J=oe(r);return{c(){e=c("div"),t=c("div"),l=c("p"),l.textContent=n,d=x(),o=c("p"),_=U(f),b=x(),ee&&ee.c(),w=x(),m=c("div"),y=c("p"),y.textContent=L,T=x(),I=c("div"),S=c("button"),E=U("üìù Reportado"),B=x(),p=c("button"),v=U("üîç En Revisi√≥n"),V=x(),P=c("button"),k=U("‚úÖ Solucionado"),D=x(),j=c("button"),R=U("‚ùå No es Bug"),Q=x(),H=c("div"),G=c("div"),q=c("p"),q.textContent=X,Y=x(),we&&we.c(),K=x(),J.c(),this.h()},l(ie){e=i(ie,"DIV",{class:!0});var ne=h(e);t=i(ne,"DIV",{});var me=h(t);l=i(me,"P",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-fkgtkt"&&(l.textContent=n),d=g(me),o=i(me,"P",{class:!0});var ue=h(o);_=O(ue,f),ue.forEach(u),me.forEach(u),b=g(ne),ee&&ee.l(ne),w=g(ne),m=i(ne,"DIV",{});var de=h(m);y=i(de,"P",{class:!0,"data-svelte-h":!0}),M(y)!=="svelte-fdqvni"&&(y.textContent=L),T=g(de),I=i(de,"DIV",{class:!0});var Te=h(I);S=i(Te,"BUTTON",{class:!0});var ae=h(S);E=O(ae,"üìù Reportado"),ae.forEach(u),B=g(Te),p=i(Te,"BUTTON",{class:!0});var ve=h(p);v=O(ve,"üîç En Revisi√≥n"),ve.forEach(u),V=g(Te),P=i(Te,"BUTTON",{class:!0});var ye=h(P);k=O(ye,"‚úÖ Solucionado"),ye.forEach(u),D=g(Te),j=i(Te,"BUTTON",{class:!0});var Ae=h(j);R=O(Ae,"‚ùå No es Bug"),Ae.forEach(u),Te.forEach(u),de.forEach(u),Q=g(ne),H=i(ne,"DIV",{});var re=h(H);G=i(re,"DIV",{class:!0});var Z=h(G);q=i(Z,"P",{class:!0,"data-svelte-h":!0}),M(q)!=="svelte-1m4eb75"&&(q.textContent=X),Y=g(Z),we&&we.l(Z),Z.forEach(u),K=g(re),J.l(re),re.forEach(u),ne.forEach(u),this.h()},h(){a(l,"class","text-xs text-slate-500 uppercase font-bold mb-2"),a(o,"class","text-slate-300 leading-relaxed"),a(y,"class","text-xs text-slate-500 uppercase font-bold mb-2"),a(S,"class",N="px-4 py-2 rounded-xl transition-all "+(r[24].status==="reported"?Vt("reported"):"bg-white/5 text-slate-400 hover:bg-white/10")),a(p,"class",C="px-4 py-2 rounded-xl transition-all "+(r[24].status==="reviewing"?Vt("reviewing"):"bg-white/5 text-slate-400 hover:bg-white/10")),a(P,"class",A="px-4 py-2 rounded-xl transition-all "+(r[24].status==="fixed"?Vt("fixed"):"bg-white/5 text-slate-400 hover:bg-white/10")),a(j,"class",F="px-4 py-2 rounded-xl transition-all "+(r[24].status==="not-a-bug"?Vt("not-a-bug"):"bg-white/5 text-slate-400 hover:bg-white/10")),a(I,"class","flex flex-wrap gap-2"),a(q,"class","text-xs text-slate-500 uppercase font-bold"),a(G,"class","flex items-center justify-between mb-2"),a(e,"class","px-6 pb-6 space-y-4 border-t border-white/10 pt-4")},m(ie,ne){W(ie,e,ne),s(e,t),s(t,l),s(t,d),s(t,o),s(o,_),s(e,b),ee&&ee.m(e,null),s(e,w),s(e,m),s(m,y),s(m,T),s(m,I),s(I,S),s(S,E),s(I,B),s(I,p),s(p,v),s(I,V),s(I,P),s(P,k),s(I,D),s(I,j),s(j,R),s(e,Q),s(e,H),s(H,G),s(G,q),s(G,Y),we&&we.m(G,null),s(H,K),J.m(H,null),se||(ce=[xe(S,"click",te),xe(p,"click",le),xe(P,"click",fe),xe(j,"click",be)],se=!0)},p(ie,ne){r=ie,ne&128&&f!==(f=r[24].description+"")&&pe(_,f),r[24].steps?ee?ee.p(r,ne):(ee=Ls(r),ee.c(),ee.m(e,w)):ee&&(ee.d(1),ee=null),ne&128&&N!==(N="px-4 py-2 rounded-xl transition-all "+(r[24].status==="reported"?Vt("reported"):"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(S,"class",N),ne&128&&C!==(C="px-4 py-2 rounded-xl transition-all "+(r[24].status==="reviewing"?Vt("reviewing"):"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(p,"class",C),ne&128&&A!==(A="px-4 py-2 rounded-xl transition-all "+(r[24].status==="fixed"?Vt("fixed"):"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(P,"class",A),ne&128&&F!==(F="px-4 py-2 rounded-xl transition-all "+(r[24].status==="not-a-bug"?Vt("not-a-bug"):"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(j,"class",F),r[4]!==r[24].id?we?we.p(r,ne):(we=Bs(r),we.c(),we.m(G,null)):we&&(we.d(1),we=null),oe===(oe=_e(r))&&J?J.p(r,ne):(J.d(1),J=oe(r),J&&(J.c(),J.m(H,null)))},d(ie){ie&&u(e),ee&&ee.d(),we&&we.d(),J.d(),se=!1,lt(ce)}}}function Ls(r){let e,t,l="Pasos para Reproducir:",n,d,o=r[24].steps+"",f;return{c(){e=c("div"),t=c("p"),t.textContent=l,n=x(),d=c("pre"),f=U(o),this.h()},l(_){e=i(_,"DIV",{});var b=h(e);t=i(b,"P",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1agrlq3"&&(t.textContent=l),n=g(b),d=i(b,"PRE",{class:!0});var w=h(d);f=O(w,o),w.forEach(u),b.forEach(u),this.h()},h(){a(t,"class","text-xs text-slate-500 uppercase font-bold mb-2"),a(d,"class","bg-black/20 rounded-xl p-4 text-sm text-slate-300 whitespace-pre-wrap font-mono")},m(_,b){W(_,e,b),s(e,t),s(e,n),s(e,d),s(d,f)},p(_,b){b&128&&o!==(o=_[24].steps+"")&&pe(f,o)},d(_){_&&u(e)}}}function Bs(r){let e,t=r[24].adminNotes?"Editar":"A√±adir",l,n,d;function o(){return r[19](r[24])}return{c(){e=c("button"),l=U(t),this.h()},l(f){e=i(f,"BUTTON",{class:!0});var _=h(e);l=O(_,t),_.forEach(u),this.h()},h(){a(e,"class","text-xs text-primary-400 hover:text-primary-300")},m(f,_){W(f,e,_),s(e,l),n||(d=xe(e,"click",o),n=!0)},p(f,_){r=f,_&128&&t!==(t=r[24].adminNotes?"Editar":"A√±adir")&&pe(l,t)},d(f){f&&u(e),n=!1,d()}}}function va(r){let e,t="Sin notas";return{c(){e=c("p"),e.textContent=t,this.h()},l(l){e=i(l,"P",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1fl5c8j"&&(e.textContent=t),this.h()},h(){a(e,"class","text-sm text-slate-500 italic")},m(l,n){W(l,e,n)},p:qe,d(l){l&&u(e)}}}function ba(r){let e,t,l=r[24].adminNotes+"",n;return{c(){e=c("div"),t=c("p"),n=U(l),this.h()},l(d){e=i(d,"DIV",{class:!0});var o=h(e);t=i(o,"P",{class:!0});var f=h(t);n=O(f,l),f.forEach(u),o.forEach(u),this.h()},h(){a(t,"class","text-sm text-primary-200"),a(e,"class","bg-primary-500/10 border border-primary-500/30 rounded-xl p-4")},m(d,o){W(d,e,o),s(e,t),s(t,n)},p(d,o){o&128&&l!==(l=d[24].adminNotes+"")&&pe(n,l)},d(d){d&&u(e)}}}function _a(r){let e,t,l,n,d,o="Guardar",f,_,b="Cancelar",w,m;function y(){return r[21](r[24])}return{c(){e=c("div"),t=c("textarea"),l=x(),n=c("div"),d=c("button"),d.textContent=o,f=x(),_=c("button"),_.textContent=b,this.h()},l(L){e=i(L,"DIV",{class:!0});var T=h(e);t=i(T,"TEXTAREA",{placeholder:!0,class:!0,rows:!0}),h(t).forEach(u),l=g(T),n=i(T,"DIV",{class:!0});var I=h(n);d=i(I,"BUTTON",{class:!0,"data-svelte-h":!0}),M(d)!=="svelte-qijiw0"&&(d.textContent=o),f=g(I),_=i(I,"BUTTON",{class:!0,"data-svelte-h":!0}),M(_)!=="svelte-1otxule"&&(_.textContent=b),I.forEach(u),T.forEach(u),this.h()},h(){a(t,"placeholder","A√±ade notas visibles para los usuarios..."),a(t,"class","w-full px-4 py-3 bg-black/20 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:border-primary-500 focus:outline-none resize-none"),a(t,"rows","3"),a(d,"class","px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-xl text-sm font-medium"),a(_,"class","px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-xl text-sm"),a(n,"class","flex gap-2"),a(e,"class","space-y-2")},m(L,T){W(L,e,T),s(e,t),He(t,r[5]),s(e,l),s(e,n),s(n,d),s(n,f),s(n,_),w||(m=[xe(t,"input",r[20]),xe(d,"click",y),xe(_,"click",r[22])],w=!0)},p(L,T){r=L,T&32&&He(t,r[5])},d(L){L&&u(e),w=!1,lt(m)}}}function Os(r){let e,t,l,n,d,o,f,_,b=r[24].title+"",w,m,y,L,T=r[24].severity.toUpperCase()+"",I,S,E,N,B,p=r[24].author+"",v,C,V,P="‚Ä¢",k,A,D=r[24].browser+"",j,R,F=r[24].os+"",Q,H,G,q="‚Ä¢",X,Y,K=r[24].createdAt.toLocaleDateString("es-ES")+"",se,ce,ee,te,le,fe,be,we,_e;function oe(){return r[14](r[24])}let J=r[3]===r[24].id&&Ss(r);return{c(){e=c("div"),t=c("button"),l=c("div"),d=x(),o=c("div"),f=c("div"),_=c("h3"),w=U(b),m=x(),y=c("div"),L=c("span"),I=U(T),E=x(),N=c("div"),B=c("span"),v=U(p),C=x(),V=c("span"),V.textContent=P,k=x(),A=c("span"),j=U(D),R=U(" / "),Q=U(F),H=x(),G=c("span"),G.textContent=q,X=x(),Y=c("span"),se=U(K),ce=x(),ee=dl("svg"),te=dl("path"),fe=x(),J&&J.c(),be=x(),this.h()},l(ie){e=i(ie,"DIV",{class:!0});var ne=h(e);t=i(ne,"BUTTON",{class:!0});var me=h(t);l=i(me,"DIV",{class:!0}),h(l).forEach(u),d=g(me),o=i(me,"DIV",{class:!0});var ue=h(o);f=i(ue,"DIV",{class:!0});var de=h(f);_=i(de,"H3",{class:!0});var Te=h(_);w=O(Te,b),Te.forEach(u),m=g(de),y=i(de,"DIV",{class:!0});var ae=h(y);L=i(ae,"SPAN",{class:!0});var ve=h(L);I=O(ve,T),ve.forEach(u),ae.forEach(u),de.forEach(u),E=g(ue),N=i(ue,"DIV",{class:!0});var ye=h(N);B=i(ye,"SPAN",{});var Ae=h(B);v=O(Ae,p),Ae.forEach(u),C=g(ye),V=i(ye,"SPAN",{"data-svelte-h":!0}),M(V)!=="svelte-7hh8jk"&&(V.textContent=P),k=g(ye),A=i(ye,"SPAN",{});var re=h(A);j=O(re,D),R=O(re," / "),Q=O(re,F),re.forEach(u),H=g(ye),G=i(ye,"SPAN",{"data-svelte-h":!0}),M(G)!=="svelte-7hh8jk"&&(G.textContent=q),X=g(ye),Y=i(ye,"SPAN",{});var Z=h(Y);se=O(Z,K),Z.forEach(u),ye.forEach(u),ue.forEach(u),ce=g(me),ee=ul(me,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var De=h(ee);te=ul(De,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(te).forEach(u),De.forEach(u),me.forEach(u),fe=g(ne),J&&J.l(ne),be=g(ne),ne.forEach(u),this.h()},h(){a(l,"class",n="w-1.5 h-12 rounded-full "+al(r[24].severity)+" flex-shrink-0"),a(_,"class","text-lg font-bold text-white flex-1"),a(L,"class",S="px-2 py-1 rounded-lg text-xs font-bold "+al(r[24].severity)+" text-white"),a(y,"class","flex gap-2 flex-shrink-0"),a(f,"class","flex items-start gap-3 mb-2"),a(N,"class","flex flex-wrap gap-3 text-xs text-slate-400"),a(o,"class","flex-1 min-w-0"),a(te,"stroke-linecap","round"),a(te,"stroke-linejoin","round"),a(te,"stroke-width","2"),a(te,"d","M19 9l-7 7-7-7"),a(ee,"class",le="w-5 h-5 text-slate-400 transition-transform "+(r[3]===r[24].id?"rotate-180":"")),a(ee,"fill","none"),a(ee,"stroke","currentColor"),a(ee,"viewBox","0 0 24 24"),a(t,"class","w-full px-6 py-4 flex items-start gap-4 text-left hover:bg-white/5 transition-colors"),a(e,"class","bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl overflow-hidden hover:border-white/20 transition-all")},m(ie,ne){W(ie,e,ne),s(e,t),s(t,l),s(t,d),s(t,o),s(o,f),s(f,_),s(_,w),s(f,m),s(f,y),s(y,L),s(L,I),s(o,E),s(o,N),s(N,B),s(B,v),s(N,C),s(N,V),s(N,k),s(N,A),s(A,j),s(A,R),s(A,Q),s(N,H),s(N,G),s(N,X),s(N,Y),s(Y,se),s(t,ce),s(t,ee),s(ee,te),s(e,fe),J&&J.m(e,null),s(e,be),we||(_e=xe(t,"click",oe),we=!0)},p(ie,ne){r=ie,ne&128&&n!==(n="w-1.5 h-12 rounded-full "+al(r[24].severity)+" flex-shrink-0")&&a(l,"class",n),ne&128&&b!==(b=r[24].title+"")&&pe(w,b),ne&128&&T!==(T=r[24].severity.toUpperCase()+"")&&pe(I,T),ne&128&&S!==(S="px-2 py-1 rounded-lg text-xs font-bold "+al(r[24].severity)+" text-white")&&a(L,"class",S),ne&128&&p!==(p=r[24].author+"")&&pe(v,p),ne&128&&D!==(D=r[24].browser+"")&&pe(j,D),ne&128&&F!==(F=r[24].os+"")&&pe(Q,F),ne&128&&K!==(K=r[24].createdAt.toLocaleDateString("es-ES")+"")&&pe(se,K),ne&136&&le!==(le="w-5 h-5 text-slate-400 transition-transform "+(r[3]===r[24].id?"rotate-180":""))&&a(ee,"class",le),r[3]===r[24].id?J?J.p(r,ne):(J=Ss(r),J.c(),J.m(e,be)):J&&(J.d(1),J=null)},d(ie){ie&&u(e),J&&J.d(),we=!1,_e()}}}function ma(r){let e,t,l='<div><h2 class="text-2xl font-bold text-white mb-1">Gesti√≥n de Bugs</h2> <p class="text-slate-400">Revisa y gestiona reportes de problemas</p></div>',n,d,o,f,_=r[6].total+"",b,w,m,y="Total",L,T,I,S=r[6].reported+"",E,N,B,p="Reportados",v,C,V,P=r[6].reviewing+"",k,A,D,j="En Revisi√≥n",R,F,Q,H=r[6].fixed+"",G,q,X,Y="Solucionados",K,se,ce,ee=r[6].critical+"",te,le,fe,be="Cr√≠ticos",we,_e,oe,J,ie="Todos los Estados",ne,me="Reportados",ue,de="En Revisi√≥n",Te,ae="Solucionados",ve,ye="No es Bug",Ae,re,Z,De="Todas las Severidades",Ve,Ne="Cr√≠tico",$,Be="Alto",Pe,Ce="Medio",Ee,Oe="Bajo",Fe,ze,z,he,Se,Ue=r[7].length===0&&Ps(r),Me=Ge(r[7]),Le=[];for(let ke=0;ke<Me.length;ke+=1)Le[ke]=Os(Ns(r,Me,ke));return{c(){e=c("div"),t=c("div"),t.innerHTML=l,n=x(),d=c("div"),o=c("div"),f=c("div"),b=U(_),w=x(),m=c("div"),m.textContent=y,L=x(),T=c("div"),I=c("div"),E=U(S),N=x(),B=c("div"),B.textContent=p,v=x(),C=c("div"),V=c("div"),k=U(P),A=x(),D=c("div"),D.textContent=j,R=x(),F=c("div"),Q=c("div"),G=U(H),q=x(),X=c("div"),X.textContent=Y,K=x(),se=c("div"),ce=c("div"),te=U(ee),le=x(),fe=c("div"),fe.textContent=be,we=x(),_e=c("div"),oe=c("select"),J=c("option"),J.textContent=ie,ne=c("option"),ne.textContent=me,ue=c("option"),ue.textContent=de,Te=c("option"),Te.textContent=ae,ve=c("option"),ve.textContent=ye,Ae=x(),re=c("select"),Z=c("option"),Z.textContent=De,Ve=c("option"),Ve.textContent=Ne,$=c("option"),$.textContent=Be,Pe=c("option"),Pe.textContent=Ce,Ee=c("option"),Ee.textContent=Oe,Fe=x(),ze=c("div"),Ue&&Ue.c(),z=x();for(let ke=0;ke<Le.length;ke+=1)Le[ke].c();this.h()},l(ke){e=i(ke,"DIV",{class:!0});var Ie=h(e);t=i(Ie,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1rcr37h"&&(t.innerHTML=l),n=g(Ie),d=i(Ie,"DIV",{class:!0});var ge=h(d);o=i(ge,"DIV",{class:!0});var Re=h(o);f=i(Re,"DIV",{class:!0});var je=h(f);b=O(je,_),je.forEach(u),w=g(Re),m=i(Re,"DIV",{class:!0,"data-svelte-h":!0}),M(m)!=="svelte-mgrfmg"&&(m.textContent=y),Re.forEach(u),L=g(ge),T=i(ge,"DIV",{class:!0});var Ke=h(T);I=i(Ke,"DIV",{class:!0});var st=h(I);E=O(st,S),st.forEach(u),N=g(Ke),B=i(Ke,"DIV",{class:!0,"data-svelte-h":!0}),M(B)!=="svelte-1a6zh3z"&&(B.textContent=p),Ke.forEach(u),v=g(ge),C=i(ge,"DIV",{class:!0});var Je=h(C);V=i(Je,"DIV",{class:!0});var Ye=h(V);k=O(Ye,P),Ye.forEach(u),A=g(Je),D=i(Je,"DIV",{class:!0,"data-svelte-h":!0}),M(D)!=="svelte-6tkozl"&&(D.textContent=j),Je.forEach(u),R=g(ge),F=i(ge,"DIV",{class:!0});var Ze=h(F);Q=i(Ze,"DIV",{class:!0});var dt=h(Q);G=O(dt,H),dt.forEach(u),q=g(Ze),X=i(Ze,"DIV",{class:!0,"data-svelte-h":!0}),M(X)!=="svelte-1a81m9"&&(X.textContent=Y),Ze.forEach(u),K=g(ge),se=i(ge,"DIV",{class:!0});var Qe=h(se);ce=i(Qe,"DIV",{class:!0});var $e=h(ce);te=O($e,ee),$e.forEach(u),le=g(Qe),fe=i(Qe,"DIV",{class:!0,"data-svelte-h":!0}),M(fe)!=="svelte-80ccto"&&(fe.textContent=be),Qe.forEach(u),ge.forEach(u),we=g(Ie),_e=i(Ie,"DIV",{class:!0});var nt=h(_e);oe=i(nt,"SELECT",{class:!0});var rt=h(oe);J=i(rt,"OPTION",{"data-svelte-h":!0}),M(J)!=="svelte-1ksydmx"&&(J.textContent=ie),ne=i(rt,"OPTION",{"data-svelte-h":!0}),M(ne)!=="svelte-rr9ijo"&&(ne.textContent=me),ue=i(rt,"OPTION",{"data-svelte-h":!0}),M(ue)!=="svelte-1pd0gee"&&(ue.textContent=de),Te=i(rt,"OPTION",{"data-svelte-h":!0}),M(Te)!=="svelte-15ourz1"&&(Te.textContent=ae),ve=i(rt,"OPTION",{"data-svelte-h":!0}),M(ve)!=="svelte-xis8on"&&(ve.textContent=ye),rt.forEach(u),Ae=g(nt),re=i(nt,"SELECT",{class:!0});var et=h(re);Z=i(et,"OPTION",{"data-svelte-h":!0}),M(Z)!=="svelte-63r4kn"&&(Z.textContent=De),Ve=i(et,"OPTION",{"data-svelte-h":!0}),M(Ve)!=="svelte-19rneye"&&(Ve.textContent=Ne),$=i(et,"OPTION",{"data-svelte-h":!0}),M($)!=="svelte-yfzmju"&&($.textContent=Be),Pe=i(et,"OPTION",{"data-svelte-h":!0}),M(Pe)!=="svelte-1bqg4eb"&&(Pe.textContent=Ce),Ee=i(et,"OPTION",{"data-svelte-h":!0}),M(Ee)!=="svelte-192hgyo"&&(Ee.textContent=Oe),et.forEach(u),nt.forEach(u),Fe=g(Ie),ze=i(Ie,"DIV",{class:!0});var it=h(ze);Ue&&Ue.l(it),z=g(it);for(let ct=0;ct<Le.length;ct+=1)Le[ct].l(it);it.forEach(u),Ie.forEach(u),this.h()},h(){a(t,"class","flex items-center justify-between"),a(f,"class","text-2xl font-bold text-white"),a(m,"class","text-xs text-slate-400"),a(o,"class","bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4"),a(I,"class","text-2xl font-bold text-amber-300"),a(B,"class","text-xs text-amber-400"),a(T,"class","bg-amber-500/10 border border-amber-500/30 rounded-2xl p-4"),a(V,"class","text-2xl font-bold text-primary-300"),a(D,"class","text-xs text-primary-400"),a(C,"class","bg-primary-500/10 border border-primary-500/30 rounded-2xl p-4"),a(Q,"class","text-2xl font-bold text-green-300"),a(X,"class","text-xs text-green-400"),a(F,"class","bg-green-500/10 border border-green-500/30 rounded-2xl p-4"),a(ce,"class","text-2xl font-bold text-red-300"),a(fe,"class","text-xs text-red-400"),a(se,"class","bg-red-500/10 border border-red-500/30 rounded-2xl p-4"),a(d,"class","grid grid-cols-2 md:grid-cols-5 gap-3"),J.__value="all",He(J,J.__value),ne.__value="reported",He(ne,ne.__value),ue.__value="reviewing",He(ue,ue.__value),Te.__value="fixed",He(Te,Te.__value),ve.__value="not-a-bug",He(ve,ve.__value),a(oe,"class","px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white focus:border-primary-500 focus:outline-none appearance-none cursor-pointer"),r[1]===void 0&&yt(()=>r[12].call(oe)),Z.__value="all",He(Z,Z.__value),Ve.__value="critical",He(Ve,Ve.__value),$.__value="high",He($,$.__value),Pe.__value="medium",He(Pe,Pe.__value),Ee.__value="low",He(Ee,Ee.__value),a(re,"class","px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white focus:border-primary-500 focus:outline-none appearance-none cursor-pointer"),r[2]===void 0&&yt(()=>r[13].call(re)),a(_e,"class","flex flex-wrap gap-3"),a(ze,"class","space-y-3"),a(e,"class","p-6 space-y-6")},m(ke,Ie){W(ke,e,Ie),s(e,t),s(e,n),s(e,d),s(d,o),s(o,f),s(f,b),s(o,w),s(o,m),s(d,L),s(d,T),s(T,I),s(I,E),s(T,N),s(T,B),s(d,v),s(d,C),s(C,V),s(V,k),s(C,A),s(C,D),s(d,R),s(d,F),s(F,Q),s(Q,G),s(F,q),s(F,X),s(d,K),s(d,se),s(se,ce),s(ce,te),s(se,le),s(se,fe),s(e,we),s(e,_e),s(_e,oe),s(oe,J),s(oe,ne),s(oe,ue),s(oe,Te),s(oe,ve),ft(oe,r[1],!0),s(_e,Ae),s(_e,re),s(re,Z),s(re,Ve),s(re,$),s(re,Pe),s(re,Ee),ft(re,r[2],!0),s(e,Fe),s(e,ze),Ue&&Ue.m(ze,null),s(ze,z);for(let ge=0;ge<Le.length;ge+=1)Le[ge]&&Le[ge].m(ze,null);he||(Se=[xe(oe,"change",r[12]),xe(re,"change",r[13])],he=!0)},p(ke,[Ie]){if(Ie&64&&_!==(_=ke[6].total+"")&&pe(b,_),Ie&64&&S!==(S=ke[6].reported+"")&&pe(E,S),Ie&64&&P!==(P=ke[6].reviewing+"")&&pe(k,P),Ie&64&&H!==(H=ke[6].fixed+"")&&pe(G,H),Ie&64&&ee!==(ee=ke[6].critical+"")&&pe(te,ee),Ie&2&&ft(oe,ke[1]),Ie&4&&ft(re,ke[2]),ke[7].length===0?Ue?Ue.p(ke,Ie):(Ue=Ps(ke),Ue.c(),Ue.m(ze,z)):Ue&&(Ue.d(1),Ue=null),Ie&4024){Me=Ge(ke[7]);let ge;for(ge=0;ge<Me.length;ge+=1){const Re=Ns(ke,Me,ge);Le[ge]?Le[ge].p(Re,Ie):(Le[ge]=Os(Re),Le[ge].c(),Le[ge].m(ze,null))}for(;ge<Le.length;ge+=1)Le[ge].d(1);Le.length=Me.length}},i:qe,o:qe,d(ke){ke&&u(e),Ue&&Ue.d(),bt(Le,ke),he=!1,lt(Se)}}}function al(r){switch(r){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-blue-500"}}function Vt(r){switch(r){case"fixed":return"bg-green-500 text-white";case"reviewing":return"bg-primary-500 text-white";case"not-a-bug":return"bg-slate-500 text-white";default:return"bg-amber-500 text-white"}}function ga(r,e,t){let l,n,d=[],o=null,f="all",_="all",b=null,w=null,m="";Dt(()=>{const D=Nt(Xe,"bug_reports"),j=jt(D,zt("createdAt","desc"));o=Qs(j,R=>{t(0,d=R.docs.map(F=>{const Q=F.data();return{id:F.id,title:Q.title,description:Q.description,steps:Q.steps,severity:Q.severity,browser:Q.browser,os:Q.os,author:Q.author,authorUid:Q.authorUid,status:Q.status,createdAt:Q.createdAt?.toDate()||new Date,resolvedAt:Q.resolvedAt?.toDate(),adminNotes:Q.adminNotes}}))})}),xl(()=>{o&&o()});async function y(D,j){try{const R={status:j};(j==="fixed"||j==="not-a-bug")&&(R.resolvedAt=tr.now()),await pt(ot(Xe,"bug_reports",D),R)}catch(R){console.error("Error updating bug status:",R),alert("Error al actualizar estado")}}async function L(D){try{await pt(ot(Xe,"bug_reports",D),{adminNotes:m.trim()}),t(4,w=null),t(5,m="")}catch(j){console.error("Error saving notes:",j),alert("Error al guardar notas")}}function T(D){t(3,b=b===D?null:D)}function I(D){t(4,w=D.id),t(5,m=D.adminNotes||"")}function S(){f=Mt(this),t(1,f)}function E(){_=Mt(this),t(2,_)}const N=D=>T(D.id),B=D=>y(D.id,"reported"),p=D=>y(D.id,"reviewing"),v=D=>y(D.id,"fixed"),C=D=>y(D.id,"not-a-bug"),V=D=>I(D);function P(){m=this.value,t(5,m)}const k=D=>L(D.id),A=()=>t(4,w=null);return r.$$.update=()=>{r.$$.dirty&7&&t(7,l=d.filter(D=>!(f!=="all"&&D.status!==f||_!=="all"&&D.severity!==_))),r.$$.dirty&1&&t(6,n={total:d.length,reported:d.filter(D=>D.status==="reported").length,reviewing:d.filter(D=>D.status==="reviewing").length,fixed:d.filter(D=>D.status==="fixed").length,critical:d.filter(D=>D.severity==="critical").length})},[d,f,_,b,w,m,n,l,y,L,T,I,S,E,N,B,p,v,C,V,P,k,A]}class xa extends Ct{constructor(e){super(),Et(this,e,ga,ma,Tt,{})}}function Us(r){let e,t=`<div class="flex items-start gap-4"><div class="text-3xl">‚ö†Ô∏è</div> <div class="flex-1"><h3 class="text-lg font-bold text-red-300 mb-2">Backups No Configurados</h3> <p class="text-red-200 mb-4">Los backups autom√°ticos de Firestore no est√°n activos. Esto pone en riesgo
                        los datos del proyecto.</p> <a href="https://console.cloud.google.com/firestore" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-xl transition-all">Configurar en Google Cloud
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a></div></div>`;return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-k8gox8"&&(e.innerHTML=t),this.h()},h(){a(e,"class","bg-red-500/10 border border-red-500/30 rounded-2xl p-6")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function wa(r){let e,t,l='<div><h2 class="text-2xl font-bold text-white mb-1">Sistema de Backups</h2> <p class="text-slate-400">Monitoreo y gesti√≥n de respaldos autom√°ticos</p></div>',n,d,o,f,_,b,w='<div class="text-3xl mb-2">üî•</div> <h3 class="text-lg font-bold text-white">Firestore</h3>',m,y,L=ol(r[0].firestore.status)+"",T,I,S=r[0].firestore.status.toUpperCase()+"",E,N,B,p,v,C,V="√öltimo Backup:",P,k,A=(r[0].firestore.lastBackup||"N/A")+"",D,j,R,F,Q="Pr√≥ximo:",H,G,q=(r[0].firestore.nextBackup||"N/A")+"",X,Y,K,se,ce="Backups Totales:",ee,te,le=r[0].firestore.backupCount+"",fe,be,we,_e="Backup Manual",oe,J,ie,ne,me='<div class="text-3xl mb-2">‚òÅÔ∏è</div> <h3 class="text-lg font-bold text-white">R2 Versioning</h3>',ue,de,Te=ol(r[0].r2.status)+"",ae,ve,ye=r[0].r2.status.toUpperCase()+"",Ae,re,Z,De,Ve,Ne,$="Versionado:",Be,Pe,Ce=r[0].r2.versioningEnabled?"Habilitado ‚úì":"Deshabilitado",Ee,Oe,Fe,ze='<span class="text-slate-400">Retenci√≥n:</span> <span class="text-white font-medium">5 versiones</span>',z,he,Se=`Configurar R2
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>`,Ue,Me,Le,ke='<div><div class="text-3xl mb-2">üóëÔ∏è</div> <h3 class="text-lg font-bold text-white">Archivos Rechazados</h3></div>',Ie,ge,Re,je,Ke="Pendientes:",st,Je,Ye=r[0].rejectedFiles.count+"",Ze,dt,Qe,$e,nt="M√°s Antiguo:",rt,et,it=(r[0].rejectedFiles.oldestDate||"N/A")+"",ct,wt,vt,It=r[1]?"Limpiando...":"Limpiar > 30 d√≠as",At,qt,vl,Pt,kl='<div class="flex items-start gap-4"><div class="text-3xl">üìò</div> <div class="flex-1"><h3 class="text-lg font-bold text-blue-300 mb-2">Configuraci√≥n de Backups</h3> <p class="text-blue-200 mb-4 text-sm">Para configurar backups autom√°ticos de Firestore, sigue la documentaci√≥n en <code class="px-2 py-1 bg-black/20 rounded">.agent/PENDING_FIXES.md</code> secci√≥n 5.</p> <p class="text-blue-200 text-sm">Requiere acceso a Google Cloud Platform y configuraci√≥n de Cloud Scheduler.</p></div></div>',bl,yl,ht=r[0].firestore.status==="inactive"&&Us();return{c(){e=c("div"),t=c("div"),t.innerHTML=l,n=x(),ht&&ht.c(),d=x(),o=c("div"),f=c("div"),_=c("div"),b=c("div"),b.innerHTML=w,m=x(),y=c("span"),T=U(L),I=x(),E=U(S),B=x(),p=c("div"),v=c("div"),C=c("span"),C.textContent=V,P=x(),k=c("span"),D=U(A),j=x(),R=c("div"),F=c("span"),F.textContent=Q,H=x(),G=c("span"),X=U(q),Y=x(),K=c("div"),se=c("span"),se.textContent=ce,ee=x(),te=c("span"),fe=U(le),be=x(),we=c("button"),we.textContent=_e,oe=x(),J=c("div"),ie=c("div"),ne=c("div"),ne.innerHTML=me,ue=x(),de=c("span"),ae=U(Te),ve=x(),Ae=U(ye),Z=x(),De=c("div"),Ve=c("div"),Ne=c("span"),Ne.textContent=$,Be=x(),Pe=c("span"),Ee=U(Ce),Oe=x(),Fe=c("div"),Fe.innerHTML=ze,z=x(),he=c("a"),he.innerHTML=Se,Ue=x(),Me=c("div"),Le=c("div"),Le.innerHTML=ke,Ie=x(),ge=c("div"),Re=c("div"),je=c("span"),je.textContent=Ke,st=x(),Je=c("span"),Ze=U(Ye),dt=x(),Qe=c("div"),$e=c("span"),$e.textContent=nt,rt=x(),et=c("span"),ct=U(it),wt=x(),vt=c("button"),At=U(It),vl=x(),Pt=c("div"),Pt.innerHTML=kl,this.h()},l(tt){e=i(tt,"DIV",{class:!0});var We=h(e);t=i(We,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-14girl4"&&(t.innerHTML=l),n=g(We),ht&&ht.l(We),d=g(We),o=i(We,"DIV",{class:!0});var St=h(o);f=i(St,"DIV",{class:!0});var Lt=h(f);_=i(Lt,"DIV",{class:!0});var Gt=h(_);b=i(Gt,"DIV",{"data-svelte-h":!0}),M(b)!=="svelte-o4sv6r"&&(b.innerHTML=w),m=g(Gt),y=i(Gt,"SPAN",{class:!0});var Kt=h(y);T=O(Kt,L),I=g(Kt),E=O(Kt,S),Kt.forEach(u),Gt.forEach(u),B=g(Lt),p=i(Lt,"DIV",{class:!0});var Bt=h(p);v=i(Bt,"DIV",{class:!0});var Qt=h(v);C=i(Qt,"SPAN",{class:!0,"data-svelte-h":!0}),M(C)!=="svelte-zgreec"&&(C.textContent=V),P=g(Qt),k=i(Qt,"SPAN",{class:!0});var Cl=h(k);D=O(Cl,A),Cl.forEach(u),Qt.forEach(u),j=g(Bt),R=i(Bt,"DIV",{class:!0});var Jt=h(R);F=i(Jt,"SPAN",{class:!0,"data-svelte-h":!0}),M(F)!=="svelte-zmn7x1"&&(F.textContent=Q),H=g(Jt),G=i(Jt,"SPAN",{class:!0});var El=h(G);X=O(El,q),El.forEach(u),Jt.forEach(u),Y=g(Bt),K=i(Bt,"DIV",{class:!0});var Xt=h(K);se=i(Xt,"SPAN",{class:!0,"data-svelte-h":!0}),M(se)!=="svelte-5tbqrg"&&(se.textContent=ce),ee=g(Xt),te=i(Xt,"SPAN",{class:!0});var Tl=h(te);fe=O(Tl,le),Tl.forEach(u),Xt.forEach(u),Bt.forEach(u),be=g(Lt),we=i(Lt,"BUTTON",{class:!0,"data-svelte-h":!0}),M(we)!=="svelte-14pkf3r"&&(we.textContent=_e),Lt.forEach(u),oe=g(St),J=i(St,"DIV",{class:!0});var Ot=h(J);ie=i(Ot,"DIV",{class:!0});var Zt=h(ie);ne=i(Zt,"DIV",{"data-svelte-h":!0}),M(ne)!=="svelte-18qu7uo"&&(ne.innerHTML=me),ue=g(Zt),de=i(Zt,"SPAN",{class:!0});var Wt=h(de);ae=O(Wt,Te),ve=g(Wt),Ae=O(Wt,ye),Wt.forEach(u),Zt.forEach(u),Z=g(Ot),De=i(Ot,"DIV",{class:!0});var Yt=h(De);Ve=i(Yt,"DIV",{class:!0});var $t=h(Ve);Ne=i($t,"SPAN",{class:!0,"data-svelte-h":!0}),M(Ne)!=="svelte-1ji8z7j"&&(Ne.textContent=$),Be=g($t),Pe=i($t,"SPAN",{class:!0});var Dl=h(Pe);Ee=O(Dl,Ce),Dl.forEach(u),$t.forEach(u),Oe=g(Yt),Fe=i(Yt,"DIV",{class:!0,"data-svelte-h":!0}),M(Fe)!=="svelte-pry99p"&&(Fe.innerHTML=ze),Yt.forEach(u),z=g(Ot),he=i(Ot,"A",{href:!0,target:!0,rel:!0,class:!0,"data-svelte-h":!0}),M(he)!=="svelte-pa70x0"&&(he.innerHTML=Se),Ot.forEach(u),Ue=g(St),Me=i(St,"DIV",{class:!0});var Ut=h(Me);Le=i(Ut,"DIV",{class:!0,"data-svelte-h":!0}),M(Le)!=="svelte-r4b409"&&(Le.innerHTML=ke),Ie=g(Ut),ge=i(Ut,"DIV",{class:!0});var el=h(ge);Re=i(el,"DIV",{class:!0});var tl=h(Re);je=i(tl,"SPAN",{class:!0,"data-svelte-h":!0}),M(je)!=="svelte-f1gby6"&&(je.textContent=Ke),st=g(tl),Je=i(tl,"SPAN",{class:!0});var Il=h(Je);Ze=O(Il,Ye),Il.forEach(u),tl.forEach(u),dt=g(el),Qe=i(el,"DIV",{class:!0});var ll=h(Qe);$e=i(ll,"SPAN",{class:!0,"data-svelte-h":!0}),M($e)!=="svelte-1q88os3"&&($e.textContent=nt),rt=g(ll),et=i(ll,"SPAN",{class:!0});var Al=h(et);ct=O(Al,it),Al.forEach(u),ll.forEach(u),el.forEach(u),wt=g(Ut),vt=i(Ut,"BUTTON",{class:!0});var Vl=h(vt);At=O(Vl,It),Vl.forEach(u),Ut.forEach(u),St.forEach(u),vl=g(We),Pt=i(We,"DIV",{class:!0,"data-svelte-h":!0}),M(Pt)!=="svelte-89j44b"&&(Pt.innerHTML=kl),We.forEach(u),this.h()},h(){a(t,"class","flex items-center justify-between"),a(y,"class",N="px-3 py-1 rounded-full text-xs font-bold "+nl(r[0].firestore.status)+" bg-current/10"),a(_,"class","flex items-start justify-between mb-4"),a(C,"class","text-slate-400"),a(k,"class","text-white font-medium"),a(v,"class","flex justify-between"),a(F,"class","text-slate-400"),a(G,"class","text-white font-medium"),a(R,"class","flex justify-between"),a(se,"class","text-slate-400"),a(te,"class","text-white font-medium"),a(K,"class","flex justify-between"),a(p,"class","space-y-2 text-sm"),a(we,"class","w-full mt-4 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white font-medium rounded-xl transition-all"),a(f,"class","bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6"),a(de,"class",re="px-3 py-1 rounded-full text-xs font-bold "+nl(r[0].r2.status)+" bg-current/10"),a(ie,"class","flex items-start justify-between mb-4"),a(Ne,"class","text-slate-400"),a(Pe,"class","text-white font-medium"),a(Ve,"class","flex justify-between"),a(Fe,"class","flex justify-between"),a(De,"class","space-y-2 text-sm"),a(he,"href","https://dash.cloudflare.com/r2"),a(he,"target","_blank"),a(he,"rel","noopener noreferrer"),a(he,"class","w-full mt-4 px-4 py-2 bg-white/5 hover:bg-white/10 text-white font-medium rounded-xl transition-all inline-flex items-center justify-center gap-2"),a(J,"class","bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6"),a(Le,"class","flex items-start justify-between mb-4"),a(je,"class","text-slate-400"),a(Je,"class","text-white font-medium"),a(Re,"class","flex justify-between"),a($e,"class","text-slate-400"),a(et,"class","text-white font-medium"),a(Qe,"class","flex justify-between"),a(ge,"class","space-y-2 text-sm"),vt.disabled=qt=r[1]||r[0].rejectedFiles.count===0,a(vt,"class","w-full mt-4 px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed"),a(Me,"class","bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6"),a(o,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),a(Pt,"class","bg-blue-500/10 border border-blue-500/30 rounded-2xl p-6"),a(e,"class","p-6 space-y-6")},m(tt,We){W(tt,e,We),s(e,t),s(e,n),ht&&ht.m(e,null),s(e,d),s(e,o),s(o,f),s(f,_),s(_,b),s(_,m),s(_,y),s(y,T),s(y,I),s(y,E),s(f,B),s(f,p),s(p,v),s(v,C),s(v,P),s(v,k),s(k,D),s(p,j),s(p,R),s(R,F),s(R,H),s(R,G),s(G,X),s(p,Y),s(p,K),s(K,se),s(K,ee),s(K,te),s(te,fe),s(f,be),s(f,we),s(o,oe),s(o,J),s(J,ie),s(ie,ne),s(ie,ue),s(ie,de),s(de,ae),s(de,ve),s(de,Ae),s(J,Z),s(J,De),s(De,Ve),s(Ve,Ne),s(Ve,Be),s(Ve,Pe),s(Pe,Ee),s(De,Oe),s(De,Fe),s(J,z),s(J,he),s(o,Ue),s(o,Me),s(Me,Le),s(Me,Ie),s(Me,ge),s(ge,Re),s(Re,je),s(Re,st),s(Re,Je),s(Je,Ze),s(ge,dt),s(ge,Qe),s(Qe,$e),s(Qe,rt),s(Qe,et),s(et,ct),s(Me,wt),s(Me,vt),s(vt,At),s(e,vl),s(e,Pt),bl||(yl=[xe(we,"click",r[3]),xe(vt,"click",r[2])],bl=!0)},p(tt,[We]){tt[0].firestore.status==="inactive"?ht||(ht=Us(),ht.c(),ht.m(e,d)):ht&&(ht.d(1),ht=null),We&1&&L!==(L=ol(tt[0].firestore.status)+"")&&pe(T,L),We&1&&S!==(S=tt[0].firestore.status.toUpperCase()+"")&&pe(E,S),We&1&&N!==(N="px-3 py-1 rounded-full text-xs font-bold "+nl(tt[0].firestore.status)+" bg-current/10")&&a(y,"class",N),We&1&&A!==(A=(tt[0].firestore.lastBackup||"N/A")+"")&&pe(D,A),We&1&&q!==(q=(tt[0].firestore.nextBackup||"N/A")+"")&&pe(X,q),We&1&&le!==(le=tt[0].firestore.backupCount+"")&&pe(fe,le),We&1&&Te!==(Te=ol(tt[0].r2.status)+"")&&pe(ae,Te),We&1&&ye!==(ye=tt[0].r2.status.toUpperCase()+"")&&pe(Ae,ye),We&1&&re!==(re="px-3 py-1 rounded-full text-xs font-bold "+nl(tt[0].r2.status)+" bg-current/10")&&a(de,"class",re),We&1&&Ce!==(Ce=tt[0].r2.versioningEnabled?"Habilitado ‚úì":"Deshabilitado")&&pe(Ee,Ce),We&1&&Ye!==(Ye=tt[0].rejectedFiles.count+"")&&pe(Ze,Ye),We&1&&it!==(it=(tt[0].rejectedFiles.oldestDate||"N/A")+"")&&pe(ct,it),We&2&&It!==(It=tt[1]?"Limpiando...":"Limpiar > 30 d√≠as")&&pe(At,It),We&3&&qt!==(qt=tt[1]||tt[0].rejectedFiles.count===0)&&(vt.disabled=qt)},i:qe,o:qe,d(tt){tt&&u(e),ht&&ht.d(),bl=!1,lt(yl)}}}function nl(r){switch(r){case"active":return"text-green-400";case"inactive":return"text-slate-500";case"error":return"text-red-400"}}function ol(r){switch(r){case"active":return"‚úÖ";case"inactive":return"‚è∏Ô∏è";case"error":return"‚ùå"}}function ka(r,e,t){let l;wl(r,lr,b=>t(5,l=b));let n={firestore:{lastBackup:null,nextBackup:null,status:"inactive",backupCount:0},r2:{versioningEnabled:!1,status:"inactive"},rejectedFiles:{count:0,oldestDate:null}},d=!1;Dt(async()=>{await o()});async function o(){try{t(0,n={firestore:{lastBackup:"2025-12-30 23:00:00",nextBackup:"2025-12-31 23:00:00",status:"active",backupCount:7},r2:{versioningEnabled:!0,status:"active"},rejectedFiles:{count:0,oldestDate:null}})}catch(b){console.error("Error loading backup status:",b)}finally{}}async function f(){if(confirm("¬øEliminar archivos rechazados > 30 d√≠as?")){t(1,d=!0);try{const b=await fetch("/api/admin/cleanup-rejected",{method:"POST"});if(b.ok){const w=await b.json();alert(`‚úÖ ${w.deletedCount||0} archivos eliminados`),await o()}else throw new Error("Failed to cleanup")}catch(b){console.error("Error cleaning up:",b),alert("Error al limpiar archivos rechazados")}finally{t(1,d=!1)}}}async function _(){if(confirm("¬øIniciar backup manual de Firestore? Esto puede tardar varios minutos.")){if(!l.user){alert("Debes iniciar sesi√≥n para realizar esta acci√≥n.");return}try{const b=await l.user.getIdToken();if((await fetch("/api/admin/trigger-backup",{method:"POST",headers:{Authorization:`Bearer ${b}`}})).ok)alert("‚úÖ Backup iniciado. Revisa Google Cloud Console para el progreso.");else throw new Error("Failed to trigger backup")}catch(b){console.error("Error triggering backup:",b),alert("Error al iniciar backup manual")}}}return[n,d,f,_]}class ya extends Ct{constructor(e){super(),Et(this,e,ka,wa,Tt,{})}}function Ca(r){let e,t,l,n,d,o,f="FIREBASE",_,b,w="FB",m,y,L,T,I,S,E,N,B="CLOUDFLARE R2",p,v,C="R2",V,P,k,A,D,j="üßπ",R,F,Q="Limpiar Temp",H,G;return{c(){e=c("div"),t=c("div"),l=c("div"),d=x(),o=c("span"),o.textContent=f,_=x(),b=c("span"),b.textContent=w,m=x(),y=c("div"),L=x(),T=c("div"),I=c("div"),E=x(),N=c("span"),N.textContent=B,p=x(),v=c("span"),v.textContent=C,V=x(),P=c("div"),k=x(),A=c("button"),D=c("span"),D.textContent=j,R=x(),F=c("span"),F.textContent=Q,this.h()},l(q){e=i(q,"DIV",{class:!0});var X=h(e);t=i(X,"DIV",{class:!0,title:!0});var Y=h(t);l=i(Y,"DIV",{class:!0}),h(l).forEach(u),d=g(Y),o=i(Y,"SPAN",{class:!0,"data-svelte-h":!0}),M(o)!=="svelte-13k9kls"&&(o.textContent=f),_=g(Y),b=i(Y,"SPAN",{class:!0,"data-svelte-h":!0}),M(b)!=="svelte-d6vr7t"&&(b.textContent=w),Y.forEach(u),m=g(X),y=i(X,"DIV",{class:!0}),h(y).forEach(u),L=g(X),T=i(X,"DIV",{class:!0,title:!0});var K=h(T);I=i(K,"DIV",{class:!0}),h(I).forEach(u),E=g(K),N=i(K,"SPAN",{class:!0,"data-svelte-h":!0}),M(N)!=="svelte-1sda4ve"&&(N.textContent=B),p=g(K),v=i(K,"SPAN",{class:!0,"data-svelte-h":!0}),M(v)!=="svelte-1xfzhp1"&&(v.textContent=C),K.forEach(u),V=g(X),P=i(X,"DIV",{class:!0}),h(P).forEach(u),k=g(X),A=i(X,"BUTTON",{class:!0,title:!0});var se=h(A);D=i(se,"SPAN",{"data-svelte-h":!0}),M(D)!=="svelte-1plovej"&&(D.textContent=j),R=g(se),F=i(se,"SPAN",{class:!0,"data-svelte-h":!0}),M(F)!=="svelte-132z2ik"&&(F.textContent=Q),se.forEach(u),X.forEach(u),this.h()},h(){a(l,"class",n="w-2 h-2 rounded-full "+(r[0].firebase==="connected"?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)] animate-pulse":r[0].firebase==="checking"?"bg-yellow-500":"bg-red-500")),a(o,"class","hidden md:block text-xs font-mono text-slate-400 font-bold tracking-wide"),a(b,"class","md:hidden text-xs font-mono text-slate-400 font-bold"),a(t,"class","flex items-center gap-2"),a(t,"title","Firebase Status"),a(y,"class","w-px h-4 bg-white/10"),a(I,"class",S="w-2 h-2 rounded-full "+(r[0].r2==="connected"?"bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.6)] animate-pulse":r[0].r2==="checking"?"bg-yellow-500":"bg-red-500")),a(N,"class","hidden md:block text-xs font-mono text-slate-400 font-bold tracking-wide"),a(v,"class","md:hidden text-xs font-mono text-slate-400 font-bold"),a(T,"class","flex items-center gap-2"),a(T,"title","R2 Status"),a(P,"class","w-px h-4 bg-white/10"),a(F,"class","hidden sm:inline"),A.disabled=r[1],a(A,"class","text-xs text-slate-400 hover:text-white transition-colors disabled:opacity-50 flex items-center gap-1"),a(A,"title","Eliminar archivos temporales > 3 d√≠as"),a(e,"class","flex items-center gap-2 md:gap-4 px-3 py-2 bg-white/5 rounded-full border border-white/10 backdrop-blur-md")},m(q,X){W(q,e,X),s(e,t),s(t,l),s(t,d),s(t,o),s(t,_),s(t,b),s(e,m),s(e,y),s(e,L),s(e,T),s(T,I),s(T,E),s(T,N),s(T,p),s(T,v),s(e,V),s(e,P),s(e,k),s(e,A),s(A,D),s(A,R),s(A,F),H||(G=xe(A,"click",r[2]),H=!0)},p(q,[X]){X&1&&n!==(n="w-2 h-2 rounded-full "+(q[0].firebase==="connected"?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)] animate-pulse":q[0].firebase==="checking"?"bg-yellow-500":"bg-red-500"))&&a(l,"class",n),X&1&&S!==(S="w-2 h-2 rounded-full "+(q[0].r2==="connected"?"bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.6)] animate-pulse":q[0].r2==="checking"?"bg-yellow-500":"bg-red-500"))&&a(I,"class",S),X&2&&(A.disabled=q[1])},i:qe,o:qe,d(q){q&&u(e),H=!1,G()}}}function Ea(r,e,t){let l={firebase:"checking",r2:"checking"},n;async function d(){try{const _=await fetch("/api/health");if(_.ok){const b=await _.json();t(0,l=b)}else t(0,l={firebase:"error",r2:"error"})}catch{t(0,l={firebase:"error",r2:"error"})}finally{}}let o=!1;async function f(){if(confirm("¬øLimpiar archivos temporales de R2 (m√°s de 3 d√≠as)?")){t(1,o=!0);try{const b=await(await fetch("/api/admin/cleanup-r2",{method:"POST"})).json();alert(b.message||"Limpieza completada")}catch{alert("Error en limpieza")}finally{t(1,o=!1)}}}return Dt(()=>{d(),n=setInterval(d,3e4)}),xl(()=>{n&&clearInterval(n)}),[l,o,f]}class Ta extends Ct{constructor(e){super(),Et(this,e,Ea,Ca,Tt,{})}}function Ms(r,e,t){const l=r.slice();return l[18]=e[t],l}function js(r){let e,t,l,n,d;return{c(){e=c("div"),this.h()},l(o){e=i(o,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0}),h(e).forEach(u),this.h()},h(){a(e,"class","fixed inset-0 bg-black/50 z-40 md:hidden backdrop-blur-sm"),a(e,"role","button"),a(e,"tabindex","0"),a(e,"aria-label","Cerrar men√∫")},m(o,f){W(o,e,f),l=!0,n||(d=[xe(e,"click",r[5]),xe(e,"keydown",r[6])],n=!0)},p:qe,i(o){l||(o&&yt(()=>{l&&(t||(t=hl(e,gl,{},!0)),t.run(1))}),l=!0)},o(o){o&&(t||(t=hl(e,gl,{},!1)),t.run(0)),l=!1},d(o){o&&u(e),o&&t&&t.end(),n=!1,lt(d)}}}function Fs(r){let e,t,l;return{c(){e=c("div"),this.h()},l(n){e=i(n,"DIV",{class:!0}),h(e).forEach(u),this.h()},h(){a(e,"class","absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-primary-500 rounded-r-full shadow-[0_0_10px_rgba(255,123,61,0.5)]")},m(n,d){W(n,e,d),l=!0},i(n){l||(n&&yt(()=>{l&&(t||(t=hl(e,Pl,{},!0)),t.run(1))}),l=!0)},o(n){n&&(t||(t=hl(e,Pl,{},!1)),t.run(0)),l=!1},d(n){n&&u(e),n&&t&&t.end()}}}function Rs(r){let e,t=r[18].badge+"",l;return{c(){e=c("span"),l=U(t),this.h()},l(n){e=i(n,"SPAN",{class:!0});var d=h(e);l=O(d,t),d.forEach(u),this.h()},h(){a(e,"class","bg-red-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow-lg shadow-red-500/20 animate-pulse")},m(n,d){W(n,e,d),s(e,l)},p(n,d){d&16&&t!==(t=n[18].badge+"")&&pe(l,t)},d(n){n&&u(e)}}}function Hs(r){let e,t,l,n,d=r[18].icon+"",o,f,_,b=r[18].label+"",w,m,y,L,T,I,S=r[1]===r[18].id&&Fs(),E=r[18].badge&&r[18].badge>0&&Rs(r);function N(){return r[8](r[18])}return{c(){e=c("button"),S&&S.c(),t=x(),l=c("div"),n=c("span"),o=U(d),f=x(),_=c("span"),w=U(b),m=x(),E&&E.c(),y=x(),this.h()},l(B){e=i(B,"BUTTON",{class:!0});var p=h(e);S&&S.l(p),t=g(p),l=i(p,"DIV",{class:!0});var v=h(l);n=i(v,"SPAN",{class:!0});var C=h(n);o=O(C,d),C.forEach(u),f=g(v),_=i(v,"SPAN",{class:!0});var V=h(_);w=O(V,b),V.forEach(u),v.forEach(u),m=g(p),E&&E.l(p),y=g(p),p.forEach(u),this.h()},h(){a(n,"class","text-xl opacity-80 group-hover:scale-110 transition-transform"),a(_,"class","font-medium text-sm tracking-wide"),a(l,"class","flex items-center gap-3 relative z-10"),a(e,"class",L="w-full flex items-center justify-between px-4 py-3.5 rounded-xl transition-all duration-200 group relative overflow-hidden "+(r[1]===r[18].id?"bg-primary-500/10 text-white shadow-lg shadow-primary-500/5 ring-1 ring-primary-500/50":"text-slate-400 hover:text-white hover:bg-white/5"))},m(B,p){W(B,e,p),S&&S.m(e,null),s(e,t),s(e,l),s(l,n),s(n,o),s(l,f),s(l,_),s(_,w),s(e,m),E&&E.m(e,null),s(e,y),T||(I=xe(e,"click",N),T=!0)},p(B,p){r=B,r[1]===r[18].id?S?p&18&&at(S,1):(S=Fs(),S.c(),at(S,1),S.m(e,t)):S&&(ml(),ut(S,1,1,()=>{S=null}),_l()),p&16&&d!==(d=r[18].icon+"")&&pe(o,d),p&16&&b!==(b=r[18].label+"")&&pe(w,b),r[18].badge&&r[18].badge>0?E?E.p(r,p):(E=Rs(r),E.c(),E.m(e,y)):E&&(E.d(1),E=null),p&18&&L!==(L="w-full flex items-center justify-between px-4 py-3.5 rounded-xl transition-all duration-200 group relative overflow-hidden "+(r[1]===r[18].id?"bg-primary-500/10 text-white shadow-lg shadow-primary-500/5 ring-1 ring-primary-500/50":"text-slate-400 hover:text-white hover:bg-white/5"))&&a(e,"class",L)},d(B){B&&u(e),S&&S.d(),E&&E.d(),T=!1,I()}}}function Da(r){let e;return{c(){e=U("Sistema operativo y funcionando")},l(t){e=O(t,"Sistema operativo y funcionando")},m(t,l){W(t,e,l)},d(t){t&&u(e)}}}function Ia(r){let e;return{c(){e=U("Actualizando m√©tricas...")},l(t){e=O(t,"Actualizando m√©tricas...")},m(t,l){W(t,e,l)},d(t){t&&u(e)}}}function Aa(r){let e,t;return e=new pa({}),{c(){xt(e.$$.fragment)},l(l){gt(e.$$.fragment,l)},m(l,n){mt(e,l,n),t=!0},p:qe,i(l){t||(at(e.$$.fragment,l),t=!0)},o(l){ut(e.$$.fragment,l),t=!1},d(l){_t(e,l)}}}function Va(r){let e,t;return e=new ya({}),{c(){xt(e.$$.fragment)},l(l){gt(e.$$.fragment,l)},m(l,n){mt(e,l,n),t=!0},p:qe,i(l){t||(at(e.$$.fragment,l),t=!0)},o(l){ut(e.$$.fragment,l),t=!1},d(l){_t(e,l)}}}function Na(r){let e,t;return e=new xa({}),{c(){xt(e.$$.fragment)},l(l){gt(e.$$.fragment,l)},m(l,n){mt(e,l,n),t=!0},p:qe,i(l){t||(at(e.$$.fragment,l),t=!0)},o(l){ut(e.$$.fragment,l),t=!1},d(l){_t(e,l)}}}function Pa(r){let e,t;return e=new da({}),{c(){xt(e.$$.fragment)},l(l){gt(e.$$.fragment,l)},m(l,n){mt(e,l,n),t=!0},p:qe,i(l){t||(at(e.$$.fragment,l),t=!0)},o(l){ut(e.$$.fragment,l),t=!1},d(l){_t(e,l)}}}function Sa(r){let e,t;return e=new jr({}),{c(){xt(e.$$.fragment)},l(l){gt(e.$$.fragment,l)},m(l,n){mt(e,l,n),t=!0},p:qe,i(l){t||(at(e.$$.fragment,l),t=!0)},o(l){ut(e.$$.fragment,l),t=!1},d(l){_t(e,l)}}}function La(r){let e,t;return e=new mr({}),{c(){xt(e.$$.fragment)},l(l){gt(e.$$.fragment,l)},m(l,n){mt(e,l,n),t=!0},p:qe,i(l){t||(at(e.$$.fragment,l),t=!0)},o(l){ut(e.$$.fragment,l),t=!1},d(l){_t(e,l)}}}function Ba(r){let e,t;return e=new fr({}),{c(){xt(e.$$.fragment)},l(l){gt(e.$$.fragment,l)},m(l,n){mt(e,l,n),t=!0},p:qe,i(l){t||(at(e.$$.fragment,l),t=!0)},o(l){ut(e.$$.fragment,l),t=!1},d(l){_t(e,l)}}}function Oa(r){let e,t,l,n,d,o,f,_="Usuarios Totales",b,w,m=r[0].totalUsers+"",y,L,T,I,S=r[0].proUsers+"",E,N,B,p,v,C,V,P,k,A="√Ålbumes Activos",D,j,R=r[0].totalAlbums+"",F,Q,H,G,q=r[0].verifiedArtists+"",X,Y,K,se,ce,ee,te,le,fe,be="Propuestas Pendientes",we,_e,oe=r[0].pendingProposals+"",J,ie,ne,me,ue,de,Te,ae,ve,ye="Bugs Reportados",Ae,re,Z=r[0].pendingBugs+"",De,Ve,Ne,$,Be,Pe;n=new rr({props:{size:"lg"}}),C=new nr({props:{size:"lg"}}),ee=new ar({props:{size:"lg",gradient:!1}});let Ce=r[0].pendingProposals>0&&zs();de=new or({props:{size:"lg"}});let Ee=r[0].pendingBugs>0&&qs();return{c(){e=c("div"),t=c("div"),l=c("div"),xt(n.$$.fragment),d=x(),o=c("div"),f=c("h3"),f.textContent=_,b=x(),w=c("p"),y=U(m),L=x(),T=c("div"),I=c("span"),E=U(S),N=U(" PRO"),B=x(),p=c("div"),v=c("div"),xt(C.$$.fragment),V=x(),P=c("div"),k=c("h3"),k.textContent=A,D=x(),j=c("p"),F=U(R),Q=x(),H=c("div"),G=c("span"),X=U(q),Y=U(" Artistas"),K=x(),se=c("div"),ce=c("div"),xt(ee.$$.fragment),te=x(),le=c("div"),fe=c("h3"),fe.textContent=be,we=x(),_e=c("p"),J=U(oe),ie=x(),Ce&&Ce.c(),ne=x(),me=c("div"),ue=c("div"),xt(de.$$.fragment),Te=x(),ae=c("div"),ve=c("h3"),ve.textContent=ye,Ae=x(),re=c("p"),De=U(Z),Ve=x(),Ee&&Ee.c(),this.h()},l(Oe){e=i(Oe,"DIV",{class:!0});var Fe=h(e);t=i(Fe,"DIV",{class:!0});var ze=h(t);l=i(ze,"DIV",{class:!0});var z=h(l);gt(n.$$.fragment,z),z.forEach(u),d=g(ze),o=i(ze,"DIV",{class:!0});var he=h(o);f=i(he,"H3",{class:!0,"data-svelte-h":!0}),M(f)!=="svelte-ezkmk5"&&(f.textContent=_),b=g(he),w=i(he,"P",{class:!0});var Se=h(w);y=O(Se,m),Se.forEach(u),L=g(he),T=i(he,"DIV",{class:!0});var Ue=h(T);I=i(Ue,"SPAN",{class:!0});var Me=h(I);E=O(Me,S),N=O(Me," PRO"),Me.forEach(u),Ue.forEach(u),he.forEach(u),ze.forEach(u),B=g(Fe),p=i(Fe,"DIV",{class:!0});var Le=h(p);v=i(Le,"DIV",{class:!0});var ke=h(v);gt(C.$$.fragment,ke),ke.forEach(u),V=g(Le),P=i(Le,"DIV",{class:!0});var Ie=h(P);k=i(Ie,"H3",{class:!0,"data-svelte-h":!0}),M(k)!=="svelte-1b3afv4"&&(k.textContent=A),D=g(Ie),j=i(Ie,"P",{class:!0});var ge=h(j);F=O(ge,R),ge.forEach(u),Q=g(Ie),H=i(Ie,"DIV",{class:!0});var Re=h(H);G=i(Re,"SPAN",{class:!0});var je=h(G);X=O(je,q),Y=O(je," Artistas"),je.forEach(u),Re.forEach(u),Ie.forEach(u),Le.forEach(u),K=g(Fe),se=i(Fe,"DIV",{class:!0,role:!0,tabindex:!0});var Ke=h(se);ce=i(Ke,"DIV",{class:!0});var st=h(ce);gt(ee.$$.fragment,st),st.forEach(u),te=g(Ke),le=i(Ke,"DIV",{class:!0});var Je=h(le);fe=i(Je,"H3",{class:!0,"data-svelte-h":!0}),M(fe)!=="svelte-upv69h"&&(fe.textContent=be),we=g(Je),_e=i(Je,"P",{class:!0});var Ye=h(_e);J=O(Ye,oe),Ye.forEach(u),ie=g(Je),Ce&&Ce.l(Je),Je.forEach(u),Ke.forEach(u),ne=g(Fe),me=i(Fe,"DIV",{class:!0,role:!0,tabindex:!0});var Ze=h(me);ue=i(Ze,"DIV",{class:!0});var dt=h(ue);gt(de.$$.fragment,dt),dt.forEach(u),Te=g(Ze),ae=i(Ze,"DIV",{class:!0});var Qe=h(ae);ve=i(Qe,"H3",{class:!0,"data-svelte-h":!0}),M(ve)!=="svelte-93hew6"&&(ve.textContent=ye),Ae=g(Qe),re=i(Qe,"P",{class:!0});var $e=h(re);De=O($e,Z),$e.forEach(u),Ve=g(Qe),Ee&&Ee.l(Qe),Qe.forEach(u),Ze.forEach(u),Fe.forEach(u),this.h()},h(){a(l,"class","absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity"),a(f,"class","text-slate-400 text-sm font-medium"),a(w,"class","text-3xl font-bold text-white mt-1"),a(I,"class","text-blue-400 bg-blue-400/10 px-1.5 py-0.5 rounded font-bold"),a(T,"class","mt-2 text-xs flex items-center gap-2"),a(o,"class","relative z-10"),a(t,"class","bg-[#131b2e]/60 backdrop-blur-xl p-6 rounded-2xl border border-white/5 relative overflow-hidden group hover:border-blue-500/30 transition-colors"),a(v,"class","absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity"),a(k,"class","text-slate-400 text-sm font-medium"),a(j,"class","text-3xl font-bold text-white mt-1"),a(G,"class","text-orange-400 bg-orange-400/10 px-1.5 py-0.5 rounded font-bold"),a(H,"class","mt-2 text-xs flex items-center gap-2"),a(P,"class","relative z-10"),a(p,"class","bg-[#131b2e]/60 backdrop-blur-xl p-6 rounded-2xl border border-white/5 relative overflow-hidden group hover:border-orange-500/30 transition-colors"),a(ce,"class","absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity"),a(fe,"class","text-slate-400 text-sm font-medium"),a(_e,"class","text-3xl font-bold text-white mt-1"),a(le,"class","relative z-10"),a(se,"class","bg-[#131b2e]/60 backdrop-blur-xl p-6 rounded-2xl border border-white/5 relative overflow-hidden group hover:border-purple-500/30 transition-colors cursor-pointer outline-none focus:ring-2 focus:ring-purple-500/50"),a(se,"role","button"),a(se,"tabindex","0"),a(ue,"class","absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity"),a(ve,"class","text-slate-400 text-sm font-medium"),a(re,"class","text-3xl font-bold text-white mt-1"),a(ae,"class","relative z-10"),a(me,"class","bg-[#131b2e]/60 backdrop-blur-xl p-6 rounded-2xl border border-white/5 relative overflow-hidden group hover:border-red-500/30 transition-colors cursor-pointer outline-none focus:ring-2 focus:ring-red-500/50"),a(me,"role","button"),a(me,"tabindex","0"),a(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6")},m(Oe,Fe){W(Oe,e,Fe),s(e,t),s(t,l),mt(n,l,null),s(t,d),s(t,o),s(o,f),s(o,b),s(o,w),s(w,y),s(o,L),s(o,T),s(T,I),s(I,E),s(I,N),s(e,B),s(e,p),s(p,v),mt(C,v,null),s(p,V),s(p,P),s(P,k),s(P,D),s(P,j),s(j,F),s(P,Q),s(P,H),s(H,G),s(G,X),s(G,Y),s(e,K),s(e,se),s(se,ce),mt(ee,ce,null),s(se,te),s(se,le),s(le,fe),s(le,we),s(le,_e),s(_e,J),s(le,ie),Ce&&Ce.m(le,null),s(e,ne),s(e,me),s(me,ue),mt(de,ue,null),s(me,Te),s(me,ae),s(ae,ve),s(ae,Ae),s(ae,re),s(re,De),s(ae,Ve),Ee&&Ee.m(ae,null),$=!0,Be||(Pe=[xe(se,"click",r[12]),xe(se,"keydown",r[13]),xe(me,"click",r[14]),xe(me,"keydown",r[15])],Be=!0)},p(Oe,Fe){(!$||Fe&1)&&m!==(m=Oe[0].totalUsers+"")&&pe(y,m),(!$||Fe&1)&&S!==(S=Oe[0].proUsers+"")&&pe(E,S),(!$||Fe&1)&&R!==(R=Oe[0].totalAlbums+"")&&pe(F,R),(!$||Fe&1)&&q!==(q=Oe[0].verifiedArtists+"")&&pe(X,q),(!$||Fe&1)&&oe!==(oe=Oe[0].pendingProposals+"")&&pe(J,oe),Oe[0].pendingProposals>0?Ce||(Ce=zs(),Ce.c(),Ce.m(le,null)):Ce&&(Ce.d(1),Ce=null),(!$||Fe&1)&&Z!==(Z=Oe[0].pendingBugs+"")&&pe(De,Z),Oe[0].pendingBugs>0?Ee||(Ee=qs(),Ee.c(),Ee.m(ae,null)):Ee&&(Ee.d(1),Ee=null)},i(Oe){$||(at(n.$$.fragment,Oe),at(C.$$.fragment,Oe),at(ee.$$.fragment,Oe),at(de.$$.fragment,Oe),Oe&&(Ne||yt(()=>{Ne=Zs(e,gl,{}),Ne.start()})),$=!0)},o(Oe){ut(n.$$.fragment,Oe),ut(C.$$.fragment,Oe),ut(ee.$$.fragment,Oe),ut(de.$$.fragment,Oe),$=!1},d(Oe){Oe&&u(e),_t(n),_t(C),_t(ee),Ce&&Ce.d(),_t(de),Ee&&Ee.d(),Be=!1,lt(Pe)}}}function zs(r){let e,t="Requiere Revisi√≥n";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-y88sjr"&&(e.textContent=t),this.h()},h(){a(e,"class","mt-2 text-xs text-purple-400 font-bold")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function qs(r){let e,t="Acci√≥n Requerida";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1ikjmx9"&&(e.textContent=t),this.h()},h(){a(e,"class","mt-2 text-xs text-red-400 font-bold animate-pulse")},m(l,n){W(l,e,n)},d(l){l&&u(e)}}}function Ua(r){let e,t,l,n,d,o,f,_,b,w,m,y,L='<div class="w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-orange-500 flex items-center justify-center shadow-lg shadow-primary-500/20"><span class="text-xl">‚ôõ</span></div> <div><h1 class="text-xl font-bold text-white tracking-tight leading-none">AdminOS</h1> <span class="text-[10px] uppercase text-slate-500 font-bold tracking-widest">ChillChess</span></div>',T,I,S='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',E,N,B,p,v,C,V,P,k,A='<span class="text-xs font-bold">Volver a la App</span> <span class="text-[10px]">Salir del panel</span>',D,j,R,F,Q,H,G,q='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>',X,Y,K,se=r[4].find(r[10])?.icon+"",ce,ee,te=r[4].find(r[11])?.label+"",le,fe,be,we,_e,oe,J,ie,ne,me,ue,de,Te,ae=r[3]&&js(r),ve=Ge(r[4]),ye=[];for(let $=0;$<ve.length;$+=1)ye[$]=Hs(Ms(r,ve,$));V=new sr({props:{size:"sm"}});function Ae($,Be){return $[2]?Ia:Da}let re=Ae(r),Z=re(r);oe=new Ta({});const De=[Oa,Ba,La,Sa,Pa,Na,Va,Aa],Ve=[];function Ne($,Be){return $[1]==="dashboard"?0:$[1]==="users"?1:$[1]==="proposals"?2:$[1]==="submissions"?3:$[1]==="music"?4:$[1]==="bugs"?5:$[1]==="backups"?6:$[1]==="logs"?7:-1}return~(ne=Ne(r))&&(me=Ve[ne]=De[ne](r)),{c(){e=c("meta"),t=x(),l=c("div"),n=c("div"),d=x(),o=c("div"),f=x(),_=c("div"),ae&&ae.c(),b=x(),w=c("aside"),m=c("div"),y=c("div"),y.innerHTML=L,T=x(),I=c("button"),I.innerHTML=S,E=x(),N=c("nav");for(let $=0;$<ye.length;$+=1)ye[$].c();B=x(),p=c("div"),v=c("a"),C=c("div"),xt(V.$$.fragment),P=x(),k=c("div"),k.innerHTML=A,j=x(),R=c("main"),F=c("header"),Q=c("div"),H=c("div"),G=c("button"),G.innerHTML=q,X=x(),Y=c("div"),K=c("h2"),ce=U(se),ee=x(),le=U(te),fe=x(),be=c("p"),Z.c(),we=x(),_e=c("div"),xt(oe.$$.fragment),J=x(),ie=c("div"),me&&me.c(),this.h()},l($){const Be=Xs("svelte-1ou0zwi",document.head);e=i(Be,"META",{name:!0,content:!0}),Be.forEach(u),t=g($),l=i($,"DIV",{class:!0});var Pe=h(l);n=i(Pe,"DIV",{class:!0}),h(n).forEach(u),d=g(Pe),o=i(Pe,"DIV",{class:!0}),h(o).forEach(u),f=g(Pe),_=i(Pe,"DIV",{class:!0});var Ce=h(_);ae&&ae.l(Ce),b=g(Ce),w=i(Ce,"ASIDE",{class:!0});var Ee=h(w);m=i(Ee,"DIV",{class:!0});var Oe=h(m);y=i(Oe,"DIV",{class:!0,"data-svelte-h":!0}),M(y)!=="svelte-1fm2nll"&&(y.innerHTML=L),T=g(Oe),I=i(Oe,"BUTTON",{class:!0,"data-svelte-h":!0}),M(I)!=="svelte-1xbf64f"&&(I.innerHTML=S),Oe.forEach(u),E=g(Ee),N=i(Ee,"NAV",{class:!0});var Fe=h(N);for(let Ke=0;Ke<ye.length;Ke+=1)ye[Ke].l(Fe);Fe.forEach(u),B=g(Ee),p=i(Ee,"DIV",{class:!0});var ze=h(p);v=i(ze,"A",{href:!0,class:!0});var z=h(v);C=i(z,"DIV",{class:!0});var he=h(C);gt(V.$$.fragment,he),he.forEach(u),P=g(z),k=i(z,"DIV",{class:!0,"data-svelte-h":!0}),M(k)!=="svelte-199ac0x"&&(k.innerHTML=A),z.forEach(u),ze.forEach(u),Ee.forEach(u),j=g(Ce),R=i(Ce,"MAIN",{class:!0});var Se=h(R);F=i(Se,"HEADER",{class:!0});var Ue=h(F);Q=i(Ue,"DIV",{class:!0});var Me=h(Q);H=i(Me,"DIV",{class:!0});var Le=h(H);G=i(Le,"BUTTON",{class:!0,"data-svelte-h":!0}),M(G)!=="svelte-tp26qi"&&(G.innerHTML=q),X=g(Le),Y=i(Le,"DIV",{});var ke=h(Y);K=i(ke,"H2",{class:!0});var Ie=h(K);ce=O(Ie,se),ee=g(Ie),le=O(Ie,te),Ie.forEach(u),fe=g(ke),be=i(ke,"P",{class:!0});var ge=h(be);Z.l(ge),ge.forEach(u),ke.forEach(u),we=g(Le),_e=i(Le,"DIV",{class:!0});var Re=h(_e);gt(oe.$$.fragment,Re),Re.forEach(u),Le.forEach(u),Me.forEach(u),Ue.forEach(u),J=g(Se),ie=i(Se,"DIV",{class:!0});var je=h(ie);me&&me.l(je),je.forEach(u),Se.forEach(u),Ce.forEach(u),Pe.forEach(u),this.h()},h(){document.title="AdminOS | ChillChess",a(e,"name","theme-color"),a(e,"content","#0B1120"),a(n,"class","absolute top-0 left-0 w-[500px] h-[500px] bg-primary-600/10 rounded-full blur-[120px] pointer-events-none"),a(o,"class","absolute bottom-0 right-0 w-[600px] h-[600px] bg-purple-600/10 rounded-full blur-[150px] pointer-events-none"),a(y,"class","flex items-center gap-3"),a(I,"class","md:hidden text-slate-400 hover:text-white"),a(m,"class","p-8 border-b border-white/5 flex justify-between items-center"),a(N,"class","flex-1 overflow-y-auto py-6 px-4 space-y-1 custom-scrollbar svelte-1356xjh"),a(C,"class","bg-white/5 p-2 rounded-lg group-hover:bg-white/10 transition-colors"),a(k,"class","flex flex-col text-left"),a(v,"href","/"),a(v,"class","flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 transition-colors group text-slate-400 hover:text-white w-full"),a(p,"class","p-4 border-t border-white/5 bg-[#0f1524]/50"),a(w,"class",D="fixed md:relative z-50 h-full w-72 bg-[#131b2e]/90 md:bg-[#131b2e]/60 backdrop-blur-2xl border-r border-white/5 flex flex-col shadow-2xl transition-transform duration-300 ease-in-out "+(r[3]?"translate-x-0":"-translate-x-full md:translate-x-0")),a(G,"class","md:hidden p-2 rounded-lg bg-white/5 text-slate-300 hover:text-white"),a(K,"class","text-lg md:text-2xl font-bold text-white flex items-center gap-2"),a(be,"class","text-xs text-slate-400 mt-1"),a(_e,"class","flex items-center gap-4"),a(H,"class","flex items-center gap-4"),a(Q,"class","flex items-center justify-between h-20"),a(F,"class","sticky top-0 z-30 bg-[#0B1120]/80 backdrop-blur-xl border-b border-white/5 px-4 md:px-8 flex-shrink-0"),a(ie,"class","p-8 max-w-7xl mx-auto w-full space-y-8 pb-32 flex-1"),a(R,"class","flex-1 overflow-y-auto bg-[#0B1120] relative custom-scrollbar flex flex-col w-full svelte-1356xjh"),a(_,"class","flex h-screen overflow-hidden relative z-10"),a(l,"class","min-h-screen bg-[#0B1120] text-slate-200 font-poppins relative overflow-hidden")},m($,Be){s(document.head,e),W($,t,Be),W($,l,Be),s(l,n),s(l,d),s(l,o),s(l,f),s(l,_),ae&&ae.m(_,null),s(_,b),s(_,w),s(w,m),s(m,y),s(m,T),s(m,I),s(w,E),s(w,N);for(let Pe=0;Pe<ye.length;Pe+=1)ye[Pe]&&ye[Pe].m(N,null);s(w,B),s(w,p),s(p,v),s(v,C),mt(V,C,null),s(v,P),s(v,k),s(_,j),s(_,R),s(R,F),s(F,Q),s(Q,H),s(H,G),s(H,X),s(H,Y),s(Y,K),s(K,ce),s(K,ee),s(K,le),s(Y,fe),s(Y,be),Z.m(be,null),s(H,we),s(H,_e),mt(oe,_e,null),s(R,J),s(R,ie),~ne&&Ve[ne].m(ie,null),ue=!0,de||(Te=[xe(I,"click",r[7]),xe(G,"click",r[9])],de=!0)},p($,[Be]){if($[3]?ae?(ae.p($,Be),Be&8&&at(ae,1)):(ae=js($),ae.c(),at(ae,1),ae.m(_,b)):ae&&(ml(),ut(ae,1,1,()=>{ae=null}),_l()),Be&26){ve=Ge($[4]);let Ce;for(Ce=0;Ce<ve.length;Ce+=1){const Ee=Ms($,ve,Ce);ye[Ce]?ye[Ce].p(Ee,Be):(ye[Ce]=Hs(Ee),ye[Ce].c(),ye[Ce].m(N,null))}for(;Ce<ye.length;Ce+=1)ye[Ce].d(1);ye.length=ve.length}(!ue||Be&8&&D!==(D="fixed md:relative z-50 h-full w-72 bg-[#131b2e]/90 md:bg-[#131b2e]/60 backdrop-blur-2xl border-r border-white/5 flex flex-col shadow-2xl transition-transform duration-300 ease-in-out "+($[3]?"translate-x-0":"-translate-x-full md:translate-x-0")))&&a(w,"class",D),(!ue||Be&18)&&se!==(se=$[4].find($[10])?.icon+"")&&pe(ce,se),(!ue||Be&18)&&te!==(te=$[4].find($[11])?.label+"")&&pe(le,te),re!==(re=Ae($))&&(Z.d(1),Z=re($),Z&&(Z.c(),Z.m(be,null)));let Pe=ne;ne=Ne($),ne===Pe?~ne&&Ve[ne].p($,Be):(me&&(ml(),ut(Ve[Pe],1,1,()=>{Ve[Pe]=null}),_l()),~ne?(me=Ve[ne],me?me.p($,Be):(me=Ve[ne]=De[ne]($),me.c()),at(me,1),me.m(ie,null)):me=null)},i($){ue||(at(ae),at(V.$$.fragment,$),at(oe.$$.fragment,$),at(me),ue=!0)},o($){ut(ae),ut(V.$$.fragment,$),ut(oe.$$.fragment,$),ut(me),ue=!1},d($){$&&(u(t),u(l)),u(e),ae&&ae.d(),bt(ye,$),_t(V),Z.d(),_t(oe),~ne&&Ve[ne].d(),de=!1,lt(Te)}}}function Ma(r,e,t){let l,n;wl(r,il,v=>t(16,n=v));let d="dashboard",o={totalUsers:0,proUsers:0,totalAlbums:0,verifiedArtists:0,pendingSubmissions:0,pendingProposals:0,pendingBugs:0},f=!0;Dt(async()=>{await _()});async function _(){t(2,f=!0);try{const{collection:v,query:C,where:V,getCountFromServer:P}=await cl(async()=>{const{collection:q,query:X,where:Y,getCountFromServer:K}=await import("../chunks/Bkee_T1r.js").then(se=>se.i);return{collection:q,query:X,where:Y,getCountFromServer:K}},__vite__mapDeps([0,1,2,3]),import.meta.url),{db:k}=await cl(async()=>{const{db:q}=await import("../chunks/Cc16BkMR.js").then(X=>X.ai);return{db:q}},[],import.meta.url),A=async(q,X=[])=>{const Y=v(k,q),K=C(Y,...X);return(await P(K)).data().count},[D,j,R,F,Q,H,G]=await Promise.all([A("users"),A("users",[V("subscriptionTier","==","pro")]),A("users",[V("subscriptionTier","==","premium")]),A("artists",[V("isVerified","==",!0)]),A("musicSubmissions",[V("status","==","pending")]),A("proposals",[V("status","==","pending")]),A("bug_reports",[V("status","==","reported")])]);t(0,o={totalUsers:D,proUsers:j+R,totalAlbums:n.availableAlbums.length,verifiedArtists:F,pendingSubmissions:Q,pendingProposals:H,pendingBugs:G})}catch(v){console.error("Error loading stats:",v)}finally{t(2,f=!1)}}let b=!1;const w=()=>t(3,b=!1),m=v=>{(v.key==="Escape"||v.key==="Enter")&&t(3,b=!1)},y=()=>t(3,b=!1),L=v=>{t(1,d=v.id),t(3,b=!1)},T=()=>t(3,b=!0),I=v=>v.id===d,S=v=>v.id===d,E=()=>t(1,d="proposals"),N=v=>{(v.key==="Enter"||v.key===" ")&&(t(1,d="proposals"),v.preventDefault())},B=()=>t(1,d="bugs"),p=v=>{(v.key==="Enter"||v.key===" ")&&(t(1,d="bugs"),v.preventDefault())};return r.$$.update=()=>{r.$$.dirty&1&&t(4,l=[{id:"dashboard",label:"Dashboard",icon:"üìä"},{id:"users",label:"Usuarios",icon:"üë•"},{id:"proposals",label:"Propuestas",icon:"üí°",badge:o.pendingProposals},{id:"submissions",label:"Env√≠os",icon:"üéµ",badge:o.pendingSubmissions},{id:"music",label:"M√∫sica",icon:"üéº"},{id:"bugs",label:"Bugs",icon:"üêõ",badge:o.pendingBugs},{id:"backups",label:"Backups",icon:"üíæ"},{id:"logs",label:"Logs",icon:"üìù"}])},[o,d,f,b,l,w,m,y,L,T,I,S,E,N,B,p]}class Ya extends Ct{constructor(e){super(),Et(this,e,Ma,Ua,Tt,{})}}export{Ya as component};
