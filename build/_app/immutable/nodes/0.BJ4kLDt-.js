import{n as G,R as vn,aa as bn,Z as Me,s as re,d as v,i as I,e as pe,c as J,o as ct,C as ee,q as b,a as h,b as E,l as x,r as O,f as C,v as P,m as wn,D as Fe,x as q,W as We,J as Be,p as ge,H as Yt,t as ue,w as fe,g as ne,z as qe,F as Xe,A as X,B as Y,h as Zt,u as Gt,j as Kt,k as Jt,G as _n,ac as yn,L as xn}from"../chunks/BckIrkyu.js";import{n as kn,l as Tn,j as En,k as Cn,S as ie,i as oe,h as ye,t as W,a as j,g as xe,c as ke,d as se,m as le,b as ae,e as ce,o as An,p as Sn,f as Mn}from"../chunks/km8sfNIa.js";import{w as Qt,r as Vn}from"../chunks/BRP6Yj6K.js";import{p as en}from"../chunks/BFllfxPg.js";import{e as Ye,u as Dn,f as Ln}from"../chunks/B19K-gfZ.js";import{a as K,t as it,c as tn,n as Ue,d as In,e as Rn,s as On,f as Pn,i as Fn}from"../chunks/Dd3AVUpa.js";import{a as vt}from"../chunks/wQXJurf6.js";import{c as Bn,f as ot,s as bt,a as Oe}from"../chunks/BXx5VT1W.js";import{g as nn}from"../chunks/C3wcvxbl.js";import{f as zn,i as Nn,t as wt}from"../chunks/Da1-2aE9.js";import{n as _t}from"../chunks/C-5qQ3rF.js";import{u as Hn}from"../chunks/Bf7cs9Dz.js";import{s as $n,b as jn,d as Wn}from"../chunks/5dAqgG7A.js";function Un(r,e,t,n){if(!e)return G;const i=r.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return G;const{delay:a=0,duration:o=300,easing:s=vn,start:l=kn()+a,end:c=l+o,tick:u=G,css:m}=t(r,{from:e,to:i},n);let p=!0,d=!1,f;function g(){m&&(f=Cn(r,0,1,o,a,s,m)),a||(d=!0)}function _(){m&&En(r,f),p=!1}return Tn(k=>{if(!d&&k>=l&&(d=!0),d&&k>=c&&(u(1,0),_()),!p)return!1;if(d){const y=k-l,T=0+1*s(y/o);u(T,1-T)}return!0}),g(),u(0,1),_}function qn(r){const e=getComputedStyle(r);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,i=r.getBoundingClientRect();r.style.position="absolute",r.style.width=t,r.style.height=n,rn(r,i)}}function rn(r,e){const t=r.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(r),i=n.transform==="none"?"":n.transform;r.style.transform=`${i} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}const Ve=Math.min,Ee=Math.max,Ze=Math.round,$e=Math.floor,me=r=>({x:r,y:r}),Xn={left:"right",right:"left",bottom:"top",top:"bottom"},Yn={start:"end",end:"start"};function st(r,e,t){return Ee(r,Ve(e,t))}function ze(r,e){return typeof r=="function"?r(e):r}function Ce(r){return r.split("-")[0]}function Ne(r){return r.split("-")[1]}function on(r){return r==="x"?"y":"x"}function ut(r){return r==="y"?"height":"width"}const Zn=new Set(["top","bottom"]);function _e(r){return Zn.has(Ce(r))?"y":"x"}function ft(r){return on(_e(r))}function Gn(r,e,t){t===void 0&&(t=!1);const n=Ne(r),i=ft(r),a=ut(i);let o=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Ge(o)),[o,Ge(o)]}function Kn(r){const e=Ge(r);return[lt(r),e,lt(e)]}function lt(r){return r.replace(/start|end/g,e=>Yn[e])}const yt=["left","right"],xt=["right","left"],Jn=["top","bottom"],Qn=["bottom","top"];function er(r,e,t){switch(r){case"top":case"bottom":return t?e?xt:yt:e?yt:xt;case"left":case"right":return e?Jn:Qn;default:return[]}}function tr(r,e,t,n){const i=Ne(r);let a=er(Ce(r),t==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(lt)))),a}function Ge(r){return r.replace(/left|right|bottom|top/g,e=>Xn[e])}function nr(r){return{top:0,right:0,bottom:0,left:0,...r}}function sn(r){return typeof r!="number"?nr(r):{top:r,right:r,bottom:r,left:r}}function Ke(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function kt(r,e,t){let{reference:n,floating:i}=r;const a=_e(e),o=ft(e),s=ut(o),l=Ce(e),c=a==="y",u=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,p=n[s]/2-i[s]/2;let d;switch(l){case"top":d={x:u,y:n.y-i.height};break;case"bottom":d={x:u,y:n.y+n.height};break;case"right":d={x:n.x+n.width,y:m};break;case"left":d={x:n.x-i.width,y:m};break;default:d={x:n.x,y:n.y}}switch(Ne(e)){case"start":d[o]-=p*(t&&c?-1:1);break;case"end":d[o]+=p*(t&&c?-1:1);break}return d}const rr=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=t,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:r,floating:e,strategy:i}),{x:u,y:m}=kt(c,n,l),p=n,d={},f=0;for(let g=0;g<s.length;g++){const{name:_,fn:k}=s[g],{x:y,y:T,data:D,reset:M}=await k({x:u,y:m,initialPlacement:n,placement:p,strategy:i,middlewareData:d,rects:c,platform:o,elements:{reference:r,floating:e}});u=y??u,m=T??m,d={...d,[_]:{...d[_],...D}},M&&f<=50&&(f++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:r,floating:e,strategy:i}):M.rects),{x:u,y:m}=kt(c,p,l)),g=-1)}return{x:u,y:m,placement:p,strategy:i,middlewareData:d}};async function ln(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=r,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:p=!1,padding:d=0}=ze(e,r),f=sn(d),_=s[p?m==="floating"?"reference":"floating":m],k=Ke(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(_)))==null||t?_:_.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),y=m==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),D=await(a.isElement==null?void 0:a.isElement(T))?await(a.getScale==null?void 0:a.getScale(T))||{x:1,y:1}:{x:1,y:1},M=Ke(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:T,strategy:l}):y);return{top:(k.top-M.top+f.top)/D.y,bottom:(M.bottom-k.bottom+f.bottom)/D.y,left:(k.left-M.left+f.left)/D.x,right:(M.right-k.right+f.right)/D.x}}const ir=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=e,{element:c,padding:u=0}=ze(r,e)||{};if(c==null)return{};const m=sn(u),p={x:t,y:n},d=ft(i),f=ut(d),g=await o.getDimensions(c),_=d==="y",k=_?"top":"left",y=_?"bottom":"right",T=_?"clientHeight":"clientWidth",D=a.reference[f]+a.reference[d]-p[d]-a.floating[f],M=p[d]-a.reference[d],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=F?F[T]:0;(!S||!await(o.isElement==null?void 0:o.isElement(F)))&&(S=s.floating[T]||a.floating[f]);const H=D/2-M/2,B=S/2-g[f]/2-1,w=Ve(m[k],B),V=Ve(m[y],B),R=w,U=S-g[f]-V,z=S/2-g[f]/2+H,A=st(R,z,U),L=!l.arrow&&Ne(i)!=null&&z!==A&&a.reference[f]/2-(z<R?w:V)-g[f]/2<0,N=L?z<R?z-R:z-U:0;return{[d]:p[d]+N,data:{[d]:A,centerOffset:z-A-N,...L&&{alignmentOffset:N}},reset:L}}}),or=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:g=!0,..._}=ze(r,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const k=Ce(i),y=_e(s),T=Ce(s)===s,D=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=p||(T||!g?[Ge(s)]:Kn(s)),F=f!=="none";!p&&F&&M.push(...tr(s,g,f,D));const S=[s,...M],H=await ln(e,_),B=[];let w=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&B.push(H[k]),m){const z=Gn(i,o,D);B.push(H[z[0]],H[z[1]])}if(w=[...w,{placement:i,overflows:B}],!B.every(z=>z<=0)){var V,R;const z=(((V=a.flip)==null?void 0:V.index)||0)+1,A=S[z];if(A&&(!(m==="alignment"?y!==_e(A):!1)||w.every($=>_e($.placement)===y?$.overflows[0]>0:!0)))return{data:{index:z,overflows:w},reset:{placement:A}};let L=(R=w.filter(N=>N.overflows[0]<=0).sort((N,$)=>N.overflows[1]-$.overflows[1])[0])==null?void 0:R.placement;if(!L)switch(d){case"bestFit":{var U;const N=(U=w.filter($=>{if(F){const Z=_e($.placement);return Z===y||Z==="y"}return!0}).map($=>[$.placement,$.overflows.filter(Z=>Z>0).reduce((Z,Q)=>Z+Q,0)]).sort(($,Z)=>$[1]-Z[1])[0])==null?void 0:U[0];N&&(L=N);break}case"initialPlacement":L=s;break}if(i!==L)return{reset:{placement:L}}}return{}}}},sr=new Set(["left","top"]);async function lr(r,e){const{placement:t,platform:n,elements:i}=r,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Ce(t),s=Ne(t),l=_e(t)==="y",c=sr.has(o)?-1:1,u=a&&l?-1:1,m=ze(e,r);let{mainAxis:p,crossAxis:d,alignmentAxis:f}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return s&&typeof f=="number"&&(d=s==="end"?f*-1:f),l?{x:d*u,y:p*c}:{x:p*c,y:d*u}}const ar=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:a,placement:o,middlewareData:s}=e,l=await lr(e,r);return o===((t=s.offset)==null?void 0:t.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},cr=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:_=>{let{x:k,y}=_;return{x:k,y}}},...l}=ze(r,e),c={x:t,y:n},u=await ln(e,l),m=_e(Ce(i)),p=on(m);let d=c[p],f=c[m];if(a){const _=p==="y"?"top":"left",k=p==="y"?"bottom":"right",y=d+u[_],T=d-u[k];d=st(y,d,T)}if(o){const _=m==="y"?"top":"left",k=m==="y"?"bottom":"right",y=f+u[_],T=f-u[k];f=st(y,f,T)}const g=s.fn({...e,[p]:d,[m]:f});return{...g,data:{x:g.x-t,y:g.y-n,enabled:{[p]:a,[m]:o}}}}}};function Je(){return typeof window<"u"}function Le(r){return an(r)?(r.nodeName||"").toLowerCase():"#document"}function te(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function be(r){var e;return(e=(an(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function an(r){return Je()?r instanceof Node||r instanceof te(r).Node:!1}function de(r){return Je()?r instanceof Element||r instanceof te(r).Element:!1}function ve(r){return Je()?r instanceof HTMLElement||r instanceof te(r).HTMLElement:!1}function Tt(r){return!Je()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof te(r).ShadowRoot}const ur=new Set(["inline","contents"]);function He(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=he(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!ur.has(i)}const fr=new Set(["table","td","th"]);function dr(r){return fr.has(Le(r))}const hr=[":popover-open",":modal"];function Qe(r){return hr.some(e=>{try{return r.matches(e)}catch{return!1}})}const mr=["transform","translate","scale","rotate","perspective"],pr=["transform","translate","scale","rotate","perspective","filter"],gr=["paint","layout","strict","content"];function dt(r){const e=ht(),t=de(r)?he(r):r;return mr.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||pr.some(n=>(t.willChange||"").includes(n))||gr.some(n=>(t.contain||"").includes(n))}function vr(r){let e=Te(r);for(;ve(e)&&!De(e);){if(dt(e))return e;if(Qe(e))return null;e=Te(e)}return null}function ht(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const br=new Set(["html","body","#document"]);function De(r){return br.has(Le(r))}function he(r){return te(r).getComputedStyle(r)}function et(r){return de(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Te(r){if(Le(r)==="html")return r;const e=r.assignedSlot||r.parentNode||Tt(r)&&r.host||be(r);return Tt(e)?e.host:e}function cn(r){const e=Te(r);return De(e)?r.ownerDocument?r.ownerDocument.body:r.body:ve(e)&&He(e)?e:cn(e)}function Pe(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=cn(r),a=i===((n=r.ownerDocument)==null?void 0:n.body),o=te(i);if(a){const s=at(o);return e.concat(o,o.visualViewport||[],He(i)?i:[],s&&t?Pe(s):[])}return e.concat(i,Pe(i,[],t))}function at(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function un(r){const e=he(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=ve(r),a=i?r.offsetWidth:t,o=i?r.offsetHeight:n,s=Ze(t)!==a||Ze(n)!==o;return s&&(t=a,n=o),{width:t,height:n,$:s}}function mt(r){return de(r)?r:r.contextElement}function Se(r){const e=mt(r);if(!ve(e))return me(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:a}=un(e);let o=(a?Ze(t.width):t.width)/n,s=(a?Ze(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const wr=me(0);function fn(r){const e=te(r);return!ht()||!e.visualViewport?wr:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function _r(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==te(r)?!1:e}function Ae(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),a=mt(r);let o=me(1);e&&(n?de(n)&&(o=Se(n)):o=Se(r));const s=_r(a,t,n)?fn(a):me(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,m=i.height/o.y;if(a){const p=te(a),d=n&&de(n)?te(n):n;let f=p,g=at(f);for(;g&&n&&d!==f;){const _=Se(g),k=g.getBoundingClientRect(),y=he(g),T=k.left+(g.clientLeft+parseFloat(y.paddingLeft))*_.x,D=k.top+(g.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,m*=_.y,l+=T,c+=D,f=te(g),g=at(f)}}return Ke({width:u,height:m,x:l,y:c})}function tt(r,e){const t=et(r).scrollLeft;return e?e.left+t:Ae(be(r)).left+t}function dn(r,e){const t=r.getBoundingClientRect(),n=t.left+e.scrollLeft-tt(r,t),i=t.top+e.scrollTop;return{x:n,y:i}}function yr(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const a=i==="fixed",o=be(n),s=e?Qe(e.floating):!1;if(n===o||s&&a)return t;let l={scrollLeft:0,scrollTop:0},c=me(1);const u=me(0),m=ve(n);if((m||!m&&!a)&&((Le(n)!=="body"||He(o))&&(l=et(n)),ve(n))){const d=Ae(n);c=Se(n),u.x=d.x+n.clientLeft,u.y=d.y+n.clientTop}const p=o&&!m&&!a?dn(o,l):me(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:t.y*c.y-l.scrollTop*c.y+u.y+p.y}}function xr(r){return Array.from(r.getClientRects())}function kr(r){const e=be(r),t=et(r),n=r.ownerDocument.body,i=Ee(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Ee(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-t.scrollLeft+tt(r);const s=-t.scrollTop;return he(n).direction==="rtl"&&(o+=Ee(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}const Et=25;function Tr(r,e){const t=te(r),n=be(r),i=t.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const u=ht();(!u||u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const c=tt(n);if(c<=0){const u=n.ownerDocument,m=u.body,p=getComputedStyle(m),d=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,f=Math.abs(n.clientWidth-m.clientWidth-d);f<=Et&&(a-=f)}else c<=Et&&(a+=c);return{width:a,height:o,x:s,y:l}}const Er=new Set(["absolute","fixed"]);function Cr(r,e){const t=Ae(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,a=ve(r)?Se(r):me(1),o=r.clientWidth*a.x,s=r.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:o,height:s,x:l,y:c}}function Ct(r,e,t){let n;if(e==="viewport")n=Tr(r,t);else if(e==="document")n=kr(be(r));else if(de(e))n=Cr(e,t);else{const i=fn(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ke(n)}function hn(r,e){const t=Te(r);return t===e||!de(t)||De(t)?!1:he(t).position==="fixed"||hn(t,e)}function Ar(r,e){const t=e.get(r);if(t)return t;let n=Pe(r,[],!1).filter(s=>de(s)&&Le(s)!=="body"),i=null;const a=he(r).position==="fixed";let o=a?Te(r):r;for(;de(o)&&!De(o);){const s=he(o),l=dt(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&Er.has(i.position)||He(o)&&!l&&hn(r,o))?n=n.filter(u=>u!==o):i=s,o=Te(o)}return e.set(r,n),n}function Sr(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const o=[...t==="clippingAncestors"?Qe(e)?[]:Ar(e,this._c):[].concat(t),n],s=o[0],l=o.reduce((c,u)=>{const m=Ct(e,u,i);return c.top=Ee(m.top,c.top),c.right=Ve(m.right,c.right),c.bottom=Ve(m.bottom,c.bottom),c.left=Ee(m.left,c.left),c},Ct(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Mr(r){const{width:e,height:t}=un(r);return{width:e,height:t}}function Vr(r,e,t){const n=ve(e),i=be(e),a=t==="fixed",o=Ae(r,!0,a,e);let s={scrollLeft:0,scrollTop:0};const l=me(0);function c(){l.x=tt(i)}if(n||!n&&!a)if((Le(e)!=="body"||He(i))&&(s=et(e)),n){const d=Ae(e,!0,a,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&c();a&&!n&&i&&c();const u=i&&!n&&!a?dn(i,s):me(0),m=o.left+s.scrollLeft-l.x-u.x,p=o.top+s.scrollTop-l.y-u.y;return{x:m,y:p,width:o.width,height:o.height}}function nt(r){return he(r).position==="static"}function At(r,e){if(!ve(r)||he(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return be(r)===t&&(t=t.ownerDocument.body),t}function mn(r,e){const t=te(r);if(Qe(r))return t;if(!ve(r)){let i=Te(r);for(;i&&!De(i);){if(de(i)&&!nt(i))return i;i=Te(i)}return t}let n=At(r,e);for(;n&&dr(n)&&nt(n);)n=At(n,e);return n&&De(n)&&nt(n)&&!dt(n)?t:n||vr(r)||t}const Dr=async function(r){const e=this.getOffsetParent||mn,t=this.getDimensions,n=await t(r.floating);return{reference:Vr(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Lr(r){return he(r).direction==="rtl"}const Ir={convertOffsetParentRelativeRectToViewportRelativeRect:yr,getDocumentElement:be,getClippingRect:Sr,getOffsetParent:mn,getElementRects:Dr,getClientRects:xr,getDimensions:Mr,getScale:Se,isElement:de,isRTL:Lr};function pn(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function Rr(r,e){let t=null,n;const i=be(r);function a(){var s;clearTimeout(n),(s=t)==null||s.disconnect(),t=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=r.getBoundingClientRect(),{left:u,top:m,width:p,height:d}=c;if(s||e(),!p||!d)return;const f=$e(m),g=$e(i.clientWidth-(u+p)),_=$e(i.clientHeight-(m+d)),k=$e(u),T={rootMargin:-f+"px "+-g+"px "+-_+"px "+-k+"px",threshold:Ee(0,Ve(1,l))||1};let D=!0;function M(F){const S=F[0].intersectionRatio;if(S!==l){if(!D)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!pn(c,r.getBoundingClientRect())&&o(),D=!1}try{t=new IntersectionObserver(M,{...T,root:i.ownerDocument})}catch{t=new IntersectionObserver(M,T)}t.observe(r)}return o(!0),a}function Or(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=mt(r),u=i||a?[...c?Pe(c):[],...Pe(e)]:[];u.forEach(k=>{i&&k.addEventListener("scroll",t,{passive:!0}),a&&k.addEventListener("resize",t)});const m=c&&s?Rr(c,t):null;let p=-1,d=null;o&&(d=new ResizeObserver(k=>{let[y]=k;y&&y.target===c&&d&&(d.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=d)==null||T.observe(e)})),t()}),c&&!l&&d.observe(c),d.observe(e));let f,g=l?Ae(r):null;l&&_();function _(){const k=Ae(r);g&&!pn(g,k)&&t(),g=k,f=requestAnimationFrame(_)}return t(),()=>{var k;u.forEach(y=>{i&&y.removeEventListener("scroll",t),a&&y.removeEventListener("resize",t)}),m?.(),(k=d)==null||k.disconnect(),d=null,l&&cancelAnimationFrame(f)}}const Pr=ar,Fr=cr,Br=or,zr=ir,Nr=(r,e,t)=>{const n=new Map,i={platform:Ir,...t},a={...i.platform,_c:n};return rr(r,e,{...i,platform:a})},Hr=Qt(void 0),rt={};function St(r){return r==="local"?localStorage:sessionStorage}function pt(r,e,t){const n=JSON,i="local";function a(o,s){St(i).setItem(o,n.stringify(s))}if(!rt[r]){const o=Qt(e,c=>{const u=St(i).getItem(r);u&&c(n.parse(u));{const m=p=>{p.key===r&&c(p.newValue?n.parse(p.newValue):null)};return window.addEventListener("storage",m),()=>window.removeEventListener("storage",m)}}),{subscribe:s,set:l}=o;rt[r]={set(c){a(r,c),l(c)},update(c){const u=c(bn(o));a(r,u),l(u)},subscribe:s}}return rt[r]}pt("modeOsPrefers",!1);pt("modeUserPrefers",void 0);pt("modeCurrent",!1);const gn="(prefers-reduced-motion: reduce)";function $r(){return window.matchMedia(gn).matches}Vn($r(),r=>{{const e=n=>{r(n.matches)},t=window.matchMedia(gn);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}});function jr(r,{from:e,to:t},n={}){const i=getComputedStyle(r),a=i.transform==="none"?"":i.transform,[o,s]=i.transformOrigin.split(" ").map(parseFloat),l=e.left+e.width*o/t.width-(t.left+o),c=e.top+e.height*s/t.height-(t.top+s),{delay:u=0,duration:m=d=>Math.sqrt(d)*120,easing:p=Bn}=n;return{delay:u,duration:Me(m)?m(Math.sqrt(l*l+c*c)):m,easing:p,css:(d,f)=>{const g=f*l,_=f*c,k=d+f*e.width/t.width,y=d+f*e.height/t.height;return`transform: ${a} translate(${g}px, ${_}px) scale(${k}, ${y});`}}}function Mt(r,e,t){const n=r.slice();return n[8]=e[t],n}function Vt(r){let e,t,n,i,a,o,s,l=r[2]&&Dt(r);return{c(){e=C("div"),t=C("div"),n=P(),l&&l.c(),i=P(),a=C("div"),o=P(),s=C("div"),this.h()},l(c){e=E(c,"DIV",{class:!0});var u=x(e);t=E(u,"DIV",{class:!0,style:!0}),x(t).forEach(v),n=O(u),l&&l.l(u),i=O(u),a=E(u,"DIV",{class:!0}),x(a).forEach(v),o=O(u),s=E(u,"DIV",{class:!0}),x(s).forEach(v),u.forEach(v),this.h()},h(){h(t,"class","absolute inset-0 bg-cover bg-center animate-ken-burns opacity-60 transition-all duration-1000 svelte-1yijs4b"),ee(t,"background-image","url('"+r[3]+"')"),ee(t,"will-change","transform"),h(a,"class","absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-black/60 pointer-events-none mix-blend-multiply"),h(s,"class","absolute inset-0 bg-primary-900/10 pointer-events-none mix-blend-overlay"),h(e,"class","fixed inset-0 -z-10 overflow-hidden bg-black")},m(c,u){I(c,e,u),b(e,t),b(e,n),l&&l.m(e,null),b(e,i),b(e,a),b(e,o),b(e,s)},p(c,u){u&8&&ee(t,"background-image","url('"+c[3]+"')"),c[2]?l?l.p(c,u):(l=Dt(c),l.c(),l.m(e,i)):l&&(l.d(1),l=null)},d(c){c&&v(e),l&&l.d()}}}function Dt(r){let e,t=Ye(r[0]),n=[];for(let i=0;i<t.length;i+=1)n[i]=Lt(Mt(r,t,i));return{c(){e=C("div");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=E(i,"DIV",{class:!0});var a=x(e);for(let o=0;o<n.length;o+=1)n[o].l(a);a.forEach(v),this.h()},h(){h(e,"class","absolute inset-0 pointer-events-none opacity-40 transition-opacity duration-500")},m(i,a){I(i,e,a);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(i,a){if(a&1){t=Ye(i[0]);let o;for(o=0;o<t.length;o+=1){const s=Mt(i,t,o);n[o]?n[o].p(s,a):(n[o]=Lt(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(i){i&&v(e),wn(n,i)}}}function Lt(r){let e;return{c(){e=C("div"),this.h()},l(t){e=E(t,"DIV",{class:!0,style:!0}),x(e).forEach(v),this.h()},h(){h(e,"class","absolute top-[-10px] w-[1px] h-[15px] bg-white/50 animate-rain svelte-1yijs4b"),ee(e,"left",r[8].left+"%"),ee(e,"animation-delay",r[8].delay+"s"),ee(e,"animation-duration",r[8].duration+"s"),ee(e,"will-change","transform")},m(t,n){I(t,e,n)},p(t,n){n&1&&ee(e,"left",t[8].left+"%"),n&1&&ee(e,"animation-delay",t[8].delay+"s"),n&1&&ee(e,"animation-duration",t[8].duration+"s")},d(t){t&&v(e)}}}function Wr(r){let e,t=r[1]&&Vt(r);return{c(){t&&t.c(),e=pe()},l(n){t&&t.l(n),e=pe()},m(n,i){t&&t.m(n,i),I(n,e,i)},p(n,[i]){n[1]?t?t.p(n,i):(t=Vt(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:G,o:G,d(n){n&&v(e),t&&t.d(n)}}}function Ur(r,e,t){let n,i,a,o,s;J(r,en,m=>t(4,o=m)),J(r,K,m=>t(5,s=m));const l={noir:"/assets/images/backgrounds/lofi-study.png",library:"/assets/images/backgrounds/library.png",zen:"/assets/images/backgrounds/zen-garden.png"};let c=[],u=!1;return ct(()=>{u=window.innerWidth<768;const m=u?50:75;t(0,c=Array.from({length:m},()=>({left:Math.random()*100,delay:Math.random()*2,duration:.5+Math.random()*.5})))}),r.$$.update=()=>{r.$$.dirty&32&&t(3,n=s.activeVibe==="custom"?l.noir:l[s.activeVibe]),r.$$.dirty&32&&t(2,i=s.currentAmbience==="rain"),r.$$.dirty&16&&t(1,a=o.url.pathname.startsWith("/app"))},[c,a,i,n,o,s]}class qr extends ie{constructor(e){super(),oe(this,e,Ur,Wr,re,{})}}function Xr(r){let e,t,n,i,a,o,s;return{c(){e=C("audio"),t=P(),n=C("audio"),i=P(),a=C("audio"),this.h()},l(l){e=E(l,"AUDIO",{preload:!0,crossorigin:!0}),x(e).forEach(v),t=O(l),n=E(l,"AUDIO",{preload:!0,crossorigin:!0}),x(n).forEach(v),i=O(l),a=E(l,"AUDIO",{preload:!0,crossorigin:!0}),x(a).forEach(v),this.h()},h(){h(e,"preload","auto"),h(e,"crossorigin","anonymous"),n.loop=!0,h(n,"preload","auto"),h(n,"crossorigin","anonymous"),a.loop=!0,h(a,"preload","auto"),h(a,"crossorigin","anonymous")},m(l,c){I(l,e,c),r[9](e),I(l,t,c),I(l,n,c),r[11](n),I(l,i,c),I(l,a,c),r[13](a),o||(s=[q(e,"ended",r[3]),q(e,"timeupdate",r[4]),q(e,"durationchange",r[5]),q(e,"error",r[10]),q(n,"error",r[12]),q(a,"error",r[14])],o=!0)},p:G,i:G,o:G,d(l){l&&(v(e),v(t),v(n),v(i),v(a)),r[9](null),r[11](null),r[13](null),o=!1,Fe(s)}}}function Yr(r){return r?r.startsWith("http")?r:window.location.origin+r:""}function Zr(r,e,t){let n;J(r,K,w=>t(8,n=w));const i={rain:"/assets/audio/ambience/rain.mp3",library:"/assets/audio/ambience/library.mp3",garden:"/assets/audio/ambience/garden.mp3",none:""},a={none:"",rain:"/whitenoise/rain.wav",fire:"/whitenoise/fire.mp3",cafe:"/whitenoise/cafe.wav",ocean:"/whitenoise/ocean.flac",forest:"/whitenoise/forest.wav"};let o,s,l;function c(w,V,R){if(typeof navigator>"u"||!("mediaSession"in navigator))return;if(R.length===0){navigator.mediaSession.metadata=null;return}const U=R[w],z=n.availableAlbums.find(A=>A.id===V);if(U&&z){const A=Yr(z.cover);navigator.mediaSession.metadata=new MediaMetadata({title:U.title,artist:U.artist||z.artist,album:z.title,artwork:[{src:A,sizes:"512x512",type:"image/jpeg"}]});try{navigator.mediaSession.setActionHandler("play",()=>it()),navigator.mediaSession.setActionHandler("pause",()=>it()),navigator.mediaSession.setActionHandler("previoustrack",()=>tn()),navigator.mediaSession.setActionHandler("nexttrack",()=>Ue()),navigator.mediaSession.setActionHandler("seekto",L=>{L.seekTime!==void 0&&L.fastSeek===!1&&K.update(N=>({...N,seekRequest:L.seekTime??null}))})}catch(L){console.warn("Media Session Action Handler error:",L)}}}function u(){console.log("Track ended");const{repeatMode:w,currentTrackIndex:V,playlist:R}=n;w==="one"?o&&(t(0,o.currentTime=0,o),o.play().catch(console.error)):w==="all"?Ue():V<R.length-1?Ue():K.update(U=>({...U,isPlaying:!1}))}function m(){o&&K.update(w=>({...w,currentTime:o.currentTime}))}let p,d,f,g;function _(){if(!(typeof window>"u")&&!(!o||p))try{const w=window.AudioContext||window.webkitAudioContext;t(6,p=new w),f=p.createAnalyser(),f.fftSize=256,d=p.createMediaElementSource(o),d.connect(f),f.connect(p.destination),console.log("Audio Context Initialized for Visualization")}catch(w){console.error("Audio Analysis Setup Failed:",w)}}function k(w){if(!f)return;if(w-y<33){o.paused||t(7,g=requestAnimationFrame(k));return}y=w;const V=new Uint8Array(f.frequencyBinCount);f.getByteFrequencyData(V);const R=4,U=16,z=($,Z)=>{let Q=0;for(let we=$;we<Z;we++)Q+=V[we];return Q/(Z-$)/255},A=z(0,R),L=z(R,U),N=z(U,32);vt.set({bass:A,mid:L,high:N,isPlaying:!0}),o.paused||t(7,g=requestAnimationFrame(k))}let y=0;function T(){o&&K.update(w=>({...w,duration:o.duration}))}function D(w){We[w?"unshift":"push"](()=>{o=w,t(0,o),t(8,n)})}const M=w=>console.warn("Audio Error (Music):",w);function F(w){We[w?"unshift":"push"](()=>{s=w,t(1,s),t(8,n)})}const S=w=>console.warn("Audio Error (Ambience):",w);function H(w){We[w?"unshift":"push"](()=>{l=w,t(2,l),t(8,n)})}const B=w=>console.warn("Audio Error (White Noise):",w);return r.$$.update=()=>{if(r.$$.dirty&257&&o&&n.seekRequest!==null&&(t(0,o.currentTime=n.seekRequest,o),K.update(w=>({...w,seekRequest:null}))),r.$$.dirty&256&&typeof navigator<"u"&&"mediaSession"in navigator&&(navigator.mediaSession.playbackState=n.isPlaying?"playing":"paused"),r.$$.dirty&256&&c(n.currentTrackIndex,n.currentAlbumId,n.playlist),r.$$.dirty&257&&o)if(t(0,o.volume=n.isMuted?0:n.musicVolume,o),n.playlist.length>0){const V=n.playlist[n.currentTrackIndex].file;o.getAttribute("src")!==V&&(t(0,o.src=V,o),n.isPlaying&&o.play().catch(R=>console.log("Auto-play blocked:",R))),n.isPlaying&&o.paused&&o.readyState>=2?o.play().catch(R=>console.log("Play error:",R)):!n.isPlaying&&!o.paused&&o.pause()}else o.pause(),t(0,o.src="",o);if(r.$$.dirty&258&&s){t(1,s.volume=n.isMuted?0:n.ambienceVolume,s);const w=i[n.currentAmbience];s.getAttribute("src")!==w&&(w?(t(1,s.src=w,s),n.isPlaying&&s.play().catch(console.error)):(s.pause(),t(1,s.src="",s))),n.isPlaying&&w&&s.paused&&s.readyState>=2?s.play().catch(console.error):!n.isPlaying&&!s.paused&&s.pause()}if(r.$$.dirty&260&&l){t(2,l.volume=n.isMuted?0:n.whiteNoiseVolume,l);const w=a[n.currentWhiteNoise];l.getAttribute("src")!==w&&(w?(t(2,l.src=w,l),l.play().catch(console.error)):(l.pause(),t(2,l.src="",l))),w&&l.paused&&l.readyState>=2&&l.play().catch(console.error)}r.$$.dirty&449&&(n.isPlaying?(!p&&o&&_(),p?.state==="suspended"&&p.resume(),cancelAnimationFrame(g),t(7,g=requestAnimationFrame(k))):(cancelAnimationFrame(g),vt.update(w=>({...w,bass:0,mid:0,high:0,isPlaying:!1}))))},[o,s,l,u,m,T,p,g,n,D,M,F,S,H,B]}class Gr extends ie{constructor(e){super(),oe(this,e,Zr,Xr,re,{})}}function Kr(r){let e,t='<svg class="w-4 h-4 text-white/70" fill="currentColor" viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"></path></svg>';return{c(){e=C("div"),e.innerHTML=t,this.h()},l(n){e=E(n,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-2a499o"&&(e.innerHTML=t),this.h()},h(){h(e,"class","w-full h-full rounded-full bg-gradient-to-tr from-indigo-500 to-violet-600 flex items-center justify-center border border-white/20 svelte-mtnxdl"),Xe(e,"animate-spin-slow",r[5].isPlaying)},m(n,i){I(n,e,i)},p(n,i){i&32&&Xe(e,"animate-spin-slow",n[5].isPlaying)},d(n){n&&v(e)}}}function Jr(r){let e,t,n,i,a;return{c(){e=C("div"),t=C("img"),i=P(),a=C("div"),this.h()},l(o){e=E(o,"DIV",{class:!0});var s=x(e);t=E(s,"IMG",{src:!0,alt:!0,class:!0}),i=O(s),a=E(s,"DIV",{class:!0}),x(a).forEach(v),s.forEach(v),this.h()},h(){qe(t.src,n=r[6].cover)||h(t,"src",n),h(t,"alt","Album Art"),h(t,"class","absolute inset-0 w-full h-full rounded-full object-cover border-[1.5px] border-white/20 shadow-md svelte-mtnxdl"),Xe(t,"animate-spin-slow",r[5].isPlaying),h(a,"class","absolute inset-0 rounded-full bg-gradient-to-tr from-white/10 to-transparent pointer-events-none"),h(e,"class","relative w-full h-full")},m(o,s){I(o,e,s),b(e,t),b(e,i),b(e,a)},p(o,s){s&64&&!qe(t.src,n=o[6].cover)&&h(t,"src",n),s&32&&Xe(t,"animate-spin-slow",o[5].isPlaying)},d(o){o&&v(e)}}}function It(r){let e,t='<div class="w-1 h-1 bg-white rounded-full animate-ping"></div>';return{c(){e=C("div"),e.innerHTML=t,this.h()},l(n){e=E(n,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-15wizn4"&&(e.innerHTML=t),this.h()},h(){h(e,"class","absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-[#0F172A] flex items-center justify-center")},m(n,i){I(n,e,i)},d(n){n&&v(e)}}}function Qr(r){let e,t;return{c(){e=Y("svg"),t=Y("path"),this.h()},l(n){e=X(n,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0});var i=x(e);t=X(i,"path",{d:!0}),x(t).forEach(v),i.forEach(v),this.h()},h(){h(t,"d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"),h(e,"class","w-4 h-4"),h(e,"fill","none"),h(e,"stroke","currentColor"),h(e,"stroke-width","2"),h(e,"viewBox","0 0 24 24")},m(n,i){I(n,e,i),b(e,t)},d(n){n&&v(e)}}}function ei(r){let e,t;return{c(){e=Y("svg"),t=Y("path"),this.h()},l(n){e=X(n,"svg",{class:!0,viewBox:!0});var i=x(e);t=X(i,"path",{d:!0}),x(t).forEach(v),i.forEach(v),this.h()},h(){h(t,"d","M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"),h(e,"class","w-4 h-4 text-rose-500 fill-current"),h(e,"viewBox","0 0 24 24")},m(n,i){I(n,e,i),b(e,t)},d(n){n&&v(e)}}}function Rt(r){let e,t='<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path></svg>',n,i;return{c(){e=C("button"),e.innerHTML=t,this.h()},l(a){e=E(a,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1oq4jz0"&&(e.innerHTML=t),this.h()},h(){h(e,"class","absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-white shadow-lg opacity-0 group-hover:opacity-100 transition-all hover:bg-red-600 hover:scale-110 z-50"),h(e,"title","Cerrar")},m(a,o){I(a,e,o),n||(i=q(e,"click",Yt(function(){Me(r[4])&&r[4].apply(this,arguments)})),n=!0)},p(a,o){r=a},d(a){a&&v(e),n=!1,i()}}}function ti(r){let e,t,n,i,a,o,s,l,c,u=r[0].title+"",m,p,d,f=(r[6]?.artist||r[0].artist)+"",g,_,k,y,T,D,M,F,S;function H(L,N){return L[6]?Jr:Kr}let B=H(r),w=B(r),V=r[5].isPlaying&&It();function R(L,N){return L[2]?ei:Qr}let U=R(r),z=U(r),A=r[4]&&Rt(r);return{c(){e=C("div"),t=C("button"),n=C("div"),w.c(),i=P(),a=C("div"),o=P(),V&&V.c(),s=P(),l=C("div"),c=C("span"),m=fe(u),p=P(),d=C("span"),g=fe(f),_=P(),k=C("div"),y=C("button"),z.c(),T=P(),A&&A.c(),this.h()},l(L){e=E(L,"DIV",{class:!0});var N=x(e);t=E(N,"BUTTON",{class:!0});var $=x(t);n=E($,"DIV",{class:!0});var Z=x(n);w.l(Z),i=O(Z),a=E(Z,"DIV",{class:!0}),x(a).forEach(v),o=O(Z),V&&V.l(Z),Z.forEach(v),s=O($),l=E($,"DIV",{class:!0});var Q=x(l);c=E(Q,"SPAN",{class:!0});var we=x(c);m=ue(we,u),we.forEach(v),p=O(Q),d=E(Q,"SPAN",{class:!0});var Ie=x(d);g=ue(Ie,f),Ie.forEach(v),Q.forEach(v),_=O($),k=E($,"DIV",{class:!0});var Re=x(k);y=E(Re,"BUTTON",{class:!0,title:!0});var gt=x(y);z.l(gt),gt.forEach(v),Re.forEach(v),T=O($),A&&A.l($),$.forEach(v),N.forEach(v),this.h()},h(){h(a,"class","absolute w-2.5 h-2.5 bg-[#0F172A] rounded-full z-10 border border-white/10"),h(n,"class","relative shrink-0 w-11 h-11 flex items-center justify-center group-hover:scale-105 transition-transform duration-500"),h(c,"class","text-xs font-bold text-white truncate w-24 sm:w-32 leading-tight"),h(d,"class","text-[10px] text-slate-400 truncate w-24 sm:w-32 font-medium"),h(l,"class","flex flex-col text-left min-w-0 pr-2"),h(y,"class","text-white/40 hover:text-rose-400 hover:scale-110 transition-all p-1"),h(y,"title","Favorito"),h(k,"class","pl-2 border-l border-white/10 flex items-center"),h(t,"class","group bg-[#0F172A]/90 backdrop-blur-xl border border-white/10 p-2 pr-4 rounded-full shadow-2xl hover:scale-105 transition-all flex items-center gap-3 overflow-hidden max-w-[240px]"),h(e,"class","fixed bottom-6 right-6 z-[100] flex flex-col items-end gap-2")},m(L,N){I(L,e,N),b(e,t),b(t,n),w.m(n,null),b(n,i),b(n,a),b(n,o),V&&V.m(n,null),b(t,s),b(t,l),b(l,c),b(c,m),b(l,p),b(l,d),b(d,g),b(t,_),b(t,k),b(k,y),z.m(y,null),b(t,T),A&&A.m(t,null),M=!0,F||(S=[q(y,"click",Yt(function(){Me(r[3])&&r[3].apply(this,arguments)})),q(t,"click",function(){Me(r[1])&&r[1].apply(this,arguments)})],F=!0)},p(L,[N]){r=L,B===(B=H(r))&&w?w.p(r,N):(w.d(1),w=B(r),w&&(w.c(),w.m(n,i))),r[5].isPlaying?V||(V=It(),V.c(),V.m(n,null)):V&&(V.d(1),V=null),(!M||N&1)&&u!==(u=r[0].title+"")&&ge(m,u),(!M||N&65)&&f!==(f=(r[6]?.artist||r[0].artist)+"")&&ge(g,f),U!==(U=R(r))&&(z.d(1),z=U(r),z&&(z.c(),z.m(y,null))),r[4]?A?A.p(r,N):(A=Rt(r),A.c(),A.m(t,null)):A&&(A.d(1),A=null)},i(L){M||(L&&Be(()=>{M&&(D||(D=ye(e,ot,{duration:200},!0)),D.run(1))}),M=!0)},o(L){L&&(D||(D=ye(e,ot,{duration:200},!1)),D.run(0)),M=!1},d(L){L&&v(e),w.d(),V&&V.d(),z.d(),A&&A.d(),L&&D&&D.end(),F=!1,Fe(S)}}}function ni(r,e,t){let n,i;J(r,K,u=>t(5,i=u));let{currentTrack:a}=e,{onExpand:o}=e,{isFavorite:s=!1}=e,{onFavoriteClick:l=()=>{}}=e,{onClose:c=void 0}=e;return r.$$set=u=>{"currentTrack"in u&&t(0,a=u.currentTrack),"onExpand"in u&&t(1,o=u.onExpand),"isFavorite"in u&&t(2,s=u.isFavorite),"onFavoriteClick"in u&&t(3,l=u.onFavoriteClick),"onClose"in u&&t(4,c=u.onClose)},r.$$.update=()=>{r.$$.dirty&32&&t(6,n=i.currentAlbumId?nn(i.currentAlbumId):null)},[a,o,s,l,c,i,n]}class ri extends ie{constructor(e){super(),oe(this,e,ni,ti,re,{currentTrack:0,onExpand:1,isFavorite:2,onFavoriteClick:3,onClose:4})}}function ii(r){let e,t='<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"></path></svg>';return{c(){e=C("div"),e.innerHTML=t,this.h()},l(n){e=E(n,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-19q70rh"&&(e.innerHTML=t),this.h()},h(){h(e,"class","w-full h-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white/50")},m(n,i){I(n,e,i)},p:G,d(n){n&&v(e)}}}function oi(r){let e,t,n,i,a,o='<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>';return{c(){e=C("img"),i=P(),a=C("div"),a.innerHTML=o,this.h()},l(s){e=E(s,"IMG",{src:!0,alt:!0,class:!0}),i=O(s),a=E(s,"DIV",{class:!0,"data-svelte-h":!0}),ne(a)!=="svelte-7y5olp"&&(a.innerHTML=o),this.h()},h(){qe(e.src,t=r[4].cover)||h(e,"src",t),h(e,"alt",n=r[4].title),h(e,"class","w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"),h(a,"class","absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity")},m(s,l){I(s,e,l),I(s,i,l),I(s,a,l)},p(s,l){l&16&&!qe(e.src,t=s[4].cover)&&h(e,"src",t),l&16&&n!==(n=s[4].title)&&h(e,"alt",n)},d(s){s&&(v(e),v(i),v(a))}}}function si(r){let e,t;return{c(){e=Y("svg"),t=Y("path"),this.h()},l(n){e=X(n,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0});var i=x(e);t=X(i,"path",{d:!0}),x(t).forEach(v),i.forEach(v),this.h()},h(){h(t,"d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"),h(e,"class","w-5 h-5"),h(e,"fill","none"),h(e,"stroke","currentColor"),h(e,"stroke-width","2"),h(e,"viewBox","0 0 24 24")},m(n,i){I(n,e,i),b(e,t)},d(n){n&&v(e)}}}function li(r){let e,t;return{c(){e=Y("svg"),t=Y("path"),this.h()},l(n){e=X(n,"svg",{class:!0,viewBox:!0});var i=x(e);t=X(i,"path",{d:!0}),x(t).forEach(v),i.forEach(v),this.h()},h(){h(t,"d","M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"),h(e,"class","w-5 h-5 text-rose-500 fill-current"),h(e,"viewBox","0 0 24 24")},m(n,i){I(n,e,i),b(e,t)},d(n){n&&v(e)}}}function ai(r){let e,t,n,i,a,o=r[0].title+"",s,l,c,u=r[0].artist+"",m,p,d,f,g;function _(F,S){return F[4]?oi:ii}let k=_(r),y=k(r);function T(F,S){return F[1]?li:si}let D=T(r),M=D(r);return{c(){e=C("div"),t=C("div"),y.c(),n=P(),i=C("div"),a=C("div"),s=fe(o),l=P(),c=C("div"),m=fe(u),p=P(),d=C("button"),M.c(),this.h()},l(F){e=E(F,"DIV",{class:!0});var S=x(e);t=E(S,"DIV",{class:!0,title:!0});var H=x(t);y.l(H),H.forEach(v),n=O(S),i=E(S,"DIV",{class:!0});var B=x(i);a=E(B,"DIV",{class:!0});var w=x(a);s=ue(w,o),w.forEach(v),l=O(B),c=E(B,"DIV",{class:!0});var V=x(c);m=ue(V,u),V.forEach(v),B.forEach(v),p=O(S),d=E(S,"BUTTON",{class:!0,title:!0,"aria-label":!0});var R=x(d);M.l(R),R.forEach(v),S.forEach(v),this.h()},h(){h(t,"class","hidden sm:relative sm:flex w-14 h-14 bg-white/5 rounded-lg items-center justify-center shrink-0 overflow-hidden cursor-pointer group shadow-lg shadow-black/40 border border-white/10"),h(t,"title","Ver lista de canciones"),h(a,"class","font-bold text-sm sm:text-base truncate text-white"),h(c,"class","text-xs sm:text-sm text-slate-400 truncate"),h(i,"class","min-w-0 flex-1"),h(d,"class","text-white/50 hover:text-rose-400 transition-colors p-2 shrink-0"),h(d,"title","Añadir a favoritos"),h(d,"aria-label","Añadir a favoritos"),h(e,"class","flex items-center gap-4 w-1/3 min-w-0")},m(F,S){I(F,e,S),b(e,t),y.m(t,null),b(e,n),b(e,i),b(i,a),b(a,s),b(i,l),b(i,c),b(c,m),b(e,p),b(e,d),M.m(d,null),f||(g=[q(t,"click",function(){Me(r[3])&&r[3].apply(this,arguments)}),q(d,"click",function(){Me(r[2])&&r[2].apply(this,arguments)})],f=!0)},p(F,[S]){r=F,k===(k=_(r))&&y?y.p(r,S):(y.d(1),y=k(r),y&&(y.c(),y.m(t,null))),S&1&&o!==(o=r[0].title+"")&&ge(s,o),S&1&&u!==(u=r[0].artist+"")&&ge(m,u),D!==(D=T(r))&&(M.d(1),M=D(r),M&&(M.c(),M.m(d,null)))},i:G,o:G,d(F){F&&v(e),y.d(),M.d(),f=!1,Fe(g)}}}function ci(r,e,t){let n,i;J(r,K,c=>t(5,i=c));let{currentTrack:a}=e,{isFavorite:o}=e,{onFavoriteClick:s}=e,{onShowTracks:l}=e;return r.$$set=c=>{"currentTrack"in c&&t(0,a=c.currentTrack),"isFavorite"in c&&t(1,o=c.isFavorite),"onFavoriteClick"in c&&t(2,s=c.onFavoriteClick),"onShowTracks"in c&&t(3,l=c.onShowTracks)},r.$$.update=()=>{r.$$.dirty&32&&t(4,n=i.currentAlbumId?nn(i.currentAlbumId):null)},[a,o,s,l,n,i]}class ui extends ie{constructor(e){super(),oe(this,e,ci,ai,re,{currentTrack:0,isFavorite:1,onFavoriteClick:2,onShowTracks:3})}}function fi(r){let e,t;return{c(){e=Y("svg"),t=Y("path"),this.h()},l(n){e=X(n,"svg",{class:!0,fill:!0,viewBox:!0});var i=x(e);t=X(i,"path",{d:!0}),x(t).forEach(v),i.forEach(v),this.h()},h(){h(t,"d","M8 5v14l11-7z"),h(e,"class","w-6 h-6 ml-1"),h(e,"fill","currentColor"),h(e,"viewBox","0 0 24 24")},m(n,i){I(n,e,i),b(e,t)},d(n){n&&v(e)}}}function di(r){let e,t;return{c(){e=Y("svg"),t=Y("path"),this.h()},l(n){e=X(n,"svg",{class:!0,fill:!0,viewBox:!0});var i=x(e);t=X(i,"path",{d:!0}),x(t).forEach(v),i.forEach(v),this.h()},h(){h(t,"d","M6 19h4V5H6v14zm8-14v14h4V5h-4z"),h(e,"class","w-6 h-6 ml-0.5"),h(e,"fill","currentColor"),h(e,"viewBox","0 0 24 24")},m(n,i){I(n,e,i),b(e,t)},d(n){n&&v(e)}}}function Ot(r){let e,t="1";return{c(){e=C("span"),e.textContent=t,this.h()},l(n){e=E(n,"SPAN",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-a02tpb"&&(e.textContent=t),this.h()},h(){h(e,"class","absolute -bottom-1 -right-1 text-[8px] font-bold")},m(n,i){I(n,e,i)},d(n){n&&v(e)}}}function hi(r){let e,t,n,i,a,o,s,l='<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"></path></svg>',c,u,m,p,d='<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"></path></svg>',f,g,_,k,y,T,D,M,F;function S(V,R){return V[0].isPlaying?di:fi}let H=S(r),B=H(r),w=r[0].repeatMode==="one"&&Ot();return{c(){e=C("div"),t=C("button"),n=Y("svg"),i=Y("path"),o=P(),s=C("button"),s.innerHTML=l,c=P(),u=C("button"),B.c(),m=P(),p=C("button"),p.innerHTML=d,f=P(),g=C("button"),_=Y("svg"),k=Y("path"),y=P(),w&&w.c(),this.h()},l(V){e=E(V,"DIV",{class:!0});var R=x(e);t=E(R,"BUTTON",{class:!0,title:!0});var U=x(t);n=X(U,"svg",{class:!0,fill:!0,viewBox:!0});var z=x(n);i=X(z,"path",{d:!0}),x(i).forEach(v),z.forEach(v),U.forEach(v),o=O(R),s=E(R,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-s8q1ox"&&(s.innerHTML=l),c=O(R),u=E(R,"BUTTON",{class:!0});var A=x(u);B.l(A),A.forEach(v),m=O(R),p=E(R,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(p)!=="svelte-1cyguki"&&(p.innerHTML=d),f=O(R),g=E(R,"BUTTON",{class:!0,title:!0});var L=x(g);_=X(L,"svg",{class:!0,fill:!0,viewBox:!0});var N=x(_);k=X(N,"path",{d:!0}),x(k).forEach(v),N.forEach(v),y=O(L),w&&w.l(L),L.forEach(v),R.forEach(v),this.h()},h(){h(i,"d","M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"),h(n,"class","w-4 h-4"),h(n,"fill","currentColor"),h(n,"viewBox","0 0 24 24"),h(t,"class",a="transition-colors hidden md:block "+(r[0].shuffle?"text-green-400":"text-slate-400 hover:text-white")),h(t,"title","Aleatorio"),h(s,"class","text-white/80 hover:text-white transition-colors"),h(u,"class","w-10 h-10 rounded-full bg-white text-black flex items-center justify-center hover:scale-105 transition-transform shadow-lg shadow-white/10"),h(p,"class","text-white/80 hover:text-white transition-colors"),h(k,"d","M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"),h(_,"class","w-4 h-4"),h(_,"fill","currentColor"),h(_,"viewBox","0 0 24 24"),h(g,"class",T="transition-colors relative "+(r[0].repeatMode!=="off"?"text-green-400":"text-slate-400 hover:text-white")),h(g,"title",D=r[0].repeatMode==="one"?"Repetir una":r[0].repeatMode==="all"?"Repetir todo":"Repetir desactivado"),h(e,"class","flex items-center gap-6 mb-1")},m(V,R){I(V,e,R),b(e,t),b(t,n),b(n,i),b(e,o),b(e,s),b(e,c),b(e,u),B.m(u,null),b(e,m),b(e,p),b(e,f),b(e,g),b(g,_),b(_,k),b(g,y),w&&w.m(g,null),M||(F=[q(t,"click",In),q(s,"click",tn),q(u,"click",it),q(p,"click",Ue),q(g,"click",Rn)],M=!0)},p(V,[R]){R&1&&a!==(a="transition-colors hidden md:block "+(V[0].shuffle?"text-green-400":"text-slate-400 hover:text-white"))&&h(t,"class",a),H!==(H=S(V))&&(B.d(1),B=H(V),B&&(B.c(),B.m(u,null))),V[0].repeatMode==="one"?w||(w=Ot(),w.c(),w.m(g,null)):w&&(w.d(1),w=null),R&1&&T!==(T="transition-colors relative "+(V[0].repeatMode!=="off"?"text-green-400":"text-slate-400 hover:text-white"))&&h(g,"class",T),R&1&&D!==(D=V[0].repeatMode==="one"?"Repetir una":V[0].repeatMode==="all"?"Repetir todo":"Repetir desactivado")&&h(g,"title",D)},i:G,o:G,d(V){V&&v(e),B.d(),w&&w.d(),M=!1,Fe(F)}}}function mi(r,e,t){let n;return J(r,K,i=>t(0,n=i)),[n]}class pi extends ie{constructor(e){super(),oe(this,e,mi,hi,re,{})}}function gi(r){let e,t,n=je(r[0].currentTime)+"",i,a,o,s,l,c,u,m,p,d,f=je(r[0].duration)+"",g,_,k;return{c(){e=C("div"),t=C("span"),i=fe(n),a=P(),o=C("div"),s=C("input"),u=P(),m=C("div"),p=P(),d=C("span"),g=fe(f),this.h()},l(y){e=E(y,"DIV",{class:!0});var T=x(e);t=E(T,"SPAN",{class:!0});var D=x(t);i=ue(D,n),D.forEach(v),a=O(T),o=E(T,"DIV",{class:!0});var M=x(o);s=E(M,"INPUT",{type:!0,min:!0,max:!0,class:!0}),u=O(M),m=E(M,"DIV",{class:!0,style:!0}),x(m).forEach(v),M.forEach(v),p=O(T),d=E(T,"SPAN",{class:!0});var F=x(d);g=ue(F,f),F.forEach(v),T.forEach(v),this.h()},h(){h(t,"class","w-10 text-right"),h(s,"type","range"),h(s,"min","0"),h(s,"max",l=r[0].duration||100),s.value=c=r[0].currentTime,h(s,"class","absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"),h(m,"class","absolute top-0 left-0 h-full bg-white rounded-full group-hover:bg-green-500 transition-colors pointer-events-none"),ee(m,"width",r[0].currentTime/(r[0].duration||1)*100+"%"),h(o,"class","relative flex-1 h-1 bg-white/10 rounded-full group cursor-pointer group"),h(d,"class","w-10"),h(e,"class","w-full flex items-center gap-2 text-xs text-slate-400 font-mono")},m(y,T){I(y,e,T),b(e,t),b(t,i),b(e,a),b(e,o),b(o,s),b(o,u),b(o,m),b(e,p),b(e,d),b(d,g),_||(k=q(s,"input",r[1]),_=!0)},p(y,[T]){T&1&&n!==(n=je(y[0].currentTime)+"")&&ge(i,n),T&1&&l!==(l=y[0].duration||100)&&h(s,"max",l),T&1&&c!==(c=y[0].currentTime)&&(s.value=c),T&1&&ee(m,"width",y[0].currentTime/(y[0].duration||1)*100+"%"),T&1&&f!==(f=je(y[0].duration)+"")&&ge(g,f)},i:G,o:G,d(y){y&&v(e),_=!1,k()}}}function je(r){if(!r||isNaN(r))return"0:00";const e=Math.floor(r/60),t=Math.floor(r%60);return`${e}:${t.toString().padStart(2,"0")}`}function vi(r,e,t){let n;J(r,K,a=>t(0,n=a));function i(a){const o=a.target;On(parseFloat(o.value))}return[n,i]}class bi extends ie{constructor(e){super(),oe(this,e,vi,gi,re,{})}}const wi=r=>({}),Pt=r=>({});function _i(r){let e,t;return{c(){e=Y("svg"),t=Y("path"),this.h()},l(n){e=X(n,"svg",{class:!0,fill:!0,viewBox:!0});var i=x(e);t=X(i,"path",{d:!0}),x(t).forEach(v),i.forEach(v),this.h()},h(){h(t,"d","M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"),h(e,"class","w-5 h-5"),h(e,"fill","currentColor"),h(e,"viewBox","0 0 24 24")},m(n,i){I(n,e,i),b(e,t)},d(n){n&&v(e)}}}function yi(r){let e,t;return{c(){e=Y("svg"),t=Y("path"),this.h()},l(n){e=X(n,"svg",{class:!0,fill:!0,viewBox:!0});var i=x(e);t=X(i,"path",{d:!0}),x(t).forEach(v),i.forEach(v),this.h()},h(){h(t,"d","M7 9v6h4l5 5V4l-5 5H7z"),h(e,"class","w-5 h-5"),h(e,"fill","currentColor"),h(e,"viewBox","0 0 24 24")},m(n,i){I(n,e,i),b(e,t)},d(n){n&&v(e)}}}function xi(r){let e,t;return{c(){e=Y("svg"),t=Y("path"),this.h()},l(n){e=X(n,"svg",{class:!0,fill:!0,viewBox:!0});var i=x(e);t=X(i,"path",{d:!0}),x(t).forEach(v),i.forEach(v),this.h()},h(){h(t,"d","M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"),h(e,"class","w-5 h-5"),h(e,"fill","currentColor"),h(e,"viewBox","0 0 24 24")},m(n,i){I(n,e,i),b(e,t)},d(n){n&&v(e)}}}function Ft(r){let e,t,n,i,a,o,s=Math.round(r[1].musicVolume*100)+"",l,c,u,m;return{c(){e=C("div"),t=C("div"),n=C("input"),a=P(),o=C("div"),l=fe(s),c=fe("%"),this.h()},l(p){e=E(p,"DIV",{class:!0});var d=x(e);t=E(d,"DIV",{class:!0});var f=x(t);n=E(f,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0,style:!0}),a=O(f),o=E(f,"DIV",{class:!0});var g=x(o);l=ue(g,s),c=ue(g,"%"),g.forEach(v),f.forEach(v),d.forEach(v),this.h()},h(){h(n,"type","range"),h(n,"min","0"),h(n,"max","1"),h(n,"step","0.01"),n.value=i=r[1].musicVolume,h(n,"class","flex-1 w-1.5 bg-white/10 rounded-lg appearance-none cursor-pointer hover:bg-white/20 transition-colors [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:shadow-[0_0_10px_rgba(255,255,255,0.5)] [&::-webkit-slider-thumb]:hover:scale-110 [&::-webkit-slider-thumb]:transition-transform [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-white [&::-moz-range-thumb]:border-0"),ee(n,"writing-mode","bt-lr"),ee(n,"-webkit-appearance","slider-vertical"),h(o,"class","text-xs font-bold text-white tabular-nums w-8 text-center bg-white/5 rounded px-1"),h(t,"class","flex flex-col items-center gap-3 h-32"),h(e,"class","absolute bottom-full right-0 mb-4 bg-[#0F172A]/95 backdrop-blur-xl border border-white/10 rounded-2xl p-4 shadow-2xl flex gap-4 z-50")},m(p,d){I(p,e,d),b(e,t),b(t,n),b(t,a),b(t,o),b(o,l),b(o,c),u||(m=q(n,"input",r[2]),u=!0)},p(p,d){d&2&&i!==(i=p[1].musicVolume)&&(n.value=i),d&2&&s!==(s=Math.round(p[1].musicVolume*100)+"")&&ge(l,s)},d(p){p&&v(e),u=!1,m()}}}function ki(r){let e,t,n,i,a,o,s,l;const c=r[4]["minimize-button"],u=Zt(c,r,r[3],Pt);function m(g,_){return g[1].musicVolume===0||g[1].isMuted?xi:g[1].musicVolume<.5?yi:_i}let p=m(r),d=p(r),f=r[0]&&Ft(r);return{c(){e=C("div"),u&&u.c(),t=P(),n=C("div"),i=C("button"),d.c(),a=P(),f&&f.c(),this.h()},l(g){e=E(g,"DIV",{class:!0});var _=x(e);u&&u.l(_),t=O(_),n=E(_,"DIV",{class:!0});var k=x(n);i=E(k,"BUTTON",{class:!0,title:!0});var y=x(i);d.l(y),y.forEach(v),a=O(k),f&&f.l(k),k.forEach(v),_.forEach(v),this.h()},h(){h(i,"class","text-white/70 hover:text-white transition-colors"),h(i,"title","Volumen"),h(n,"class","hidden md:flex items-center gap-2 relative"),h(e,"class","flex w-auto md:w-1/3 justify-end items-center gap-2 md:gap-4")},m(g,_){I(g,e,_),u&&u.m(e,null),b(e,t),b(e,n),b(n,i),d.m(i,null),b(n,a),f&&f.m(n,null),o=!0,s||(l=q(i,"click",r[5]),s=!0)},p(g,[_]){u&&u.p&&(!o||_&8)&&Gt(u,c,g,g[3],o?Jt(c,g[3],_,wi):Kt(g[3]),Pt),p!==(p=m(g))&&(d.d(1),d=p(g),d&&(d.c(),d.m(i,null))),g[0]?f?f.p(g,_):(f=Ft(g),f.c(),f.m(n,null)):f&&(f.d(1),f=null)},i(g){o||(j(u,g),o=!0)},o(g){W(u,g),o=!1},d(g){g&&v(e),u&&u.d(g),d.d(),f&&f.d(),s=!1,l()}}}function Ti(r,e,t){let n;J(r,K,u=>t(1,n=u));let{$$slots:i={},$$scope:a}=e,{showVolumeSlider:o=!1}=e,s;function l(u){const m=u.target,p=parseFloat(m.value);s&&clearTimeout(s),s=setTimeout(()=>{Pn(p)},50)}const c=()=>t(0,o=!o);return r.$$set=u=>{"showVolumeSlider"in u&&t(0,o=u.showVolumeSlider),"$$scope"in u&&t(3,a=u.$$scope)},[o,n,l,a,i,c]}class Ei extends ie{constructor(e){super(),oe(this,e,Ti,ki,re,{showVolumeSlider:0})}}function Bt(r){let e,t,n,i;const a=[Ai,Ci],o=[];function s(l,c){return l[2]?0:1}return e=s(r),t=o[e]=a[e](r),{c(){t.c(),n=pe()},l(l){t.l(l),n=pe()},m(l,c){o[e].m(l,c),I(l,n,c),i=!0},p(l,c){let u=e;e=s(l),e===u?o[e].p(l,c):(xe(),W(o[u],1,1,()=>{o[u]=null}),ke(),t=o[e],t?t.p(l,c):(t=o[e]=a[e](l),t.c()),j(t,1),t.m(n.parentNode,n))},i(l){i||(j(t),i=!0)},o(l){W(t),i=!1},d(l){l&&v(n),o[e].d(l)}}}function Ci(r){let e,t,n,i='<div class="w-8 h-1 bg-current rounded-full"></div>',a,o,s='<svg class="w-3 h-3 group-hover/close:scale-125 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path></svg>',l,c,u,m,p,d,f,g,_,k,y,T,D,M,F,S,H,B,w,V,R;d=new ui({props:{currentTrack:r[0],isFavorite:r[4],onFavoriteClick:r[13],onShowTracks:r[14]}}),k=new pi({}),D=new bi({});function U(A){r[15](A)}let z={};return r[1]!==void 0&&(z.showVolumeSlider=r[1]),S=new Ei({props:z}),We.push(()=>An(S,"showVolumeSlider",U)),{c(){e=C("div"),t=C("div"),n=C("button"),n.innerHTML=i,a=P(),o=C("button"),o.innerHTML=s,l=P(),c=C("div"),u=C("div"),m=P(),p=C("div"),ce(d.$$.fragment),f=P(),g=C("div"),_=C("div"),ce(k.$$.fragment),y=P(),T=C("div"),ce(D.$$.fragment),M=P(),F=C("div"),ce(S.$$.fragment),this.h()},l(A){e=E(A,"DIV",{class:!0});var L=x(e);t=E(L,"DIV",{class:!0});var N=x(t);n=E(N,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ne(n)!=="svelte-m0kbyf"&&(n.innerHTML=i),a=O(N),o=E(N,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),ne(o)!=="svelte-1wftkp6"&&(o.innerHTML=s),N.forEach(v),l=O(L),c=E(L,"DIV",{class:!0});var $=x(c);u=E($,"DIV",{class:!0}),x(u).forEach(v),m=O($),p=E($,"DIV",{class:!0});var Z=x(p);ae(d.$$.fragment,Z),Z.forEach(v),f=O($),g=E($,"DIV",{class:!0});var Q=x(g);_=E(Q,"DIV",{class:!0});var we=x(_);ae(k.$$.fragment,we),we.forEach(v),y=O(Q),T=E(Q,"DIV",{class:!0});var Ie=x(T);ae(D.$$.fragment,Ie),Ie.forEach(v),Q.forEach(v),M=O($),F=E($,"DIV",{class:!0});var Re=x(F);ae(S.$$.fragment,Re),Re.forEach(v),$.forEach(v),L.forEach(v),this.h()},h(){h(n,"class","w-16 h-6 flex items-center justify-center bg-[#0F172A]/90 backdrop-blur-md border border-white/20 border-b-0 rounded-t-xl text-slate-400 hover:text-white transition-all cursor-pointer active:scale-95"),h(n,"title","Minimizar"),h(o,"class","w-10 h-6 flex items-center justify-center bg-red-500/10 hover:bg-red-500/80 backdrop-blur-md border border-red-500/20 hover:border-red-500 border-b-0 rounded-t-xl text-red-400 hover:text-white transition-all cursor-pointer active:scale-95 group/close"),h(o,"title","Cerrar Reproductor"),h(t,"class","flex items-end gap-1 -mb-[1px] z-10"),h(u,"class","absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-[2s] pointer-events-none"),h(p,"class","flex-shrink-0"),h(_,"class","flex items-center justify-center -mb-1"),h(T,"class","w-full px-2"),h(g,"class","flex-1 flex flex-col justify-center max-w-md w-full"),h(F,"class","flex-shrink-0 hidden lg:flex items-center"),h(c,"class","w-full bg-[#0F172A]/90 backdrop-blur-2xl border border-white/10 rounded-2xl md:rounded-3xl p-3 md:px-6 shadow-[0_8px_32px_rgba(0,0,0,0.5)] flex items-center justify-between gap-3 md:gap-12 relative overflow-hidden group"),h(e,"class","fixed bottom-2 md:bottom-6 left-1/2 -translate-x-1/2 w-[95%] md:w-auto md:min-w-[700px] max-w-5xl z-[50] flex flex-col items-center")},m(A,L){I(A,e,L),b(e,t),b(t,n),b(t,a),b(t,o),b(e,l),b(e,c),b(c,u),b(c,m),b(c,p),le(d,p,null),b(c,f),b(c,g),b(g,_),le(k,_,null),b(g,y),b(g,T),le(D,T,null),b(c,M),b(c,F),le(S,F,null),w=!0,V||(R=[q(n,"click",r[12]),q(o,"click",r[6])],V=!0)},p(A,L){const N={};L&1&&(N.currentTrack=A[0]),L&16&&(N.isFavorite=A[4]),L&1&&(N.onFavoriteClick=A[13]),d.$set(N);const $={};!H&&L&2&&(H=!0,$.showVolumeSlider=A[1],yn(()=>H=!1)),S.$set($)},i(A){w||(j(d.$$.fragment,A),j(k.$$.fragment,A),j(D.$$.fragment,A),j(S.$$.fragment,A),A&&Be(()=>{w&&(B||(B=ye(e,bt,{duration:400,axis:"y"},!0)),B.run(1))}),w=!0)},o(A){W(d.$$.fragment,A),W(k.$$.fragment,A),W(D.$$.fragment,A),W(S.$$.fragment,A),A&&(B||(B=ye(e,bt,{duration:400,axis:"y"},!1)),B.run(0)),w=!1},d(A){A&&v(e),se(d),se(k),se(D),se(S),A&&B&&B.end(),V=!1,Fe(R)}}}function Ai(r){let e,t;return e=new ri({props:{currentTrack:r[0],onExpand:r[10],isFavorite:r[4],onFavoriteClick:r[11],onClose:r[6]}}),{c(){ce(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,i){le(e,n,i),t=!0},p(n,i){const a={};i&1&&(a.currentTrack=n[0]),i&4&&(a.onExpand=n[10]),i&16&&(a.isFavorite=n[4]),i&1&&(a.onFavoriteClick=n[11]),e.$set(a)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function Si(r){let e,t,n=r[0]&&!r[3]&&Bt(r);return{c(){n&&n.c(),e=pe()},l(i){n&&n.l(i),e=pe()},m(i,a){n&&n.m(i,a),I(i,e,a),t=!0},p(i,[a]){i[0]&&!i[3]?n?(n.p(i,a),a&9&&j(n,1)):(n=Bt(i),n.c(),j(n,1),n.m(e.parentNode,e)):n&&(xe(),W(n,1,1,()=>{n=null}),ke())},i(i){t||(j(n),t=!0)},o(i){W(n),t=!1},d(i){i&&v(e),n&&n.d(i)}}}function Mi(r,e,t){let n,i,a,o;J(r,zn,T=>t(8,a=T)),J(r,K,T=>t(9,o=T));const s=_n();let l=!1,c=!1,u=!1,m;function p(){K.update(T=>({...T,isPlaying:!1})),t(3,u=!0)}const d=()=>t(2,c=!1),f=()=>n?.id&&wt(n.id),g=()=>t(2,c=!0),_=()=>n?.id&&wt(n.id),k=()=>s("showTracks");function y(T){l=T,t(1,l)}return r.$$.update=()=>{r.$$.dirty&512&&t(0,n=o.playlist[o.currentTrackIndex]),r.$$.dirty&257&&t(4,i=n?.id?Nn(n.id,a):!1),r.$$.dirty&1,r.$$.dirty&129&&n?.id!==m&&(t(7,m=n?.id),t(3,u=!1))},[n,l,c,u,i,s,p,m,a,o,d,f,g,_,k,y]}class Vi extends ie{constructor(e){super(),oe(this,e,Mi,Si,re,{})}}function zt(r){let e,t,n,i,a,o,s;return{c(){e=C("div"),t=C("div"),n=P(),i=C("span"),a=fe(r[1]),this.h()},l(l){e=E(l,"DIV",{class:!0});var c=x(e);t=E(c,"DIV",{class:!0}),x(t).forEach(v),n=O(c),i=E(c,"SPAN",{class:!0});var u=x(i);a=ue(u,r[1]),u.forEach(v),c.forEach(v),this.h()},h(){h(t,"class","w-2 h-2 rounded-full bg-green-400 animate-pulse shadow-[0_0_10px_rgba(74,222,128,0.5)]"),h(i,"class","text-xs md:text-sm font-medium text-slate-200 tracking-wide font-poppins"),h(e,"class","fixed top-20 md:top-8 left-1/2 -translate-x-1/2 z-[100] px-5 py-2.5 bg-[#0F172A]/80 backdrop-blur-xl rounded-full border border-white/10 shadow-2xl flex items-center gap-3 pointer-events-none")},m(l,c){I(l,e,c),b(e,t),b(e,n),b(e,i),b(i,a),s=!0},p(l,c){(!s||c&2)&&ge(a,l[1])},i(l){s||(l&&Be(()=>{s&&(o||(o=ye(e,Oe,{y:-20,duration:600},!0)),o.run(1))}),s=!0)},o(l){l&&(o||(o=ye(e,Oe,{y:-20,duration:600},!1)),o.run(0)),s=!1},d(l){l&&v(e),l&&o&&o.end()}}}function Di(r){let e,t=r[0]&&r[1]&&zt(r);return{c(){t&&t.c(),e=pe()},l(n){t&&t.l(n),e=pe()},m(n,i){t&&t.m(n,i),I(n,e,i)},p(n,[i]){n[0]&&n[1]?t?(t.p(n,i),i&3&&j(t,1)):(t=zt(n),t.c(),j(t,1),t.m(e.parentNode,e)):t&&(xe(),W(t,1,1,()=>{t=null}),ke())},i(n){j(t)},o(n){W(t)},d(n){n&&v(e),t&&t.d(n)}}}function Li(r,e,t){let n,i;J(r,K,c=>t(5,i=c));let a=!1,o="",s="",l;return xn(()=>{l&&clearTimeout(l)}),r.$$.update=()=>{r.$$.dirty&32&&t(4,n=i.playlist?.[i.currentTrackIndex]),r.$$.dirty&28&&n&&n.id!==s&&(t(2,s=n.id||""),t(1,o=`${n.title} • ${n.artist}`),t(0,a=!0),l&&clearTimeout(l),t(3,l=setTimeout(()=>{t(0,a=!1)},4e3)))},[a,o,s,l,n,i]}class Ii extends ie{constructor(e){super(),oe(this,e,Li,Di,re,{})}}function Nt(r){let e,t,n,i=`<h3 class="font-bold text-white text-lg mb-2">🍪 Usamos cookies (las justas)</h3> <p class="text-slate-300 text-sm leading-relaxed">Utilizamos cookies esenciales para gestionar tu sesión,
                    procesar pagos y guardar tu configuración de música. Sin
                    rastreadores publicitarios externos.
                    <a href="/legal/cookies" class="text-primary-400 hover:text-primary-300 underline ml-1">Leer política.</a></p>`,a,o,s="Aceptar y Continuar",l,c,u,m;return{c(){e=C("div"),t=C("div"),n=C("div"),n.innerHTML=i,a=P(),o=C("button"),o.textContent=s,this.h()},l(p){e=E(p,"DIV",{class:!0});var d=x(e);t=E(d,"DIV",{class:!0});var f=x(t);n=E(f,"DIV",{class:!0,"data-svelte-h":!0}),ne(n)!=="svelte-v0qrr0"&&(n.innerHTML=i),a=O(f),o=E(f,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(o)!=="svelte-1ehyrvc"&&(o.textContent=s),f.forEach(v),d.forEach(v),this.h()},h(){h(n,"class","mb-4 md:mb-0"),h(o,"class","w-full md:w-auto px-8 py-3 bg-primary-500 hover:bg-primary-600 text-white font-bold rounded-xl transition-all shadow-lg shadow-primary-900/30 whitespace-nowrap"),h(t,"class","max-w-4xl mx-auto bg-midnight-800/95 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-6 md:flex items-center justify-between gap-6"),h(e,"class","fixed bottom-0 left-0 right-0 z-50 p-4 md:p-6")},m(p,d){I(p,e,d),b(e,t),b(t,n),b(t,a),b(t,o),c=!0,u||(m=q(o,"click",r[1]),u=!0)},p:G,i(p){c||(p&&Be(()=>{c&&(l||(l=ye(e,Oe,{y:50,duration:500},!0)),l.run(1))}),c=!0)},o(p){p&&(l||(l=ye(e,Oe,{y:50,duration:500},!1)),l.run(0)),c=!1},d(p){p&&v(e),p&&l&&l.end(),u=!1,m()}}}function Ri(r){let e,t=r[0]&&Nt(r);return{c(){t&&t.c(),e=pe()},l(n){t&&t.l(n),e=pe()},m(n,i){t&&t.m(n,i),I(n,e,i)},p(n,[i]){n[0]?t?(t.p(n,i),i&1&&j(t,1)):(t=Nt(n),t.c(),j(t,1),t.m(e.parentNode,e)):t&&(xe(),W(t,1,1,()=>{t=null}),ke())},i(n){j(t)},o(n){W(t)},d(n){n&&v(e),t&&t.d(n)}}}function Oi(r,e,t){let n=!1;ct(()=>{localStorage.getItem("cookie_consent")||setTimeout(()=>t(0,n=!0),1e3)});function i(){localStorage.setItem("cookie_consent","true"),t(0,n=!1)}return[n,i]}class Pi extends ie{constructor(e){super(),oe(this,e,Oi,Ri,re,{})}}function Ht(r,e,t){const n=r.slice();return n[2]=e[t],n}function $t(r,e){let t,n,i=jt(e[2].type)+"",a,o,s,l=e[2].message+"",c,u,m,p="✕",d,f,g,_,k,y=G,T,D,M;function F(){return e[1](e[2])}return{key:r,first:null,c(){t=C("div"),n=C("span"),a=fe(i),o=P(),s=C("p"),c=fe(l),u=P(),m=C("button"),m.textContent=p,d=P(),this.h()},l(S){t=E(S,"DIV",{class:!0,role:!0});var H=x(t);n=E(H,"SPAN",{class:!0});var B=x(n);a=ue(B,i),B.forEach(v),o=O(H),s=E(H,"P",{class:!0});var w=x(s);c=ue(w,l),w.forEach(v),u=O(H),m=E(H,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),ne(m)!=="svelte-89ea1t"&&(m.textContent=p),d=O(H),H.forEach(v),this.h()},h(){h(n,"class","text-xl"),h(s,"class","text-sm font-medium flex-1"),h(m,"class","opacity-50 hover:opacity-100 transition-opacity p-1"),h(m,"aria-label","Cerrar notificación"),h(t,"class",f="pointer-events-auto flex items-center gap-3 px-6 py-4 rounded-2xl backdrop-blur-xl border shadow-2xl "+Wt(e[2].type)+" min-w-[300px]"),h(t,"role","alert"),this.first=t},m(S,H){I(S,t,H),b(t,n),b(n,a),b(t,o),b(t,s),b(s,c),b(t,u),b(t,m),b(t,d),T=!0,D||(M=q(m,"click",F),D=!0)},p(S,H){e=S,(!T||H&1)&&i!==(i=jt(e[2].type)+"")&&ge(a,i),(!T||H&1)&&l!==(l=e[2].message+"")&&ge(c,l),(!T||H&1&&f!==(f="pointer-events-auto flex items-center gap-3 px-6 py-4 rounded-2xl backdrop-blur-xl border shadow-2xl "+Wt(e[2].type)+" min-w-[300px]"))&&h(t,"class",f)},r(){k=t.getBoundingClientRect()},f(){qn(t),y(),rn(t,k)},a(){y(),y=Un(t,k,jr,{duration:300})},i(S){T||(S&&Be(()=>{T&&(_&&_.end(1),g=Mn(t,Oe,{y:-20,duration:300}),g.start())}),T=!0)},o(S){g&&g.invalidate(),S&&(_=Sn(t,ot,{duration:200})),T=!1},d(S){S&&v(t),S&&_&&_.end(),D=!1,M()}}}function Fi(r){let e,t=[],n=new Map,i,a=Ye(r[0]);const o=s=>s[2].id;for(let s=0;s<a.length;s+=1){let l=Ht(r,a,s),c=o(l);n.set(c,t[s]=$t(c,l))}return{c(){e=C("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=E(s,"DIV",{class:!0});var l=x(e);for(let c=0;c<t.length;c+=1)t[c].l(l);l.forEach(v),this.h()},h(){h(e,"class","fixed top-32 left-1/2 -translate-x-1/2 z-[100] flex flex-col items-center gap-3 w-full max-w-sm px-4 pointer-events-none")},m(s,l){I(s,e,l);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);i=!0},p(s,[l]){if(l&1){a=Ye(s[0]),xe();for(let c=0;c<t.length;c+=1)t[c].r();t=Dn(t,l,o,1,s,a,n,e,Ln,$t,null,Ht);for(let c=0;c<t.length;c+=1)t[c].a();ke()}},i(s){if(!i){for(let l=0;l<a.length;l+=1)j(t[l]);i=!0}},o(s){for(let l=0;l<t.length;l+=1)W(t[l]);i=!1},d(s){s&&v(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function jt(r){switch(r){case"success":return"✅";case"error":return"❌";case"warning":return"⚠️";case"info":return"ℹ️";default:return"🔔"}}function Wt(r){switch(r){case"success":return"bg-green-500/10 border-green-500/30 text-green-200";case"error":return"bg-red-500/10 border-red-500/30 text-red-200";case"warning":return"bg-yellow-500/10 border-yellow-500/30 text-yellow-200";default:return"bg-blue-500/10 border-blue-500/30 text-blue-200"}}function Bi(r,e,t){let n;return J(r,_t,a=>t(0,n=a)),[n,a=>_t.remove(a.id)]}class zi extends ie{constructor(e){super(),oe(this,e,Bi,Fi,re,{})}}function Ni(r,e,t){let n,i;J(r,Hn,l=>t(0,n=l)),J(r,K,l=>t(1,i=l));let a=0,o;async function s(){if(!n.user)return;const l=i,c=Date.now();if(c-a<2e3){clearTimeout(o),o=setTimeout(s,2e3);return}a=c;let u="/logo-mobile.png",m="ChillChess",p="Chill Session";if(l.playlist&&l.playlist.length>0){const f=l.playlist[l.currentTrackIndex];if(f){const g=l.availableAlbums.find(_=>_.id===l.currentAlbumId);p=f.title,m=f.artist||g?.artist||"ChillChess Artist",u=f.coverUrl||f.cover||g?.cover||"/logo-mobile.png"}}const d={isPlaying:l.isPlaying,track:{title:p,artist:m,cover:u,duration:l.duration||0,currentTime:l.currentTime||0},updatedAt:c};try{await $n(jn(Wn,"nowPlaying",n.user.uid),d,{merge:!0})}catch(f){console.warn("Widget sync error:",f)}}return r.$$.update=()=>{r.$$.dirty&3&&n.user&&(i.currentTrackIndex,i.isPlaying,Math.floor(i.currentTime/5),s())},[n,i]}class Hi extends ie{constructor(e){super(),oe(this,e,Ni,null,re,{})}}function Ut(r){let e,t;return e=new qr({}),{c(){ce(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,i){le(e,n,i),t=!0},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function qt(r){let e,t,n=!r[0].url.pathname.startsWith("/app")&&!r[0].url.pathname.match(/^\/rooms\/[a-zA-Z0-9]+$/),i,a,o,s,l,c,u,m,p;e=new Gr({});let d=n&&Xt();return a=new Ii({}),s=new zi({}),c=new Pi({}),m=new Hi({}),{c(){ce(e.$$.fragment),t=P(),d&&d.c(),i=P(),ce(a.$$.fragment),o=P(),ce(s.$$.fragment),l=P(),ce(c.$$.fragment),u=P(),ce(m.$$.fragment)},l(f){ae(e.$$.fragment,f),t=O(f),d&&d.l(f),i=O(f),ae(a.$$.fragment,f),o=O(f),ae(s.$$.fragment,f),l=O(f),ae(c.$$.fragment,f),u=O(f),ae(m.$$.fragment,f)},m(f,g){le(e,f,g),I(f,t,g),d&&d.m(f,g),I(f,i,g),le(a,f,g),I(f,o,g),le(s,f,g),I(f,l,g),le(c,f,g),I(f,u,g),le(m,f,g),p=!0},p(f,g){g&1&&(n=!f[0].url.pathname.startsWith("/app")&&!f[0].url.pathname.match(/^\/rooms\/[a-zA-Z0-9]+$/)),n?d?g&1&&j(d,1):(d=Xt(),d.c(),j(d,1),d.m(i.parentNode,i)):d&&(xe(),W(d,1,1,()=>{d=null}),ke())},i(f){p||(j(e.$$.fragment,f),j(d),j(a.$$.fragment,f),j(s.$$.fragment,f),j(c.$$.fragment,f),j(m.$$.fragment,f),p=!0)},o(f){W(e.$$.fragment,f),W(d),W(a.$$.fragment,f),W(s.$$.fragment,f),W(c.$$.fragment,f),W(m.$$.fragment,f),p=!1},d(f){f&&(v(t),v(i),v(o),v(l),v(u)),se(e,f),d&&d.d(f),se(a,f),se(s,f),se(c,f),se(m,f)}}}function Xt(r){let e,t;return e=new Vi({}),{c(){ce(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,i){le(e,n,i),t=!0},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function $i(r){let e,t,n,i,a,o,s=r[0].url.pathname!=="/widget"&&Ut();const l=r[2].default,c=Zt(l,r,r[1],null);let u=r[0].url.pathname!=="/widget"&&qt(r);return{c(){e=C("div"),s&&s.c(),t=P(),n=C("div"),c&&c.c(),a=P(),u&&u.c(),this.h()},l(m){e=E(m,"DIV",{class:!0});var p=x(e);s&&s.l(p),t=O(p),n=E(p,"DIV",{class:!0});var d=x(n);c&&c.l(d),d.forEach(v),a=O(p),u&&u.l(p),p.forEach(v),this.h()},h(){h(n,"class",i="relative z-10 "+(r[0].url.pathname!=="/"&&!r[0].url.pathname.startsWith("/app")&&!r[0].url.pathname.match(/^\/rooms\/[a-zA-Z0-9]+$/)?"pb-32":"")),h(e,"class","min-h-screen w-full relative")},m(m,p){I(m,e,p),s&&s.m(e,null),b(e,t),b(e,n),c&&c.m(n,null),b(e,a),u&&u.m(e,null),o=!0},p(m,[p]){m[0].url.pathname!=="/widget"?s?p&1&&j(s,1):(s=Ut(),s.c(),j(s,1),s.m(e,t)):s&&(xe(),W(s,1,1,()=>{s=null}),ke()),c&&c.p&&(!o||p&2)&&Gt(c,l,m,m[1],o?Jt(l,m[1],p,null):Kt(m[1]),null),(!o||p&1&&i!==(i="relative z-10 "+(m[0].url.pathname!=="/"&&!m[0].url.pathname.startsWith("/app")&&!m[0].url.pathname.match(/^\/rooms\/[a-zA-Z0-9]+$/)?"pb-32":"")))&&h(n,"class",i),m[0].url.pathname!=="/widget"?u?(u.p(m,p),p&1&&j(u,1)):(u=qt(m),u.c(),j(u,1),u.m(e,null)):u&&(xe(),W(u,1,1,()=>{u=null}),ke())},i(m){o||(j(s),j(c,m),j(u),o=!0)},o(m){W(s),W(c,m),W(u),o=!1},d(m){m&&v(e),s&&s.d(),c&&c.d(m),u&&u.d()}}}function ji(r,e,t){let n;J(r,en,o=>t(0,n=o));let{$$slots:i={},$$scope:a}=e;return Hr.set({computePosition:Nr,autoUpdate:Or,offset:Pr,shift:Fr,flip:Br,arrow:zr}),ct(()=>{Fn()}),r.$$set=o=>{"$$scope"in o&&t(1,a=o.$$scope)},[n,a,i]}class ro extends ie{constructor(e){super(),oe(this,e,ji,$i,re,{})}}export{ro as component};
