const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/Bkee_T1r.js","../chunks/Cc16BkMR.js","../chunks/Dd9dlJ0t.js","../chunks/BJqnC6n6.js"])))=>i.map(i=>d[i]);
import{_ as ye}from"../chunks/CmsKOCeN.js";import{S as jt,i as Bt,s as Ot,d as u,t as z,a as q,r as de,c as he,b as C,v as d,g as p,h as b,q as y,B as D,k as g,D as V,f as Ve,a0 as W,R as be,z as Ie,y as x,j as Q,n as ue,I as qt,e as Oe,o as $t,O as ot,G as Ut,L as zt,A as fe,H as Ft,F as qe,J as Gt,C as X,K as Jt,E as Y,M as $e}from"../chunks/BJqnC6n6.js";import{e as ee,u as Kt,d as Xt}from"../chunks/Ce8MPPMO.js";import"../chunks/IHki7fMi.js";import{p as Yt}from"../chunks/BbuaCZ9U.js";import{g as je}from"../chunks/CrxTjZ9R.js";import{u as Qt}from"../chunks/Bkee_T1r.js";import{a as De,p as ct}from"../chunks/pNq0rSp3.js";import{w as Wt}from"../chunks/Dd9dlJ0t.js";import{f as Z}from"../chunks/C-nxcAHp.js";import{a as Zt}from"../chunks/CVlCVhZp.js";import{t as Be}from"../chunks/Dq1UMhbt.js";const ut={background:"gradient",bgParams:{color:"default",intensity:.5},clockStyle:"modern",showSeconds:!1,isBreathing:!1};function el(){const{subscribe:i,set:e,update:t}=Wt(ut);return{subscribe:i,setClockStyle:l=>t(r=>({...r,clockStyle:l})),setBackground:l=>t(r=>({...r,background:l})),toggleSeconds:()=>t(l=>({...l,showSeconds:!l.showSeconds})),toggleBreathing:()=>t(l=>({...l,isBreathing:!l.isBreathing})),reset:()=>e(ut)}}const tl=el();function ft(i,e,t){const l=i.slice();return l[7]=e[t],l[9]=t,l}function dt(i,e,t){const l=i.slice();return l[7]=e[t],l[9]=t,l}function ht(i,e,t){const l=i.slice();return l[7]=e[t],l[9]=t,l}function ll(i,e,t){const l=i.slice();return l[7]=e[t],l[9]=t,l}function mt(i,e,t){const l=i.slice();return l[7]=e[t],l[9]=t,l}function _t(i){let e,t,l,r=i[1].isPlaying&&vt(i);return{c(){e=g("div"),r&&r.c(),this.h()},l(o){e=b(o,"DIV",{class:!0});var v=y(e);r&&r.l(v),v.forEach(u),this.h()},h(){p(e,"class","absolute inset-0 bg-[#0B1120]")},m(o,v){C(o,e,v),r&&r.m(e,null),l=!0},p(o,v){o[1].isPlaying?r?r.p(o,v):(r=vt(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(o){l||(o&&be(()=>{l&&(t||(t=W(e,Z,{duration:1e3},!0)),t.run(1))}),l=!0)},o(o){o&&(t||(t=W(e,Z,{duration:1e3},!1)),t.run(0)),l=!1},d(o){o&&u(e),r&&r.d(),o&&t&&t.end()}}}function vt(i){let e;return{c(){e=g("div"),this.h()},l(t){e=b(t,"DIV",{class:!0,style:!0}),y(e).forEach(u),this.h()},h(){p(e,"class","absolute inset-0 bg-primary-500/5 mix-blend-overlay transition-opacity duration-75"),x(e,"opacity",i[0])},m(t,l){C(t,e,l)},p(t,l){l&1&&x(e,"opacity",t[0])},d(t){t&&u(e)}}}function pt(i){let e,t,l,r,o,v,m,f,_,n,s,a,c,h,k,I,w,N,j,H,T,M,R,O=ee(Array(15)),B=[];for(let E=0;E<O.length;E+=1)B[E]=bt(mt(i,O,E));let U=ee(Array(3)),L=[];for(let E=0;E<U.length;E+=1)L[E]=rl(ll(i,U,E));return{c(){e=g("div"),t=g("div"),l=V(),r=g("div");for(let E=0;E<B.length;E+=1)B[E].c();o=V(),v=g("div"),m=g("div"),f=V(),_=g("div"),n=V(),s=g("div"),a=g("div"),c=g("div"),h=V(),k=g("div"),I=g("div"),w=V();for(let E=0;E<L.length;E+=1)L[E].c();N=V(),j=g("div"),H=g("div"),T=g("div"),this.h()},l(E){e=b(E,"DIV",{class:!0});var P=y(e);t=b(P,"DIV",{class:!0}),y(t).forEach(u),l=D(P),r=b(P,"DIV",{class:!0});var A=y(r);for(let K=0;K<B.length;K+=1)B[K].l(A);A.forEach(u),o=D(P),v=b(P,"DIV",{class:!0,style:!0});var te=y(v);m=b(te,"DIV",{class:!0,style:!0}),y(m).forEach(u),f=D(te),_=b(te,"DIV",{class:!0}),y(_).forEach(u),te.forEach(u),n=D(P),s=b(P,"DIV",{class:!0});var me=y(s);a=b(me,"DIV",{class:!0});var se=y(a);c=b(se,"DIV",{class:!0}),y(c).forEach(u),h=D(se),k=b(se,"DIV",{class:!0});var ne=y(k);I=b(ne,"DIV",{class:!0}),y(I).forEach(u),w=D(ne);for(let K=0;K<L.length;K+=1)L[K].l(ne);ne.forEach(u),N=D(se),j=b(se,"DIV",{class:!0});var re=y(j);H=b(re,"DIV",{class:!0});var ie=y(H);T=b(ie,"DIV",{class:!0,style:!0}),y(T).forEach(u),ie.forEach(u),re.forEach(u),se.forEach(u),me.forEach(u),P.forEach(u),this.h()},h(){p(t,"class","absolute inset-0 bg-gradient-to-b from-[#1a1f3a] via-[#2d1b4e] to-[#0B1120]"),p(r,"class","absolute inset-0"),p(m,"class","absolute inset-0 rounded-full bg-yellow-100 opacity-20 blur-xl md:blur-2xl transition-opacity duration-75"),x(m,"opacity",.3+i[0]*.4),p(_,"class","w-full h-full rounded-full bg-gradient-to-br from-yellow-100 to-orange-200 shadow-[0_0_60px_rgba(255,220,120,0.3)] animate-float svelte-1u3yxiu"),p(v,"class","absolute top-20 right-24 w-24 h-24 md:w-32 md:h-32 transition-transform duration-75 origin-center will-change-transform"),x(v,"transform","scale("+i[3]+")"),p(c,"class","absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/40 to-transparent"),p(I,"class","relative w-12 h-14 bg-gradient-to-b from-[#d4a574] to-[#8b6f47] rounded-b-lg"),p(k,"class","absolute bottom-16 left-1/2 -translate-x-1/2 animate-float svelte-1u3yxiu"),p(T,"class","absolute top-0 left-1/2 -translate-x-1/2 w-40 h-40 bg-yellow-200/10 rounded-full blur-3xl transition-opacity duration-75 will-change-transform"),x(T,"opacity",.4+i[0]*.6),x(T,"transform","translate(-50%, -20%) scale("+(1+i[0]*.5)+")"),p(H,"class","w-20 h-14 bg-gradient-to-b from-[#e8d4a8] to-[#d4a574] rounded-b-full relative"),p(j,"class","absolute bottom-24 right-[30%]"),p(a,"class","relative w-full max-w-4xl h-full"),p(s,"class","absolute bottom-0 left-0 right-0 h-[60%] flex items-end justify-center pointer-events-none"),p(e,"class","absolute inset-0")},m(E,P){C(E,e,P),d(e,t),d(e,l),d(e,r);for(let A=0;A<B.length;A+=1)B[A]&&B[A].m(r,null);d(e,o),d(e,v),d(v,m),d(v,f),d(v,_),d(e,n),d(e,s),d(s,a),d(a,c),d(a,h),d(a,k),d(k,I),d(k,w);for(let A=0;A<L.length;A+=1)L[A]&&L[A].m(k,null);d(a,N),d(a,j),d(j,H),d(H,T),R=!0},p(E,P){if(P&0){O=ee(Array(15));let A;for(A=0;A<O.length;A+=1){const te=mt(E,O,A);B[A]?B[A].p(te,P):(B[A]=bt(),B[A].c(),B[A].m(r,null))}for(;A<B.length;A+=1)B[A].d(1);B.length=O.length}(!R||P&1)&&x(m,"opacity",.3+E[0]*.4),(!R||P&8)&&x(v,"transform","scale("+E[3]+")"),(!R||P&1)&&x(T,"opacity",.4+E[0]*.6),(!R||P&1)&&x(T,"transform","translate(-50%, -20%) scale("+(1+E[0]*.5)+")")},i(E){R||(E&&be(()=>{R&&(M||(M=W(e,Z,{duration:1e3},!0)),M.run(1))}),R=!0)},o(E){E&&(M||(M=W(e,Z,{duration:1e3},!1)),M.run(0)),R=!1},d(E){E&&u(e),Ie(B,E),Ie(L,E),E&&M&&M.end()}}}function bt(i){let e;return{c(){e=g("div"),this.h()},l(t){e=b(t,"DIV",{class:!0,style:!0}),y(e).forEach(u),this.h()},h(){p(e,"class","absolute w-1 h-1 bg-white rounded-full animate-twinkle svelte-1u3yxiu"),x(e,"left",Math.random()*100+"%"),x(e,"top",Math.random()*60+"%"),x(e,"opacity",.3+Math.random()*.7),x(e,"animation-delay",Math.random()*3+"s")},m(t,l){C(t,e,l)},p:ue,d(t){t&&u(e)}}}function rl(i){let e;return{c(){e=g("div"),this.h()},l(t){e=b(t,"DIV",{class:!0,style:!0}),y(e).forEach(u),this.h()},h(){p(e,"class","absolute -top-8 left-1/2 w-1 h-8 bg-white/30 rounded-full blur-sm animate-steam svelte-1u3yxiu"),x(e,"animation-delay",i[9]*.3+"s"),x(e,"left","calc(50% + "+(i[9]-1)*8+"px)")},m(t,l){C(t,e,l)},p:ue,d(t){t&&u(e)}}}function gt(i){let e,t,l,r,o,v,m,f,_=ee(Array(15)),n=[];for(let s=0;s<_.length;s+=1)n[s]=kt(ht(i,_,s));return{c(){e=g("div"),t=g("div"),l=V(),r=g("div");for(let s=0;s<n.length;s+=1)n[s].c();o=V(),v=g("div"),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=y(e);t=b(a,"DIV",{class:!0,style:!0}),y(t).forEach(u),l=D(a),r=b(a,"DIV",{class:!0});var c=y(r);for(let h=0;h<n.length;h+=1)n[h].l(c);c.forEach(u),o=D(a),v=b(a,"DIV",{class:!0}),y(v).forEach(u),a.forEach(u),this.h()},h(){p(t,"class","absolute inset-0 bg-blue-500/10 mix-blend-overlay transition-opacity duration-100 pointer-events-none"),x(t,"opacity",i[0]>.7?i[0]*.3:0),p(r,"class","rain-container absolute inset-0 opacity-40"),p(v,"class","absolute bottom-0 w-full h-1/3 bg-gradient-to-t from-slate-900/80 to-transparent"),p(e,"class","absolute inset-0 bg-gradient-to-b from-slate-900 to-black")},m(s,a){C(s,e,a),d(e,t),d(e,l),d(e,r);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(r,null);d(e,o),d(e,v),f=!0},p(s,a){if((!f||a&1)&&x(t,"opacity",s[0]>.7?s[0]*.3:0),a&0){_=ee(Array(15));let c;for(c=0;c<_.length;c+=1){const h=ht(s,_,c);n[c]?n[c].p(h,a):(n[c]=kt(),n[c].c(),n[c].m(r,null))}for(;c<n.length;c+=1)n[c].d(1);n.length=_.length}},i(s){f||(s&&be(()=>{f&&(m||(m=W(e,Z,{duration:1e3},!0)),m.run(1))}),f=!0)},o(s){s&&(m||(m=W(e,Z,{duration:1e3},!1)),m.run(0)),f=!1},d(s){s&&u(e),Ie(n,s),s&&m&&m.end()}}}function kt(i){let e;return{c(){e=g("div"),this.h()},l(t){e=b(t,"DIV",{class:!0,style:!0}),y(e).forEach(u),this.h()},h(){p(e,"class","rain-drop svelte-1u3yxiu"),x(e,"left",Math.random()*100+"%"),x(e,"animation-duration",.5+Math.random()*.5+"s"),x(e,"animation-delay",Math.random()*2+"s")},m(t,l){C(t,e,l)},p:ue,d(t){t&&u(e)}}}function yt(i){let e,t,l,r,o,v,m,f,_,n=ee(Array(10)),s=[];for(let a=0;a<n.length;a+=1)s[a]=It(dt(i,n,a));return{c(){e=g("div"),t=g("div"),l=V();for(let a=0;a<s.length;a+=1)s[a].c();r=V(),o=g("div"),v=V(),m=g("div"),this.h()},l(a){e=b(a,"DIV",{class:!0});var c=y(e);t=b(c,"DIV",{class:!0,style:!0}),y(t).forEach(u),l=D(c);for(let h=0;h<s.length;h+=1)s[h].l(c);r=D(c),o=b(c,"DIV",{class:!0}),y(o).forEach(u),v=D(c),m=b(c,"DIV",{class:!0}),y(m).forEach(u),c.forEach(u),this.h()},h(){p(t,"class","absolute inset-0 bg-green-400/5 transition-opacity duration-300"),x(t,"opacity",i[0]*.3),p(o,"class","absolute bottom-0 left-10 w-4 h-[50vh] bg-black/20 blur-sm transform rotate-2"),p(m,"class","absolute bottom-0 right-20 w-6 h-[60vh] bg-black/20 blur-sm transform -rotate-1"),p(e,"class","absolute inset-0 bg-gradient-to-br from-[#1a2e1a] to-[#0d1f12]")},m(a,c){C(a,e,c),d(e,t),d(e,l);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(e,null);d(e,r),d(e,o),d(e,v),d(e,m),_=!0},p(a,c){if((!_||c&1)&&x(t,"opacity",a[0]*.3),c&8){n=ee(Array(10));let h;for(h=0;h<n.length;h+=1){const k=dt(a,n,h);s[h]?s[h].p(k,c):(s[h]=It(k),s[h].c(),s[h].m(e,r))}for(;h<s.length;h+=1)s[h].d(1);s.length=n.length}},i(a){_||(a&&be(()=>{_&&(f||(f=W(e,Z,{duration:1e3},!0)),f.run(1))}),_=!0)},o(a){a&&(f||(f=W(e,Z,{duration:1e3},!1)),f.run(0)),_=!1},d(a){a&&u(e),Ie(s,a),a&&f&&f.end()}}}function It(i){let e;return{c(){e=g("div"),this.h()},l(t){e=b(t,"DIV",{class:!0,style:!0}),y(e).forEach(u),this.h()},h(){p(e,"class","absolute w-1 h-1 bg-green-400 rounded-full shadow-[0_0_5px_rgba(74,222,128,0.8)] animate-float-slow transition-transform duration-300 svelte-1u3yxiu"),x(e,"left",Math.random()*100+"%"),x(e,"top",Math.random()*100+"%"),x(e,"animation-duration",4+Math.random()*4+"s"),x(e,"transform","scale("+i[3]+")")},m(t,l){C(t,e,l)},p(t,l){l&8&&x(e,"transform","scale("+t[3]+")")},d(t){t&&u(e)}}}function Et(i){let e,t,l,r,o,v,m,f,_,n,s;return{c(){e=g("div"),t=g("div"),l=g("div"),r=V(),o=g("div"),v=V(),m=g("div"),f=V(),_=g("div"),this.h()},l(a){e=b(a,"DIV",{class:!0});var c=y(e);t=b(c,"DIV",{class:!0,style:!0});var h=y(t);l=b(h,"DIV",{class:!0,style:!0}),y(l).forEach(u),r=D(h),o=b(h,"DIV",{class:!0}),y(o).forEach(u),h.forEach(u),v=D(c),m=b(c,"DIV",{class:!0,style:!0}),y(m).forEach(u),f=D(c),_=b(c,"DIV",{class:!0}),y(_).forEach(u),c.forEach(u),this.h()},h(){p(l,"class","absolute inset-0 rounded-full bg-pink-500 blur-2xl opacity-40 transition-opacity"),x(l,"opacity",.4+i[0]*.3),p(o,"class","absolute inset-0 rounded-full bg-gradient-to-b from-yellow-400 to-pink-600 shadow-lg"),p(t,"class","absolute top-1/4 left-1/2 -translate-x-1/2 w-48 h-48 transition-transform duration-75 will-change-transform"),x(t,"transform","translate(-50%, 0) scale("+i[2]+")"),p(m,"class","absolute bottom-0 w-[200%] -left-[50%] h-[50vh] bg-grid perspective-grid animate-grid-move svelte-1u3yxiu"),x(m,"opacity",.6+i[0]*.3),p(_,"class","absolute inset-0 bg-gradient-to-t from-[#050510] via-transparent to-transparent"),p(e,"class","absolute inset-0 bg-[#050510] overflow-hidden perspective-container svelte-1u3yxiu")},m(a,c){C(a,e,c),d(e,t),d(t,l),d(t,r),d(t,o),d(e,v),d(e,m),d(e,f),d(e,_),s=!0},p(a,c){(!s||c&1)&&x(l,"opacity",.4+a[0]*.3),(!s||c&4)&&x(t,"transform","translate(-50%, 0) scale("+a[2]+")"),(!s||c&1)&&x(m,"opacity",.6+a[0]*.3)},i(a){s||(a&&be(()=>{s&&(n||(n=W(e,Z,{duration:1e3},!0)),n.run(1))}),s=!0)},o(a){a&&(n||(n=W(e,Z,{duration:1e3},!1)),n.run(0)),s=!1},d(a){a&&u(e),a&&n&&n.end()}}}function wt(i){let e,t,l,r,o,v,m,f,_,n=ee(Array(20)),s=[];for(let a=0;a<n.length;a+=1)s[a]=Dt(ft(i,n,a));return{c(){e=g("div"),t=g("div"),l=V();for(let a=0;a<s.length;a+=1)s[a].c();r=V(),o=g("div"),v=V(),m=g("div"),this.h()},l(a){e=b(a,"DIV",{class:!0});var c=y(e);t=b(c,"DIV",{class:!0,style:!0}),y(t).forEach(u),l=D(c);for(let h=0;h<s.length;h+=1)s[h].l(c);r=D(c),o=b(c,"DIV",{class:!0,style:!0}),y(o).forEach(u),v=D(c),m=b(c,"DIV",{class:!0,style:!0}),y(m).forEach(u),c.forEach(u),this.h()},h(){p(t,"class","absolute inset-0 bg-indigo-500/10 mix-blend-screen transition-opacity duration-75"),x(t,"opacity",i[0]*.3),p(o,"class","absolute top-0 right-0 w-[600px] h-[600px] bg-purple-500/10 rounded-full blur-2xl mix-blend-screen animate-pulse-slow transition-transform duration-100 svelte-1u3yxiu"),x(o,"transform","scale("+i[3]+")"),p(m,"class","absolute bottom-0 left-0 w-[400px] h-[400px] bg-blue-500/10 rounded-full blur-2xl mix-blend-screen animate-pulse-slow transition-transform duration-100 svelte-1u3yxiu"),x(m,"animation-delay","2s"),x(m,"transform","scale("+i[3]+")"),p(e,"class","absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-indigo-900 via-[#0B1120] to-black")},m(a,c){C(a,e,c),d(e,t),d(e,l);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(e,null);d(e,r),d(e,o),d(e,v),d(e,m),_=!0},p(a,c){if((!_||c&1)&&x(t,"opacity",a[0]*.3),c&0){n=ee(Array(20));let h;for(h=0;h<n.length;h+=1){const k=ft(a,n,h);s[h]?s[h].p(k,c):(s[h]=Dt(),s[h].c(),s[h].m(e,r))}for(;h<s.length;h+=1)s[h].d(1);s.length=n.length}(!_||c&8)&&x(o,"transform","scale("+a[3]+")"),(!_||c&8)&&x(m,"transform","scale("+a[3]+")")},i(a){_||(a&&be(()=>{_&&(f||(f=W(e,Z,{duration:1e3},!0)),f.run(1))}),_=!0)},o(a){a&&(f||(f=W(e,Z,{duration:1e3},!1)),f.run(0)),_=!1},d(a){a&&u(e),Ie(s,a),a&&f&&f.end()}}}function Dt(i){let e;return{c(){e=g("div"),this.h()},l(t){e=b(t,"DIV",{class:!0,style:!0}),y(e).forEach(u),this.h()},h(){p(e,"class","absolute bg-white rounded-full animate-twinkle svelte-1u3yxiu"),x(e,"width",Math.random()*2+"px"),x(e,"height",Math.random()*2+"px"),x(e,"left",Math.random()*100+"%"),x(e,"top",Math.random()*100+"%"),x(e,"animation-duration",1+Math.random()*3+"s")},m(t,l){C(t,e,l)},p:ue,d(t){t&&u(e)}}}function Vt(i){let e,t='<div class="w-48 h-48 bg-primary-500/30 rounded-full blur-2xl animate-breathe svelte-1u3yxiu"></div> <div class="absolute text-primary-200 font-mono tracking-widest text-sm opacity-50">INHALA Â· RETÃ‰N Â· EXHALA</div>',l,r;return{c(){e=g("div"),e.innerHTML=t,this.h()},l(o){e=b(o,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-urx8b6"&&(e.innerHTML=t),this.h()},h(){p(e,"class","absolute inset-0 flex items-center justify-center bg-[#0B1120]")},m(o,v){C(o,e,v),r=!0},i(o){r||(o&&be(()=>{r&&(l||(l=W(e,Z,{duration:1e3},!0)),l.run(1))}),r=!0)},o(o){o&&(l||(l=W(e,Z,{duration:1e3},!1)),l.run(0)),r=!1},d(o){o&&u(e),o&&l&&l.end()}}}function il(i){let e,t,l,r,o,v,m,f=i[4].background==="none"&&_t(i),_=(i[4].background==="library"||!i[4].background||i[4].background==="gradient")&&pt(i),n=i[4].background==="noir"&&gt(i),s=i[4].background==="zen"&&yt(i),a=i[4].background==="cyber"&&Et(i),c=i[4].background==="space"&&wt(i),h=i[4].background==="breathe"&&Vt();return{c(){e=g("div"),f&&f.c(),t=V(),_&&_.c(),l=V(),n&&n.c(),r=V(),s&&s.c(),o=V(),a&&a.c(),v=V(),c&&c.c(),m=V(),h&&h.c(),this.h()},l(k){e=b(k,"DIV",{class:!0});var I=y(e);f&&f.l(I),t=D(I),_&&_.l(I),l=D(I),n&&n.l(I),r=D(I),s&&s.l(I),o=D(I),a&&a.l(I),v=D(I),c&&c.l(I),m=D(I),h&&h.l(I),I.forEach(u),this.h()},h(){p(e,"class","absolute inset-0 overflow-hidden bg-black transition-colors duration-1000")},m(k,I){C(k,e,I),f&&f.m(e,null),d(e,t),_&&_.m(e,null),d(e,l),n&&n.m(e,null),d(e,r),s&&s.m(e,null),d(e,o),a&&a.m(e,null),d(e,v),c&&c.m(e,null),d(e,m),h&&h.m(e,null)},p(k,[I]){k[4].background==="none"?f?(f.p(k,I),I&16&&q(f,1)):(f=_t(k),f.c(),q(f,1),f.m(e,t)):f&&(de(),z(f,1,1,()=>{f=null}),he()),k[4].background==="library"||!k[4].background||k[4].background==="gradient"?_?(_.p(k,I),I&16&&q(_,1)):(_=pt(k),_.c(),q(_,1),_.m(e,l)):_&&(de(),z(_,1,1,()=>{_=null}),he()),k[4].background==="noir"?n?(n.p(k,I),I&16&&q(n,1)):(n=gt(k),n.c(),q(n,1),n.m(e,r)):n&&(de(),z(n,1,1,()=>{n=null}),he()),k[4].background==="zen"?s?(s.p(k,I),I&16&&q(s,1)):(s=yt(k),s.c(),q(s,1),s.m(e,o)):s&&(de(),z(s,1,1,()=>{s=null}),he()),k[4].background==="cyber"?a?(a.p(k,I),I&16&&q(a,1)):(a=Et(k),a.c(),q(a,1),a.m(e,v)):a&&(de(),z(a,1,1,()=>{a=null}),he()),k[4].background==="space"?c?(c.p(k,I),I&16&&q(c,1)):(c=wt(k),c.c(),q(c,1),c.m(e,m)):c&&(de(),z(c,1,1,()=>{c=null}),he()),k[4].background==="breathe"?h?I&16&&q(h,1):(h=Vt(),h.c(),q(h,1),h.m(e,null)):h&&(de(),z(h,1,1,()=>{h=null}),he())},i(k){q(f),q(_),q(n),q(s),q(a),q(c),q(h)},o(k){z(f),z(_),z(n),z(s),z(a),z(c),z(h)},d(k){k&&u(e),f&&f.d(),_&&_.d(),n&&n.d(),s&&s.d(),a&&a.d(),c&&c.d(),h&&h.d()}}}function al(i,e,t){let l,r,o,v,m;return Ve(i,Zt,f=>t(1,v=f)),Ve(i,tl,f=>t(4,m=f)),Array(30).fill(0),i.$$.update=()=>{i.$$.dirty&2&&t(0,l=v.isPlaying?v.bass:0),i.$$.dirty&1&&t(3,r=1+l*.2),i.$$.dirty&1&&t(2,o=1+l*.4),i.$$.dirty&1},[l,v,o,r,m]}class sl extends jt{constructor(e){super(),Bt(this,e,al,il,Ot,{})}}function xt(i,e,t){const l=i.slice();return l[19]=e[t],l}function Tt(i,e,t){const l=i.slice();return l[24]=e[t],l}function Xe(i){const e=i.slice(),t=e[2].availableAlbums.find(r=>r.id===e[0]?.currentTrack?.albumId);e[22]=t;const l=e[22]?.tracks?.[e[0]?.currentTrack?.trackIndex??0];return e[23]=l,e}function nl(i){let e,t,l,r,o,v,m,f,_,n="â† Salir de la Sala",s,a,c=i[0].name+"",h,k,I,w,N=i[0].hostName+"",j,H,T,M,R,O,B="ðŸ“‹ Copiar Enlace",U,L,E,P,A,te,me,se,ne,re,ie,K,Ye="ðŸ‘¥",Ue,_e,ze,Ee=i[4].length+"",xe,Fe,Ge,ve,le=[],Qe=new Map,pe,Je,We;l=new sl({});let G=i[1]&&Ct(),F=i[1]&&St(i);function Ze(S,$){return S[0].currentTrack?ul:cl}let Te=Ze(i),ce=Te(i);function et(S,$){return S[0].currentTrack?hl:S[1]?dl:fl}let Ce=et(i),ae=Ce(i),J=i[1]&&Lt(),Se=ee(i[4]);const tt=S=>S[19].uid;for(let S=0;S<Se.length;S+=1){let $=xt(i,Se,S),oe=tt($);Qe.set(oe,le[S]=Rt(oe,$))}return{c(){e=g("div"),t=g("div"),Jt(l.$$.fragment),r=V(),o=g("div"),v=g("div"),m=g("div"),f=g("div"),_=g("button"),_.textContent=n,s=V(),a=g("h1"),h=Y(c),k=V(),I=g("p"),w=Y("Host: "),j=Y(N),H=V(),G&&G.c(),T=V(),M=g("div"),F&&F.c(),R=V(),O=g("button"),O.textContent=B,U=V(),L=g("div"),E=g("div"),P=g("div"),A=g("h2"),ce.c(),te=V(),ae.c(),me=V(),J&&J.c(),se=V(),ne=g("div"),re=g("div"),ie=g("h3"),K=g("span"),K.textContent=Ye,Ue=V(),_e=g("span"),ze=Y("Participantes ("),xe=Y(Ee),Fe=Y(")"),Ge=V(),ve=g("div");for(let S=0;S<le.length;S+=1)le[S].c();this.h()},l(S){e=b(S,"DIV",{class:!0});var $=y(e);t=b($,"DIV",{class:!0});var oe=y(t);Gt(l.$$.fragment,oe),oe.forEach(u),r=D($),o=b($,"DIV",{class:!0});var lt=y(o);v=b(lt,"DIV",{class:!0});var Ae=y(v);m=b(Ae,"DIV",{class:!0});var Pe=y(m);f=b(Pe,"DIV",{});var ge=y(f);_=b(ge,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(_)!=="svelte-16qqnhr"&&(_.textContent=n),s=D(ge),a=b(ge,"H1",{class:!0});var rt=y(a);h=X(rt,c),rt.forEach(u),k=D(ge),I=b(ge,"P",{class:!0});var we=y(I);w=X(we,"Host: "),j=X(we,N),H=D(we),G&&G.l(we),we.forEach(u),ge.forEach(u),T=D(Pe),M=b(Pe,"DIV",{class:!0});var Me=y(M);F&&F.l(Me),R=D(Me),O=b(Me,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(O)!=="svelte-1b72jsd"&&(O.textContent=B),Me.forEach(u),Pe.forEach(u),U=D(Ae),L=b(Ae,"DIV",{class:!0});var Le=y(L);E=b(Le,"DIV",{class:!0});var it=y(E);P=b(it,"DIV",{class:!0});var ke=y(P);A=b(ke,"H2",{class:!0});var at=y(A);ce.l(at),at.forEach(u),te=D(ke),ae.l(ke),me=D(ke),J&&J.l(ke),ke.forEach(u),it.forEach(u),se=D(Le),ne=b(Le,"DIV",{});var st=y(ne);re=b(st,"DIV",{class:!0});var Ne=y(re);ie=b(Ne,"H3",{class:!0});var He=y(ie);K=b(He,"SPAN",{"data-svelte-h":!0}),Q(K)!=="svelte-240bj8"&&(K.textContent=Ye),Ue=D(He),_e=b(He,"SPAN",{});var Re=y(_e);ze=X(Re,"Participantes ("),xe=X(Re,Ee),Fe=X(Re,")"),Re.forEach(u),He.forEach(u),Ge=D(Ne),ve=b(Ne,"DIV",{class:!0});var nt=y(ve);for(let Ke=0;Ke<le.length;Ke+=1)le[Ke].l(nt);nt.forEach(u),Ne.forEach(u),st.forEach(u),Le.forEach(u),Ae.forEach(u),lt.forEach(u),$.forEach(u),this.h()},h(){p(t,"class","absolute inset-0"),p(_,"class","text-slate-400 hover:text-white mb-2 flex items-center gap-2"),p(a,"class","text-3xl font-bold"),p(I,"class","text-slate-400 text-sm"),p(O,"class","flex-1 md:flex-none px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all text-sm font-medium whitespace-nowrap"),p(M,"class","flex items-center gap-3 w-full md:w-auto"),p(m,"class","flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8"),p(A,"class","text-xl font-bold mb-4"),p(P,"class","bg-black/40 backdrop-blur-xl border border-white/10 rounded-3xl p-8"),p(E,"class","lg:col-span-2"),p(ie,"class","text-lg font-bold mb-4 flex items-center gap-2"),p(ve,"class","space-y-3"),p(re,"class","bg-black/40 backdrop-blur-xl border border-white/10 rounded-3xl p-6 sticky top-8"),p(L,"class","grid grid-cols-1 lg:grid-cols-3 gap-6"),p(v,"class","max-w-6xl mx-auto"),p(o,"class","relative z-10 min-h-screen text-white font-poppins px-4 py-8 md:p-8"),p(e,"class","relative min-h-screen overflow-hidden")},m(S,$){C(S,e,$),d(e,t),Ft(l,t,null),d(e,r),d(e,o),d(o,v),d(v,m),d(m,f),d(f,_),d(f,s),d(f,a),d(a,h),d(f,k),d(f,I),d(I,w),d(I,j),d(I,H),G&&G.m(I,null),d(m,T),d(m,M),F&&F.m(M,null),d(M,R),d(M,O),d(v,U),d(v,L),d(L,E),d(E,P),d(P,A),ce.m(A,null),d(P,te),ae.m(P,null),d(P,me),J&&J.m(P,null),d(L,se),d(L,ne),d(ne,re),d(re,ie),d(ie,K),d(ie,Ue),d(ie,_e),d(_e,ze),d(_e,xe),d(_e,Fe),d(re,Ge),d(re,ve);for(let oe=0;oe<le.length;oe+=1)le[oe]&&le[oe].m(ve,null);pe=!0,Je||(We=[qe(_,"click",i[9]),qe(O,"click",i[7])],Je=!0)},p(S,$){(!pe||$&1)&&c!==(c=S[0].name+"")&&fe(h,c),(!pe||$&1)&&N!==(N=S[0].hostName+"")&&fe(j,N),S[1]?G||(G=Ct(),G.c(),G.m(I,null)):G&&(G.d(1),G=null),S[1]?F?F.p(S,$):(F=St(S),F.c(),F.m(M,R)):F&&(F.d(1),F=null),Te!==(Te=Ze(S))&&(ce.d(1),ce=Te(S),ce&&(ce.c(),ce.m(A,null))),Ce===(Ce=et(S))&&ae?ae.p(S,$):(ae.d(1),ae=Ce(S),ae&&(ae.c(),ae.m(P,me))),S[1]?J||(J=Lt(),J.c(),J.m(P,null)):J&&(J.d(1),J=null),(!pe||$&16)&&Ee!==(Ee=S[4].length+"")&&fe(xe,Ee),$&49&&(Se=ee(S[4]),le=Kt(le,$,tt,1,S,Se,Qe,ve,Xt,Rt,null,xt))},i(S){pe||(q(l.$$.fragment,S),pe=!0)},o(S){z(l.$$.fragment,S),pe=!1},d(S){S&&u(e),Ut(l),G&&G.d(),F&&F.d(),ce.d(),ae.d(),J&&J.d();for(let $=0;$<le.length;$+=1)le[$].d();Je=!1,zt(We)}}}function ol(i){let e,t='<div class="text-center"><div class="inline-block w-16 h-16 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mb-4"></div> <p class="text-slate-400">Conectando...</p></div>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1i0r305"&&(e.innerHTML=t),this.h()},h(){p(e,"class","min-h-screen bg-[#0B1120] text-white font-poppins flex items-center justify-center")},m(l,r){C(l,e,r)},p:ue,i:ue,o:ue,d(l){l&&u(e)}}}function Ct(i){let e,t="(TÃº)";return{c(){e=g("span"),e.textContent=t,this.h()},l(l){e=b(l,"SPAN",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1p2l5x8"&&(e.textContent=t),this.h()},h(){p(e,"class","text-primary-400 font-bold ml-2")},m(l,r){C(l,e,r)},d(l){l&&u(e)}}}function St(i){let e,t="Cerrar Sala",l,r;return{c(){e=g("button"),e.textContent=t,this.h()},l(o){e=b(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-40mafr"&&(e.textContent=t),this.h()},h(){p(e,"class","flex-1 md:flex-none px-4 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg transition-all text-sm font-medium border border-red-500/20 whitespace-nowrap")},m(o,v){C(o,e,v),l||(r=qe(e,"click",i[10]),l=!0)},p:ue,d(o){o&&u(e),l=!1,r()}}}function cl(i){let e;return{c(){e=Y("ðŸŽµ Esperando mÃºsica...")},l(t){e=X(t,"ðŸŽµ Esperando mÃºsica...")},m(t,l){C(t,e,l)},d(t){t&&u(e)}}}function ul(i){let e;return{c(){e=Y("ðŸŽµ Reproduciendo")},l(t){e=X(t,"ðŸŽµ Reproduciendo")},m(t,l){C(t,e,l)},d(t){t&&u(e)}}}function fl(i){let e,t="<p>El host aÃºn no ha reproducido nada.</p>";return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-dnto5"&&(e.innerHTML=t),this.h()},h(){p(e,"class","text-center py-12 text-slate-500")},m(l,r){C(l,e,r)},p:ue,d(l){l&&u(e)}}}function dl(i){let e,t,l="Selecciona un Ã¡lbum para empezar a escuchar juntos",r,o,v=ee(i[2].availableAlbums),m=[];for(let f=0;f<v.length;f+=1)m[f]=At(Tt(i,v,f));return{c(){e=g("div"),t=g("p"),t.textContent=l,r=V(),o=g("div");for(let f=0;f<m.length;f+=1)m[f].c();this.h()},l(f){e=b(f,"DIV",{class:!0});var _=y(e);t=b(_,"P",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-40obc5"&&(t.textContent=l),r=D(_),o=b(_,"DIV",{class:!0});var n=y(o);for(let s=0;s<m.length;s+=1)m[s].l(n);n.forEach(u),_.forEach(u),this.h()},h(){p(t,"class","text-slate-400 mb-6"),p(o,"class","grid grid-cols-2 md:grid-cols-3 gap-4 max-h-96 overflow-y-auto px-4"),p(e,"class","text-center py-8")},m(f,_){C(f,e,_),d(e,t),d(e,r),d(e,o);for(let n=0;n<m.length;n+=1)m[n]&&m[n].m(o,null)},p(f,_){if(_&68){v=ee(f[2].availableAlbums);let n;for(n=0;n<v.length;n+=1){const s=Tt(f,v,n);m[n]?m[n].p(s,_):(m[n]=At(s),m[n].c(),m[n].m(o,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=v.length}},d(f){f&&u(e),Ie(m,f)}}}function hl(i){let e,t=i[0].currentTrack&&Pt(Xe(i));return{c(){t&&t.c(),e=Oe()},l(l){t&&t.l(l),e=Oe()},m(l,r){t&&t.m(l,r),C(l,e,r)},p(l,r){l[0].currentTrack?t?t.p(Xe(l),r):(t=Pt(Xe(l)),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&u(e),t&&t.d(l)}}}function At(i){let e,t,l,r,o,v,m,f,_=i[24].title+"",n,s,a,c=i[24].artist+"",h,k,I,w;function N(){return i[11](i[24])}return{c(){e=g("button"),t=g("img"),o=V(),v=g("div"),m=g("div"),f=g("p"),n=Y(_),s=V(),a=g("p"),h=Y(c),k=V(),this.h()},l(j){e=b(j,"BUTTON",{class:!0});var H=y(e);t=b(H,"IMG",{src:!0,alt:!0,class:!0}),o=D(H),v=b(H,"DIV",{class:!0});var T=y(v);m=b(T,"DIV",{class:!0});var M=y(m);f=b(M,"P",{class:!0});var R=y(f);n=X(R,_),R.forEach(u),s=D(M),a=b(M,"P",{class:!0});var O=y(a);h=X(O,c),O.forEach(u),M.forEach(u),T.forEach(u),k=D(H),H.forEach(u),this.h()},h(){$e(t.src,l=i[24].cover)||p(t,"src",l),p(t,"alt",r=i[24].title),p(t,"class","w-full aspect-square object-cover"),p(f,"class","text-sm font-bold text-white"),p(a,"class","text-xs text-slate-300"),p(m,"class","text-center p-2"),p(v,"class","absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"),p(e,"class","group relative rounded-xl overflow-hidden hover:scale-105 transition-transform")},m(j,H){C(j,e,H),d(e,t),d(e,o),d(e,v),d(v,m),d(m,f),d(f,n),d(m,s),d(m,a),d(a,h),d(e,k),I||(w=qe(e,"click",N),I=!0)},p(j,H){i=j,H&4&&!$e(t.src,l=i[24].cover)&&p(t,"src",l),H&4&&r!==(r=i[24].title)&&p(t,"alt",r),H&4&&_!==(_=i[24].title+"")&&fe(n,_),H&4&&c!==(c=i[24].artist+"")&&fe(h,c)},d(j){j&&u(e),I=!1,w()}}}function Pt(i){let e,t=i[22]&&i[23]&&Mt(i);return{c(){e=g("div"),t&&t.c(),this.h()},l(l){e=b(l,"DIV",{class:!0});var r=y(e);t&&t.l(r),r.forEach(u),this.h()},h(){p(e,"class","text-center")},m(l,r){C(l,e,r),t&&t.m(e,null)},p(l,r){l[22]&&l[23]?t?t.p(l,r):(t=Mt(l),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(l){l&&u(e),t&&t.d()}}}function Mt(i){let e,t,l,r,o,v=i[23].title+"",m,f,_,n=(i[23].artist||i[22].artist)+"",s,a,c;function h(w,N){return w[0].currentTrack.isPlaying?_l:ml}let k=h(i),I=k(i);return{c(){e=g("img"),r=V(),o=g("h3"),m=Y(v),f=V(),_=g("p"),s=Y(n),a=V(),c=g("div"),I.c(),this.h()},l(w){e=b(w,"IMG",{src:!0,alt:!0,class:!0}),r=D(w),o=b(w,"H3",{class:!0});var N=y(o);m=X(N,v),N.forEach(u),f=D(w),_=b(w,"P",{class:!0});var j=y(_);s=X(j,n),j.forEach(u),a=D(w),c=b(w,"DIV",{class:!0});var H=y(c);I.l(H),H.forEach(u),this.h()},h(){$e(e.src,t=i[22].cover)||p(e,"src",t),p(e,"alt",l=i[22].title),p(e,"class","w-64 h-64 mx-auto rounded-2xl shadow-2xl mb-6"),p(o,"class","text-2xl font-bold mb-2"),p(_,"class","text-slate-400 mb-4"),p(c,"class","flex items-center justify-center gap-2")},m(w,N){C(w,e,N),C(w,r,N),C(w,o,N),d(o,m),C(w,f,N),C(w,_,N),d(_,s),C(w,a,N),C(w,c,N),I.m(c,null)},p(w,N){N&5&&!$e(e.src,t=w[22].cover)&&p(e,"src",t),N&5&&l!==(l=w[22].title)&&p(e,"alt",l),N&5&&v!==(v=w[23].title+"")&&fe(m,v),N&5&&n!==(n=(w[23].artist||w[22].artist)+"")&&fe(s,n),k!==(k=h(w))&&(I.d(1),I=k(w),I&&(I.c(),I.m(c,null)))},d(w){w&&(u(e),u(r),u(o),u(f),u(_),u(a),u(c)),I.d()}}}function ml(i){let e,t,l,r="Pausado";return{c(){e=g("div"),t=V(),l=g("span"),l.textContent=r,this.h()},l(o){e=b(o,"DIV",{class:!0}),y(e).forEach(u),t=D(o),l=b(o,"SPAN",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-grdosm"&&(l.textContent=r),this.h()},h(){p(e,"class","w-3 h-3 bg-slate-500 rounded-full"),p(l,"class","text-slate-500 text-sm font-bold")},m(o,v){C(o,e,v),C(o,t,v),C(o,l,v)},d(o){o&&(u(e),u(t),u(l))}}}function _l(i){let e,t,l,r="Reproduciendo";return{c(){e=g("div"),t=V(),l=g("span"),l.textContent=r,this.h()},l(o){e=b(o,"DIV",{class:!0}),y(e).forEach(u),t=D(o),l=b(o,"SPAN",{class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-1wxwe2n"&&(l.textContent=r),this.h()},h(){p(e,"class","w-3 h-3 bg-green-400 rounded-full animate-pulse"),p(l,"class","text-green-400 text-sm font-bold")},m(o,v){C(o,e,v),C(o,t,v),C(o,l,v)},d(o){o&&(u(e),u(t),u(l))}}}function Lt(i){let e,t=`<p class="text-sm text-primary-300">ðŸ’¡ Como host, los controles en /app se sincronizarÃ¡n
                                        automÃ¡ticamente aquÃ­.</p>`;return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1ktkpcm"&&(e.innerHTML=t),this.h()},h(){p(e,"class","mt-6 p-4 bg-primary-500/10 border border-primary-500/20 rounded-xl")},m(l,r){C(l,e,r)},d(l){l&&u(e)}}}function Nt(i){let e,t="Host";return{c(){e=g("p"),e.textContent=t,this.h()},l(l){e=b(l,"P",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1oygj3n"&&(e.textContent=t),this.h()},h(){p(e,"class","text-xs text-primary-400")},m(l,r){C(l,e,r)},d(l){l&&u(e)}}}function Ht(i){let e,t="(TÃº)";return{c(){e=g("span"),e.textContent=t,this.h()},l(l){e=b(l,"SPAN",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-uj23tq"&&(e.textContent=t),this.h()},h(){p(e,"class","text-xs text-slate-500")},m(l,r){C(l,e,r)},d(l){l&&u(e)}}}function Rt(i,e){let t,l,r=(e[19].name[0]?.toUpperCase()||"?")+"",o,v,m,f,_=e[19].name+"",n,s,a,c,h=e[19].uid===e[0].hostId&&Nt(),k=e[19].uid===e[5].user?.uid&&Ht();return{key:i,first:null,c(){t=g("div"),l=g("div"),o=Y(r),v=V(),m=g("div"),f=g("p"),n=Y(_),s=V(),h&&h.c(),a=V(),k&&k.c(),c=V(),this.h()},l(I){t=b(I,"DIV",{class:!0});var w=y(t);l=b(w,"DIV",{class:!0});var N=y(l);o=X(N,r),N.forEach(u),v=D(w),m=b(w,"DIV",{class:!0});var j=y(m);f=b(j,"P",{class:!0});var H=y(f);n=X(H,_),H.forEach(u),s=D(j),h&&h.l(j),j.forEach(u),a=D(w),k&&k.l(w),c=D(w),w.forEach(u),this.h()},h(){p(l,"class","w-10 h-10 rounded-full bg-gradient-to-br from-primary-500 to-orange-500 flex items-center justify-center text-sm font-bold"),p(f,"class","text-sm font-medium"),p(m,"class","flex-1"),p(t,"class","flex items-center gap-3 p-3 bg-white/5 rounded-xl"),this.first=t},m(I,w){C(I,t,w),d(t,l),d(l,o),d(t,v),d(t,m),d(m,f),d(f,n),d(m,s),h&&h.m(m,null),d(t,a),k&&k.m(t,null),d(t,c)},p(I,w){e=I,w&16&&r!==(r=(e[19].name[0]?.toUpperCase()||"?")+"")&&fe(o,r),w&16&&_!==(_=e[19].name+"")&&fe(n,_),e[19].uid===e[0].hostId?h||(h=Nt(),h.c(),h.m(m,null)):h&&(h.d(1),h=null),e[19].uid===e[5].user?.uid?k||(k=Ht(),k.c(),k.m(t,c)):k&&(k.d(1),k=null)},d(I){I&&u(t),h&&h.d(),k&&k.d()}}}function vl(i){let e,t,l,r,o,v;document.title=e=(i[0]?.name||"Sala")+" | ChillChess";const m=[ol,nl],f=[];function _(n,s){return n[3]?0:n[0]?1:-1}return~(l=_(i))&&(r=f[l]=m[l](i)),{c(){t=V(),r&&r.c(),o=Oe()},l(n){qt("svelte-10zkn85",document.head).forEach(u),t=D(n),r&&r.l(n),o=Oe()},m(n,s){C(n,t,s),~l&&f[l].m(n,s),C(n,o,s),v=!0},p(n,[s]){(!v||s&1)&&e!==(e=(n[0]?.name||"Sala")+" | ChillChess")&&(document.title=e);let a=l;l=_(n),l===a?~l&&f[l].p(n,s):(r&&(de(),z(f[a],1,1,()=>{f[a]=null}),he()),~l?(r=f[l],r?r.p(n,s):(r=f[l]=m[l](n),r.c()),q(r,1),r.m(o.parentNode,o)):r=null)},i(n){v||(q(r),v=!0)},o(n){z(r),v=!1},d(n){n&&(u(t),u(o)),~l&&f[l].d(n)}}}function pl(i,e,t){let l,r,o;Ve(i,De,T=>t(2,l=T)),Ve(i,Qt,T=>t(5,r=T)),Ve(i,Yt,T=>t(15,o=T));const v=o.params.id;let m=null,f=!0,_=!1,n=null,s=[];function a(T){ct(T)}$t(async()=>{if(!r.isLoggedIn){je("/");return}const{doc:T,onSnapshot:M,updateDoc:R,serverTimestamp:O}=await ye(async()=>{const{doc:L,onSnapshot:E,updateDoc:P,serverTimestamp:A}=await import("../chunks/Bkee_T1r.js").then(te=>te.i);return{doc:L,onSnapshot:E,updateDoc:P,serverTimestamp:A}},__vite__mapDeps([0,1,2,3]),import.meta.url),{db:B}=await ye(async()=>{const{db:L}=await import("../chunks/Cc16BkMR.js").then(E=>E.ai);return{db:L}},[],import.meta.url),U=T(B,"listeningRooms",v);if(n=M(U,L=>{if(!L.exists()){Be.error("Esta sala no existe."),je("/rooms");return}const E=L.data();t(0,m=E),t(1,_=E.hostId===r.user?.uid),t(4,s=Object.entries(E.participants).map(([P,A])=>({uid:P,name:A.displayName}))),t(3,f=!1)}),r.user)try{await R(U,{[`participants.${r.user.uid}`]:{displayName:r.user.displayName||"Usuario",joinedAt:O()}})}catch(L){console.error("Error joining room:",L)}if(_){w();const L=De.subscribe(async E=>{if(w(),!E.currentAlbumId)return;const P=E.playlist[E.currentTrackIndex];try{await R(U,{currentTrack:{albumId:E.currentAlbumId,trackIndex:E.currentTrackIndex,isPlaying:E.isPlaying,title:P?.title||"Unknown",timestamp:O()}})}catch(A){console.error("Error syncing:",A)}});ot(()=>{L(),k&&clearTimeout(k)})}}),ot(async()=>{if(n&&n(),r.isLoggedIn&&r.user)try{const{doc:T,updateDoc:M,deleteField:R}=await ye(async()=>{const{doc:U,updateDoc:L,deleteField:E}=await import("../chunks/Bkee_T1r.js").then(P=>P.i);return{doc:U,updateDoc:L,deleteField:E}},__vite__mapDeps([0,1,2,3]),import.meta.url),{db:O}=await ye(async()=>{const{db:U}=await import("../chunks/Cc16BkMR.js").then(L=>L.ai);return{db:U}},[],import.meta.url),B=T(O,"listeningRooms",v);await M(B,{[`participants.${r.user.uid}`]:R()})}catch(T){console.error("Error leaving room:",T)}});function c(){const T=`${window.location.origin}/rooms/${v}`;navigator.clipboard.writeText(T),Be.success("Enlace copiado al portapapeles")}async function h(T=!1){if(!(!T&&!confirm("Â¿EstÃ¡s seguro de que quieres cerrar esta sala permanentemente? Todos los participantes serÃ¡n desconectados.")))try{const{doc:M,deleteDoc:R}=await ye(async()=>{const{doc:B,deleteDoc:U}=await import("../chunks/Bkee_T1r.js").then(L=>L.i);return{doc:B,deleteDoc:U}},__vite__mapDeps([0,1,2,3]),import.meta.url),{db:O}=await ye(async()=>{const{db:B}=await import("../chunks/Cc16BkMR.js").then(U=>U.ai);return{db:B}},[],import.meta.url);await R(M(O,"listeningRooms",v)),Be.success(T?"Sala cerrada por inactividad (15 min)":"Sala cerrada exitosamente"),je("/rooms")}catch(M){console.error("Error closing room:",M),Be.error("Error al cerrar la sala")}}let k;const I=15*60*1e3;function w(){k&&clearTimeout(k),k=setTimeout(()=>{if(l.isPlaying){w();return}h(!0)},I)}const N=()=>je("/rooms"),j=()=>h(!1),H=T=>a(T.id);return i.$$.update=()=>{if(i.$$.dirty&7&&m&&!_&&m.currentTrack&&l.availableAlbums.length>0){const T=m.currentTrack,M=l;T.albumId!==M.currentAlbumId?(ct(T.albumId),De.update(R=>({...R,currentTrackIndex:T.trackIndex}))):T.trackIndex!==M.currentTrackIndex&&De.update(R=>({...R,currentTrackIndex:T.trackIndex})),T.isPlaying!==M.isPlaying&&De.update(R=>({...R,isPlaying:T.isPlaying}))}},[m,_,l,f,s,r,a,c,h,N,j,H]}class Sl extends jt{constructor(e){super(),Bt(this,e,pl,vl,Ot,{})}}export{Sl as component};
