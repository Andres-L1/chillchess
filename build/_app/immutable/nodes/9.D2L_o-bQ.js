import{S as tl,i as ll,s as rl,d as f,G as sl,L as Ue,t as Me,a as Ne,A as ge,c as It,b as F,v as s,H as ol,F as Y,g as a,h as u,q as _,J as nl,B as E,j as z,C as ce,k as d,K as al,D as C,E as ue,f as il,o as cl,z as Oe,a0 as rt,R as st,X as Yt,N as Se,n as je,e as ot,y as $e,Q as Zt,w as At,x as Nt,r as Ht}from"../chunks/BJqnC6n6.js";import{e as xe}from"../chunks/Ce8MPPMO.js";import"../chunks/IHki7fMi.js";import{u as ul}from"../chunks/Bkee_T1r.js";import{b as He,d as me,u as Pe,l as lt,v as $t,q as Vt,c as et,e as Bt,f as St,k as jt,m as Mt}from"../chunks/Cc16BkMR.js";import{t as he}from"../chunks/Dq1UMhbt.js";import{f as nt,b as el}from"../chunks/C-nxcAHp.js";import{B as dl}from"../chunks/DfkiFzvq.js";async function tt(r){if(!r)return;const t=new Date().toISOString().split("T")[0],l=He(me,"users",r);try{await Pe(l,{[`activityMap.${t}`]:$t(1),lastActive:lt()})}catch(o){console.error("Error logging activity:",o)}}function Pt(r,e,t){const l=r.slice();return l[42]=e[t],l}function Ot(r,e,t){const l=r.slice();return l[45]=e[t],l}function Ut(r,e,t){const l=r.slice();return l[48]=e[t],l}function Lt(r,e,t){const l=r.slice();return l[51]=e[t],l}function zt(r,e,t){const l=r.slice();return l[54]=e[t],l}function fl(r){let e,t=xe(r[0]),l=[];for(let o=0;o<t.length;o+=1)l[o]=qt(zt(r,t,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=ot()},l(o){for(let i=0;i<l.length;i+=1)l[i].l(o);e=ot()},m(o,i){for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(o,i);F(o,e,i)},p(o,i){if(i[0]&36865){t=xe(o[0]);let c;for(c=0;c<t.length;c+=1){const h=zt(o,t,c);l[c]?l[c].p(h,i):(l[c]=qt(h),l[c].c(),l[c].m(e.parentNode,e))}for(;c<l.length;c+=1)l[c].d(1);l.length=t.length}},d(o){o&&f(e),Oe(l,o)}}}function hl(r){let e,t='<svg class="w-12 h-12 mb-3 opacity-20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> <p class="text-sm">Sin h√°bitos a√∫n.</p>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=u(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1bamvyv"&&(e.innerHTML=t),this.h()},h(){a(e,"class","flex flex-col items-center justify-center h-48 text-slate-600 text-center")},m(l,o){F(l,e,o)},p:je,d(l){l&&f(e)}}}function pl(r){let e;return{c(){e=ue("üå±")},l(t){e=ce(t,"üå±")},m(t,l){F(t,e,l)},d(t){t&&f(e)}}}function bl(r){let e;return{c(){e=ue("üî•")},l(t){e=ce(t,"üî•")},m(t,l){F(t,e,l)},d(t){t&&f(e)}}}function qt(r){let e,t,l,o,i,c=r[54].title+"",h,v,P,H=(r[54].streak||0)+"",T,w,V,O;function K(B,x){return B[54].streak>0?bl:pl}let p=K(r),m=p(r);function g(){return r[21](r[54])}function R(){return r[22](r[54])}return{c(){e=d("div"),t=d("button"),l=d("div"),m.c(),o=C(),i=d("span"),h=ue(c),v=C(),P=d("button"),T=ue(H),w=C(),this.h()},l(B){e=u(B,"DIV",{class:!0});var x=_(e);t=u(x,"BUTTON",{class:!0});var I=_(t);l=u(I,"DIV",{class:!0,style:!0});var A=_(l);m.l(A),A.forEach(f),o=E(I),i=u(I,"SPAN",{class:!0});var k=_(i);h=ce(k,c),k.forEach(f),I.forEach(f),v=E(x),P=u(x,"BUTTON",{class:!0});var se=_(P);T=ce(se,H),se.forEach(f),w=E(x),x.forEach(f),this.h()},h(){a(l,"class","w-8 h-8 rounded-lg flex items-center justify-center"),$e(l,"background-color","var(--color-"+r[54].color+"-500, "+(r[54].color||"gray")+")20"),$e(l,"color",r[54].color||"gray"),a(i,"class","font-medium text-slate-200 group-hover:text-white transition-colors"),a(t,"class","flex items-center gap-3 text-left flex-1"),a(P,"class","text-xs font-bold px-3 py-1.5 rounded-md bg-green-500/10 text-green-400 hover:bg-green-500 hover:text-white transition-colors ml-3"),a(e,"class","flex items-center justify-between p-3 rounded-xl bg-[#0B1120]/50 border border-white/5 hover:border-green-500/30 transition-all group")},m(B,x){F(B,e,x),s(e,t),s(t,l),m.m(l,null),s(t,o),s(t,i),s(i,h),s(e,v),s(e,P),s(P,T),s(e,w),V||(O=[Y(t,"click",g),Y(P,"click",Zt(R))],V=!0)},p(B,x){r=B,p!==(p=K(r))&&(m.d(1),m=p(r),m&&(m.c(),m.m(l,null))),x[0]&1&&$e(l,"background-color","var(--color-"+r[54].color+"-500, "+(r[54].color||"gray")+")20"),x[0]&1&&$e(l,"color",r[54].color||"gray"),x[0]&1&&c!==(c=r[54].title+"")&&ge(h,c),x[0]&1&&H!==(H=(r[54].streak||0)+"")&&ge(T,H)},d(B){B&&f(e),m.d(),V=!1,Ue(O)}}}function _l(r){let e,t=xe(r[1]),l=[];for(let o=0;o<t.length;o+=1)l[o]=Gt(Lt(r,t,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=ot()},l(o){for(let i=0;i<l.length;i+=1)l[i].l(o);e=ot()},m(o,i){for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(o,i);F(o,e,i)},p(o,i){if(i[0]&589826){t=xe(o[1]);let c;for(c=0;c<t.length;c+=1){const h=Lt(o,t,c);l[c]?l[c].p(h,i):(l[c]=Gt(h),l[c].c(),l[c].m(e.parentNode,e))}for(;c<l.length;c+=1)l[c].d(1);l.length=t.length}},d(o){o&&f(e),Oe(l,o)}}}function vl(r){let e,t='<svg class="w-12 h-12 mb-3 opacity-20" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <p class="text-sm">Todo limpio.</p>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=u(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1e3nqq0"&&(e.innerHTML=t),this.h()},h(){a(e,"class","flex flex-col items-center justify-center h-48 text-slate-600 text-center")},m(l,o){F(l,e,o)},p:je,d(l){l&&f(e)}}}function Rt(r){let e,t;return{c(){e=Nt("svg"),t=Nt("path"),this.h()},l(l){e=At(l,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var o=_(e);t=At(o,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(t).forEach(f),o.forEach(f),this.h()},h(){a(t,"stroke-linecap","round"),a(t,"stroke-linejoin","round"),a(t,"stroke-width","3"),a(t,"d","M5 13l4 4L19 7"),a(e,"class","w-3 h-3 text-white"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"viewBox","0 0 24 24")},m(l,o){F(l,e,o),s(e,t)},d(l){l&&f(e)}}}function Ft(r){let e,t=r[51].dueDate+"",l;return{c(){e=d("span"),l=ue(t),this.h()},l(o){e=u(o,"SPAN",{class:!0});var i=_(e);l=ce(i,t),i.forEach(f),this.h()},h(){a(e,"class","ml-2 text-[10px] text-slate-500 bg-white/5 px-1.5 py-0.5 rounded")},m(o,i){F(o,e,i),s(e,l)},p(o,i){i[0]&2&&t!==(t=o[51].dueDate+"")&&ge(l,t)},d(o){o&&f(e)}}}function ml(r){let e,t="MED";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=u(l,"SPAN",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-gpzdqp"&&(e.textContent=t),this.h()},h(){a(e,"class","text-[10px] font-bold bg-yellow-500/20 text-yellow-500 px-2 py-0.5 rounded")},m(l,o){F(l,e,o)},d(l){l&&f(e)}}}function gl(r){let e,t="ALTA";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=u(l,"SPAN",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1ahd1fn"&&(e.textContent=t),this.h()},h(){a(e,"class","text-[10px] font-bold bg-red-500/20 text-red-500 px-2 py-0.5 rounded")},m(l,o){F(l,e,o)},d(l){l&&f(e)}}}function Gt(r){let e,t,l,o,i,c,h=r[51].title+"",v,P,H,T,w,V,O,K,p=r[51].completed&&Rt();function m(){return r[24](r[51])}let g=r[51].dueDate&&r[51].dueDate!=="Sin fecha"&&Ft(r);function R(){return r[25](r[51])}function B(A,k){if(A[51].priority==="high")return gl;if(A[51].priority==="medium")return ml}let x=B(r),I=x&&x(r);return{c(){e=d("div"),t=d("button"),p&&p.c(),o=C(),i=d("button"),c=d("span"),v=ue(h),H=C(),g&&g.c(),T=C(),I&&I.c(),w=C(),this.h()},l(A){e=u(A,"DIV",{class:!0});var k=_(e);t=u(k,"BUTTON",{class:!0});var se=_(t);p&&p.l(se),se.forEach(f),o=E(k),i=u(k,"BUTTON",{class:!0});var Z=_(i);c=u(Z,"SPAN",{class:!0});var S=_(c);v=ce(S,h),S.forEach(f),H=E(Z),g&&g.l(Z),Z.forEach(f),T=E(k),I&&I.l(k),w=E(k),k.forEach(f),this.h()},h(){a(t,"class",l="w-5 h-5 rounded border-2 border-slate-600 mr-3 flex items-center justify-center transition-colors hover:border-blue-400 "+(r[51].completed?"bg-blue-500 border-blue-500":"")),a(c,"class",P="font-medium "+(r[51].completed?"line-through":"text-slate-200")),a(i,"class","flex-1 text-left"),a(e,"class",V="flex items-center p-3 rounded-xl bg-[#0B1120]/50 border border-white/5 hover:border-blue-500/30 transition-all group "+(r[51].completed?"opacity-40":""))},m(A,k){F(A,e,k),s(e,t),p&&p.m(t,null),s(e,o),s(e,i),s(i,c),s(c,v),s(i,H),g&&g.m(i,null),s(e,T),I&&I.m(e,null),s(e,w),O||(K=[Y(t,"click",Zt(m)),Y(i,"click",R)],O=!0)},p(A,k){r=A,r[51].completed?p||(p=Rt(),p.c(),p.m(t,null)):p&&(p.d(1),p=null),k[0]&2&&l!==(l="w-5 h-5 rounded border-2 border-slate-600 mr-3 flex items-center justify-center transition-colors hover:border-blue-400 "+(r[51].completed?"bg-blue-500 border-blue-500":""))&&a(t,"class",l),k[0]&2&&h!==(h=r[51].title+"")&&ge(v,h),k[0]&2&&P!==(P="font-medium "+(r[51].completed?"line-through":"text-slate-200"))&&a(c,"class",P),r[51].dueDate&&r[51].dueDate!=="Sin fecha"?g?g.p(r,k):(g=Ft(r),g.c(),g.m(i,null)):g&&(g.d(1),g=null),x!==(x=B(r))&&(I&&I.d(1),I=x&&x(r),I&&(I.c(),I.m(e,w))),k[0]&2&&V!==(V="flex items-center p-3 rounded-xl bg-[#0B1120]/50 border border-white/5 hover:border-blue-500/30 transition-all group "+(r[51].completed?"opacity-40":""))&&a(e,"class",V)},d(A){A&&f(e),p&&p.d(),g&&g.d(),I&&I.d(),O=!1,Ue(K)}}}function Kt(r){let e,t,l,o,i=r[4]?"Editar H√°bito":"Nuevo H√°bito",c,h,v,P="‚úï",H,T,w,V,O,K,p,m,g,R,B,x,I="Cancelar",A,k,se="Guardar",Z,S,ee,ie,te,X=xe(["A diario","L-V","Finde"]),G=[];for(let y=0;y<3;y+=1)G[y]=Xt(Ut(r,X,y));function pe(y,j){return y[4]?kl:xl}let $=pe(r),N=$(r);return{c(){e=d("div"),t=d("div"),l=d("div"),o=d("h2"),c=ue(i),h=C(),v=d("button"),v.textContent=P,H=C(),T=d("div"),w=d("input"),V=C(),O=d("div");for(let y=0;y<3;y+=1)G[y].c();K=C(),p=d("textarea"),m=C(),g=d("div"),N.c(),R=C(),B=d("div"),x=d("button"),x.textContent=I,A=C(),k=d("button"),k.textContent=se,this.h()},l(y){e=u(y,"DIV",{class:!0});var j=_(e);t=u(j,"DIV",{class:!0});var D=_(t);l=u(D,"DIV",{class:!0});var le=_(l);o=u(le,"H2",{class:!0});var J=_(o);c=ce(J,i),J.forEach(f),h=E(le),v=u(le,"BUTTON",{class:!0,"data-svelte-h":!0}),z(v)!=="svelte-w5pmlw"&&(v.textContent=P),le.forEach(f),H=E(D),T=u(D,"DIV",{class:!0});var b=_(T);w=u(b,"INPUT",{placeholder:!0,class:!0}),V=E(b),O=u(b,"DIV",{class:!0});var U=_(O);for(let oe=0;oe<3;oe+=1)G[oe].l(U);U.forEach(f),K=E(b),p=u(b,"TEXTAREA",{placeholder:!0,class:!0}),_(p).forEach(f),b.forEach(f),m=E(D),g=u(D,"DIV",{class:!0});var n=_(g);N.l(n),R=E(n),B=u(n,"DIV",{class:!0});var L=_(B);x=u(L,"BUTTON",{class:!0,"data-svelte-h":!0}),z(x)!=="svelte-zn21az"&&(x.textContent=I),A=E(L),k=u(L,"BUTTON",{class:!0,"data-svelte-h":!0}),z(k)!=="svelte-559ebb"&&(k.textContent=se),L.forEach(f),n.forEach(f),D.forEach(f),j.forEach(f),this.h()},h(){a(o,"class","text-xl font-bold text-white"),a(v,"class","text-slate-400 hover:text-white"),a(l,"class","p-6 border-b border-white/5 flex justify-between items-center"),a(w,"placeholder","Ej: Leer 10 min..."),a(w,"class","w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-lg focus:outline-none focus:border-green-500 text-white"),w.autofocus=!0,a(O,"class","flex flex-wrap gap-2 text-sm"),a(p,"placeholder","Notas..."),a(p,"class","w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2 text-sm focus:outline-none focus:border-green-500 min-h-[80px] text-white"),a(T,"class","p-6 space-y-6"),a(x,"class","px-4 py-2 text-slate-400 hover:text-white"),a(k,"class","px-6 py-2 bg-green-500 hover:bg-green-400 text-white font-bold rounded-xl shadow-lg shadow-green-500/20"),a(B,"class","flex gap-3"),a(g,"class","p-6 border-t border-white/5 flex justify-between bg-black/20"),a(t,"class","bg-[#0F172A] border border-white/10 w-full max-w-lg rounded-2xl shadow-2xl"),a(e,"class","fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm")},m(y,j){F(y,e,j),s(e,t),s(t,l),s(l,o),s(o,c),s(l,h),s(l,v),s(t,H),s(t,T),s(T,w),Se(w,r[6].title),s(T,V),s(T,O);for(let D=0;D<3;D+=1)G[D]&&G[D].m(O,null);s(T,K),s(T,p),Se(p,r[6].notes),s(t,m),s(t,g),N.m(g,null),s(g,R),s(g,B),s(B,x),s(B,A),s(B,k),ee=!0,w.focus(),ie||(te=[Y(v,"click",r[26]),Y(w,"input",r[27]),Y(p,"input",r[29]),Y(x,"click",r[30]),Y(k,"click",r[13])],ie=!0)},p(y,j){if((!ee||j[0]&16)&&i!==(i=y[4]?"Editar H√°bito":"Nuevo H√°bito")&&ge(c,i),j[0]&64&&w.value!==y[6].title&&Se(w,y[6].title),j[0]&64){X=xe(["A diario","L-V","Finde"]);let D;for(D=0;D<3;D+=1){const le=Ut(y,X,D);G[D]?G[D].p(le,j):(G[D]=Xt(le),G[D].c(),G[D].m(O,null))}for(;D<3;D+=1)G[D].d(1)}j[0]&64&&Se(p,y[6].notes),$===($=pe(y))&&N?N.p(y,j):(N.d(1),N=$(y),N&&(N.c(),N.m(g,R)))},i(y){ee||(y&&(Z||st(()=>{Z=Yt(t,el,{start:.95}),Z.start()})),y&&st(()=>{ee&&(S||(S=rt(e,nt,{},!0)),S.run(1))}),ee=!0)},o(y){y&&(S||(S=rt(e,nt,{},!1)),S.run(0)),ee=!1},d(y){y&&f(e),Oe(G,y),N.d(),y&&S&&S.end(),ie=!1,Ue(te)}}}function Xt(r){let e,t,l,o,i;function c(){return r[28](r[48])}return{c(){e=d("button"),t=ue(r[48]),this.h()},l(h){e=u(h,"BUTTON",{class:!0});var v=_(e);t=ce(v,r[48]),v.forEach(f),this.h()},h(){a(e,"class",l="px-3 py-1 bg-white/5 hover:bg-white/10 rounded-lg border border-transparent "+(r[6].frequency===r[48]?"border-green-500 text-green-500":"")+" transition-colors")},m(h,v){F(h,e,v),s(e,t),o||(i=Y(e,"click",c),o=!0)},p(h,v){r=h,v[0]&64&&l!==(l="px-3 py-1 bg-white/5 hover:bg-white/10 rounded-lg border border-transparent "+(r[6].frequency===r[48]?"border-green-500 text-green-500":"")+" transition-colors")&&a(e,"class",l)},d(h){h&&f(e),o=!1,i()}}}function xl(r){let e;return{c(){e=d("div")},l(t){e=u(t,"DIV",{}),_(e).forEach(f)},m(t,l){F(t,e,l)},p:je,d(t){t&&f(e)}}}function kl(r){let e,t="Eliminar",l,o;return{c(){e=d("button"),e.textContent=t,this.h()},l(i){e=u(i,"BUTTON",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1jainlr"&&(e.textContent=t),this.h()},h(){a(e,"class","text-red-400 text-sm hover:underline")},m(i,c){F(i,e,c),l||(o=Y(e,"click",r[14]),l=!0)},p:je,d(i){i&&f(e),l=!1,o()}}}function Jt(r){let e,t,l,o,i=r[5]?"Editar Tarea":"Nueva Tarea",c,h,v,P="‚úï",H,T,w,V,O,K,p,m,g="PRIORIDAD",R,B,x,I,A,k,se="Cancelar",Z,S,ee="Guardar",ie,te,X,G,pe,$=xe(["Hoy","Ma√±ana","Esta semana"]),N=[];for(let b=0;b<3;b+=1)N[b]=Qt(Ot(r,$,b));let y=xe([{id:"low",c:"bg-blue-500"},{id:"medium",c:"bg-yellow-500"},{id:"high",c:"bg-red-500"}]),j=[];for(let b=0;b<3;b+=1)j[b]=Wt(Pt(r,y,b));function D(b,U){return b[5]?yl:wl}let le=D(r),J=le(r);return{c(){e=d("div"),t=d("div"),l=d("div"),o=d("h2"),c=ue(i),h=C(),v=d("button"),v.textContent=P,H=C(),T=d("div"),w=d("input"),V=C(),O=d("div");for(let b=0;b<3;b+=1)N[b].c();K=C(),p=d("div"),m=d("span"),m.textContent=g,R=C();for(let b=0;b<3;b+=1)j[b].c();B=C(),x=d("div"),J.c(),I=C(),A=d("div"),k=d("button"),k.textContent=se,Z=C(),S=d("button"),S.textContent=ee,this.h()},l(b){e=u(b,"DIV",{class:!0});var U=_(e);t=u(U,"DIV",{class:!0});var n=_(t);l=u(n,"DIV",{class:!0});var L=_(l);o=u(L,"H2",{class:!0});var oe=_(o);c=ce(oe,i),oe.forEach(f),h=E(L),v=u(L,"BUTTON",{class:!0,"data-svelte-h":!0}),z(v)!=="svelte-f03kwt"&&(v.textContent=P),L.forEach(f),H=E(n),T=u(n,"DIV",{class:!0});var be=_(T);w=u(be,"INPUT",{placeholder:!0,class:!0}),V=E(be),O=u(be,"DIV",{class:!0});var ne=_(O);for(let ae=0;ae<3;ae+=1)N[ae].l(ne);ne.forEach(f),K=E(be),p=u(be,"DIV",{class:!0});var re=_(p);m=u(re,"SPAN",{class:!0,"data-svelte-h":!0}),z(m)!=="svelte-g0at0e"&&(m.textContent=g),R=E(re);for(let ae=0;ae<3;ae+=1)j[ae].l(re);re.forEach(f),be.forEach(f),B=E(n),x=u(n,"DIV",{class:!0});var de=_(x);J.l(de),I=E(de),A=u(de,"DIV",{class:!0});var fe=_(A);k=u(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),z(k)!=="svelte-1y5meuo"&&(k.textContent=se),Z=E(fe),S=u(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),z(S)!=="svelte-17yr4l7"&&(S.textContent=ee),fe.forEach(f),de.forEach(f),n.forEach(f),U.forEach(f),this.h()},h(){a(o,"class","text-xl font-bold text-white"),a(v,"class","text-slate-400 hover:text-white"),a(l,"class","p-6 border-b border-white/5 flex justify-between items-center"),a(w,"placeholder","Ej: Comprar leche..."),a(w,"class","w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-lg focus:outline-none focus:border-blue-500 text-white"),w.autofocus=!0,a(O,"class","flex flex-wrap gap-2 text-sm"),a(m,"class","text-xs font-bold text-slate-500"),a(p,"class","flex items-center gap-3"),a(T,"class","p-6 space-y-6"),a(k,"class","px-4 py-2 text-slate-400 hover:text-white"),a(S,"class","px-6 py-2 bg-blue-500 hover:bg-blue-400 text-white font-bold rounded-xl shadow-lg shadow-blue-500/20"),a(A,"class","flex gap-3"),a(x,"class","p-6 border-t border-white/5 flex justify-between bg-black/20"),a(t,"class","bg-[#0F172A] border border-white/10 w-full max-w-lg rounded-2xl shadow-2xl"),a(e,"class","fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm")},m(b,U){F(b,e,U),s(e,t),s(t,l),s(l,o),s(o,c),s(l,h),s(l,v),s(t,H),s(t,T),s(T,w),Se(w,r[7].title),s(T,V),s(T,O);for(let n=0;n<3;n+=1)N[n]&&N[n].m(O,null);s(T,K),s(T,p),s(p,m),s(p,R);for(let n=0;n<3;n+=1)j[n]&&j[n].m(p,null);s(t,B),s(t,x),J.m(x,null),s(x,I),s(x,A),s(A,k),s(A,Z),s(A,S),X=!0,w.focus(),G||(pe=[Y(v,"click",r[31]),Y(w,"input",r[32]),Y(k,"click",r[35]),Y(S,"click",r[17])],G=!0)},p(b,U){if((!X||U[0]&32)&&i!==(i=b[5]?"Editar Tarea":"Nueva Tarea")&&ge(c,i),U[0]&128&&w.value!==b[7].title&&Se(w,b[7].title),U[0]&128){$=xe(["Hoy","Ma√±ana","Esta semana"]);let n;for(n=0;n<3;n+=1){const L=Ot(b,$,n);N[n]?N[n].p(L,U):(N[n]=Qt(L),N[n].c(),N[n].m(O,null))}for(;n<3;n+=1)N[n].d(1)}if(U[0]&128){y=xe([{id:"low",c:"bg-blue-500"},{id:"medium",c:"bg-yellow-500"},{id:"high",c:"bg-red-500"}]);let n;for(n=0;n<3;n+=1){const L=Pt(b,y,n);j[n]?j[n].p(L,U):(j[n]=Wt(L),j[n].c(),j[n].m(p,null))}for(;n<3;n+=1)j[n].d(1)}le===(le=D(b))&&J?J.p(b,U):(J.d(1),J=le(b),J&&(J.c(),J.m(x,I)))},i(b){X||(b&&(ie||st(()=>{ie=Yt(t,el,{start:.95}),ie.start()})),b&&st(()=>{X&&(te||(te=rt(e,nt,{},!0)),te.run(1))}),X=!0)},o(b){b&&(te||(te=rt(e,nt,{},!1)),te.run(0)),X=!1},d(b){b&&f(e),Oe(N,b),Oe(j,b),J.d(),b&&te&&te.end(),G=!1,Ue(pe)}}}function Qt(r){let e,t,l,o,i;function c(){return r[33](r[45])}return{c(){e=d("button"),t=ue(r[45]),this.h()},l(h){e=u(h,"BUTTON",{class:!0});var v=_(e);t=ce(v,r[45]),v.forEach(f),this.h()},h(){a(e,"class",l="px-3 py-1 bg-white/5 hover:bg-white/10 rounded-lg border border-transparent "+(r[7].dueDate===r[45]?"border-blue-500 text-blue-500":"")+" transition-colors")},m(h,v){F(h,e,v),s(e,t),o||(i=Y(e,"click",c),o=!0)},p(h,v){r=h,v[0]&128&&l!==(l="px-3 py-1 bg-white/5 hover:bg-white/10 rounded-lg border border-transparent "+(r[7].dueDate===r[45]?"border-blue-500 text-blue-500":"")+" transition-colors")&&a(e,"class",l)},d(h){h&&f(e),o=!1,i()}}}function Wt(r){let e,t,l,o;function i(){return r[34](r[42])}return{c(){e=d("button"),this.h()},l(c){e=u(c,"BUTTON",{class:!0}),_(e).forEach(f),this.h()},h(){a(e,"class",t="w-6 h-6 rounded-full "+r[42].c+" "+(r[7].priority===r[42].id?"ring-2 ring-white":"opacity-40 hover:opacity-100")+" transition-all")},m(c,h){F(c,e,h),l||(o=Y(e,"click",i),l=!0)},p(c,h){r=c,h[0]&128&&t!==(t="w-6 h-6 rounded-full "+r[42].c+" "+(r[7].priority===r[42].id?"ring-2 ring-white":"opacity-40 hover:opacity-100")+" transition-all")&&a(e,"class",t)},d(c){c&&f(e),l=!1,o()}}}function wl(r){let e;return{c(){e=d("div")},l(t){e=u(t,"DIV",{}),_(e).forEach(f)},m(t,l){F(t,e,l)},p:je,d(t){t&&f(e)}}}function yl(r){let e,t="Eliminar",l,o;return{c(){e=d("button"),e.textContent=t,this.h()},l(i){e=u(i,"BUTTON",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-httveu"&&(e.textContent=t),this.h()},h(){a(e,"class","text-red-400 text-sm hover:underline")},m(i,c){F(i,e,c),l||(o=Y(e,"click",r[18]),l=!0)},p:je,d(i){i&&f(e),l=!1,o()}}}function El(r){let e,t,l,o,i,c,h,v="Inicio",P,H,T="Panel de Control",w,V,O="Organiza tu vida y tu mente.",K,p,m,g,R,B,x,I,A,k,se=`<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"></path></svg>
                    Racha Total`,Z,S,ee,ie,te,X,G="H√°bitos",pe,$,N,y,j,D,le="Pendientes",J,b,U,n,L,oe,be="Completadas",ne,re,de,fe,ae,pt='<span class="w-2 h-2 rounded-full bg-green-500"></span> TUS H√ÅBITOS',at,ke,bt="+ A√±adir",it,De,ct,we,ye,Ie,_t='<span class="w-2 h-2 rounded-full bg-blue-500"></span> TUS TAREAS',ut,Ee,vt="+ A√±adir",dt,Ae,ft,Le,Ce,ht,mt;i=new dl({props:{size:"sm"}});function gt(M,q){return M[0].length===0?hl:fl}let ze=gt(r),_e=ze(r);function xt(M,q){return M[1].length===0?vl:_l}let qe=xt(r),ve=qe(r),Q=r[2]&&Kt(r),W=r[3]&&Jt(r);return{c(){e=d("div"),t=d("header"),l=d("div"),o=d("a"),al(i.$$.fragment),c=C(),h=d("span"),h.textContent=v,P=C(),H=d("h1"),H.textContent=T,w=C(),V=d("p"),V.textContent=O,K=C(),p=d("main"),m=d("div"),g=d("div"),R=d("div"),B=C(),x=d("span"),I=ue(r[9]),A=C(),k=d("span"),k.innerHTML=se,Z=C(),S=d("div"),ee=d("span"),ie=ue(r[11]),te=C(),X=d("span"),X.textContent=G,pe=C(),$=d("div"),N=d("span"),y=ue(r[10]),j=C(),D=d("span"),D.textContent=le,J=C(),b=d("div"),U=d("span"),n=ue(r[8]),L=C(),oe=d("span"),oe.textContent=be,ne=C(),re=d("div"),de=d("div"),fe=d("div"),ae=d("h2"),ae.innerHTML=pt,at=C(),ke=d("button"),ke.textContent=bt,it=C(),De=d("div"),_e.c(),ct=C(),we=d("div"),ye=d("div"),Ie=d("h2"),Ie.innerHTML=_t,ut=C(),Ee=d("button"),Ee.textContent=vt,dt=C(),Ae=d("div"),ve.c(),ft=C(),Q&&Q.c(),Le=C(),W&&W.c(),this.h()},l(M){e=u(M,"DIV",{class:!0});var q=_(e);t=u(q,"HEADER",{class:!0});var kt=_(t);l=u(kt,"DIV",{});var Ve=_(l);o=u(Ve,"A",{href:!0,class:!0});var Re=_(o);nl(i.$$.fragment,Re),c=E(Re),h=u(Re,"SPAN",{"data-svelte-h":!0}),z(h)!=="svelte-1wufv25"&&(h.textContent=v),Re.forEach(f),P=E(Ve),H=u(Ve,"H1",{class:!0,"data-svelte-h":!0}),z(H)!=="svelte-1o5auhz"&&(H.textContent=T),w=E(Ve),V=u(Ve,"P",{class:!0,"data-svelte-h":!0}),z(V)!=="svelte-11l5lg2"&&(V.textContent=O),Ve.forEach(f),kt.forEach(f),K=E(q),p=u(q,"MAIN",{class:!0});var Fe=_(p);m=u(Fe,"DIV",{class:!0});var Te=_(m);g=u(Te,"DIV",{class:!0});var Be=_(g);R=u(Be,"DIV",{class:!0}),_(R).forEach(f),B=E(Be),x=u(Be,"SPAN",{class:!0});var wt=_(x);I=ce(wt,r[9]),wt.forEach(f),A=E(Be),k=u(Be,"SPAN",{class:!0,"data-svelte-h":!0}),z(k)!=="svelte-y0ci1s"&&(k.innerHTML=se),Be.forEach(f),Z=E(Te),S=u(Te,"DIV",{class:!0});var Ge=_(S);ee=u(Ge,"SPAN",{class:!0});var yt=_(ee);ie=ce(yt,r[11]),yt.forEach(f),te=E(Ge),X=u(Ge,"SPAN",{class:!0,"data-svelte-h":!0}),z(X)!=="svelte-aki880"&&(X.textContent=G),Ge.forEach(f),pe=E(Te),$=u(Te,"DIV",{class:!0});var Ke=_($);N=u(Ke,"SPAN",{class:!0});var Et=_(N);y=ce(Et,r[10]),Et.forEach(f),j=E(Ke),D=u(Ke,"SPAN",{class:!0,"data-svelte-h":!0}),z(D)!=="svelte-x9wgpf"&&(D.textContent=le),Ke.forEach(f),J=E(Te),b=u(Te,"DIV",{class:!0});var Xe=_(b);U=u(Xe,"SPAN",{class:!0});var Ct=_(U);n=ce(Ct,r[8]),Ct.forEach(f),L=E(Xe),oe=u(Xe,"SPAN",{class:!0,"data-svelte-h":!0}),z(oe)!=="svelte-xmu5i1"&&(oe.textContent=be),Xe.forEach(f),Te.forEach(f),ne=E(Fe),re=u(Fe,"DIV",{class:!0});var Je=_(re);de=u(Je,"DIV",{class:!0});var Qe=_(de);fe=u(Qe,"DIV",{class:!0});var We=_(fe);ae=u(We,"H2",{class:!0,"data-svelte-h":!0}),z(ae)!=="svelte-1mj1wrc"&&(ae.innerHTML=pt),at=E(We),ke=u(We,"BUTTON",{class:!0,"data-svelte-h":!0}),z(ke)!=="svelte-1jhz8qi"&&(ke.textContent=bt),We.forEach(f),it=E(Qe),De=u(Qe,"DIV",{class:!0});var Tt=_(De);_e.l(Tt),Tt.forEach(f),Qe.forEach(f),ct=E(Je),we=u(Je,"DIV",{class:!0});var Ye=_(we);ye=u(Ye,"DIV",{class:!0});var Ze=_(ye);Ie=u(Ze,"H2",{class:!0,"data-svelte-h":!0}),z(Ie)!=="svelte-12zqe1d"&&(Ie.innerHTML=_t),ut=E(Ze),Ee=u(Ze,"BUTTON",{class:!0,"data-svelte-h":!0}),z(Ee)!=="svelte-br770k"&&(Ee.textContent=vt),Ze.forEach(f),dt=E(Ye),Ae=u(Ye,"DIV",{class:!0});var Dt=_(Ae);ve.l(Dt),Dt.forEach(f),Ye.forEach(f),Je.forEach(f),Fe.forEach(f),ft=E(q),Q&&Q.l(q),Le=E(q),W&&W.l(q),q.forEach(f),this.h()},h(){a(o,"href","/"),a(o,"class","inline-flex items-center gap-2 text-slate-500 hover:text-white mb-2 transition-colors text-xs font-medium uppercase tracking-wider"),a(H,"class","text-2xl md:text-3xl font-bold text-white"),a(V,"class","text-slate-400 text-sm"),a(t,"class","max-w-6xl mx-auto mb-8 flex justify-between items-center"),a(R,"class","absolute inset-0 bg-gradient-to-br from-orange-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"),a(x,"class","text-3xl font-bold text-white"),a(k,"class","text-xs text-orange-400 font-medium uppercase tracking-wider flex items-center gap-1"),a(g,"class","bg-[#1e293b] border border-white/5 p-4 rounded-xl flex flex-col items-center justify-center relative overflow-hidden group"),a(ee,"class","text-3xl font-bold text-green-400"),a(X,"class","text-xs text-slate-400 font-medium uppercase tracking-wider"),a(S,"class","bg-[#1e293b] border border-white/5 p-4 rounded-xl flex flex-col items-center justify-center"),a(N,"class","text-3xl font-bold text-blue-400"),a(D,"class","text-xs text-slate-400 font-medium uppercase tracking-wider"),a($,"class","bg-[#1e293b] border border-white/5 p-4 rounded-xl flex flex-col items-center justify-center"),a(U,"class","text-3xl font-bold text-purple-400"),a(oe,"class","text-xs text-slate-400 font-medium uppercase tracking-wider"),a(b,"class","bg-[#1e293b] border border-white/5 p-4 rounded-xl flex flex-col items-center justify-center"),a(m,"class","grid grid-cols-2 md:grid-cols-4 gap-4"),a(ae,"class","text-sm font-bold text-slate-300 uppercase tracking-widest flex items-center gap-2"),a(ke,"class","text-xs bg-green-500/20 text-green-400 hover:bg-green-500 hover:text-white px-3 py-1.5 rounded-lg transition-all font-bold flex items-center gap-1"),a(fe,"class","p-5 border-b border-white/5 flex justify-between items-center bg-black/10"),a(De,"class","p-4 space-y-3 flex-1 overflow-y-auto max-h-[500px]"),a(de,"class","bg-[#1e293b] border border-white/5 rounded-2xl overflow-hidden flex flex-col h-full min-h-[400px]"),a(Ie,"class","text-sm font-bold text-slate-300 uppercase tracking-widest flex items-center gap-2"),a(Ee,"class","text-xs bg-blue-500/20 text-blue-400 hover:bg-blue-500 hover:text-white px-3 py-1.5 rounded-lg transition-all font-bold flex items-center gap-1"),a(ye,"class","p-5 border-b border-white/5 flex justify-between items-center bg-black/10"),a(Ae,"class","p-4 space-y-3 flex-1 overflow-y-auto max-h-[500px]"),a(we,"class","bg-[#1e293b] border border-white/5 rounded-2xl overflow-hidden flex flex-col h-full min-h-[400px]"),a(re,"class","grid md:grid-cols-2 gap-6"),a(p,"class","max-w-6xl mx-auto space-y-6"),a(e,"class","min-h-screen bg-[#0B1120] text-slate-200 font-poppins selection:bg-orange-500/30 p-4 md:p-8 pb-32")},m(M,q){F(M,e,q),s(e,t),s(t,l),s(l,o),ol(i,o,null),s(o,c),s(o,h),s(l,P),s(l,H),s(l,w),s(l,V),s(e,K),s(e,p),s(p,m),s(m,g),s(g,R),s(g,B),s(g,x),s(x,I),s(g,A),s(g,k),s(m,Z),s(m,S),s(S,ee),s(ee,ie),s(S,te),s(S,X),s(m,pe),s(m,$),s($,N),s(N,y),s($,j),s($,D),s(m,J),s(m,b),s(b,U),s(U,n),s(b,L),s(b,oe),s(p,ne),s(p,re),s(re,de),s(de,fe),s(fe,ae),s(fe,at),s(fe,ke),s(de,it),s(de,De),_e.m(De,null),s(re,ct),s(re,we),s(we,ye),s(ye,Ie),s(ye,ut),s(ye,Ee),s(we,dt),s(we,Ae),ve.m(Ae,null),s(e,ft),Q&&Q.m(e,null),s(e,Le),W&&W.m(e,null),Ce=!0,ht||(mt=[Y(ke,"click",r[20]),Y(Ee,"click",r[23])],ht=!0)},p(M,q){(!Ce||q[0]&512)&&ge(I,M[9]),(!Ce||q[0]&2048)&&ge(ie,M[11]),(!Ce||q[0]&1024)&&ge(y,M[10]),(!Ce||q[0]&256)&&ge(n,M[8]),ze===(ze=gt(M))&&_e?_e.p(M,q):(_e.d(1),_e=ze(M),_e&&(_e.c(),_e.m(De,null))),qe===(qe=xt(M))&&ve?ve.p(M,q):(ve.d(1),ve=qe(M),ve&&(ve.c(),ve.m(Ae,null))),M[2]?Q?(Q.p(M,q),q[0]&4&&Ne(Q,1)):(Q=Kt(M),Q.c(),Ne(Q,1),Q.m(e,Le)):Q&&(Ht(),Me(Q,1,1,()=>{Q=null}),It()),M[3]?W?(W.p(M,q),q[0]&8&&Ne(W,1)):(W=Jt(M),W.c(),Ne(W,1),W.m(e,null)):W&&(Ht(),Me(W,1,1,()=>{W=null}),It())},i(M){Ce||(Ne(i.$$.fragment,M),Ne(Q),Ne(W),Ce=!0)},o(M){Me(i.$$.fragment,M),Me(Q),Me(W),Ce=!1},d(M){M&&f(e),sl(i),_e.d(),ve.d(),Q&&Q.d(),W&&W.d(),ht=!1,Ue(mt)}}}function Cl(r,e,t){let l,o,i,c,h;il(r,ul,n=>t(37,h=n));let v=[],P=[],H=!1,T=!1,w=null,V=null;const O={title:"",frequency:"A diario",color:"orange",notes:""},K={title:"",dueDate:"Hoy",priority:"none",notes:""};let p={...O},m={...K};async function g(){if(h.user)try{const n=Vt(et(me,"habits"),Bt("userId","==",h.user.uid)),L=await St(n);t(0,v=L.docs.map(ne=>({id:ne.id,...ne.data()})).sort((ne,re)=>(re.createdAt?.seconds||0)-(ne.createdAt?.seconds||0)));const oe=Vt(et(me,"tasks"),Bt("userId","==",h.user.uid)),be=await St(oe);t(1,P=be.docs.map(ne=>({id:ne.id,...ne.data()})).sort((ne,re)=>(re.createdAt?.seconds||0)-(ne.createdAt?.seconds||0)))}catch(n){console.error("Error loading data",n)}finally{}}cl(()=>{h.user&&(g(),tt(h.user.uid))});function R(n=null){n?(t(4,w=n),t(6,p={...n})):(t(4,w=null),t(6,p={...O})),t(2,H=!0)}async function B(){if(!(!p.title.trim()||!h.user))try{w?(await Pe(He(me,"habits",w.id),{...p}),he.success("H√°bito actualizado")):(await jt(et(me,"habits"),{userId:h.user.uid,...p,streak:0,createdAt:lt()}),he.success("H√°bito creado"),tt(h.user.uid)),t(2,H=!1),g()}catch{he.error("Error al guardar")}}async function x(){if(!(!w||!confirm("¬øEliminar este h√°bito?")))try{await Mt(He(me,"habits",w.id)),he.success("Eliminado"),t(2,H=!1),g()}catch{he.error("Error al eliminar")}}async function I(n){n.streak=(n.streak||0)+1,t(0,v);try{await Pe(He(me,"habits",n.id),{streak:$t(1),lastCompleted:lt()}),he.success("¬°Bien hecho! +1 Racha"),h.user&&tt(h.user.uid)}catch{n.streak-=1,he.error("Error")}}function A(n=null){n?(t(5,V=n),t(7,m={...n})):(t(5,V=null),t(7,m={...K})),t(3,T=!0)}async function k(){if(!(!m.title.trim()||!h.user))try{V?(await Pe(He(me,"tasks",V.id),{...m}),he.success("Tarea actualizada")):(await jt(et(me,"tasks"),{userId:h.user.uid,...m,completed:!1,createdAt:lt()}),he.success("Tarea a√±adida")),t(3,T=!1),g()}catch{he.error("Error al guardar")}}async function se(){if(!(!V||!confirm("¬øEliminar esta tarea?")))try{await Mt(He(me,"tasks",V.id)),he.success("Eliminada"),t(3,T=!1),g()}catch{he.error("Error al eliminar")}}async function Z(n){n.completed=!n.completed,t(1,P);try{await Pe(He(me,"tasks",n.id),{completed:n.completed}),n.completed&&h.user&&tt(h.user.uid)}catch{n.completed=!n.completed}}const S=()=>R(null),ee=n=>R(n),ie=n=>I(n),te=()=>A(null),X=n=>Z(n),G=n=>A(n),pe=()=>t(2,H=!1);function $(){p.title=this.value,t(6,p)}const N=n=>t(6,p.frequency=n,p);function y(){p.notes=this.value,t(6,p)}const j=()=>t(2,H=!1),D=()=>t(3,T=!1);function le(){m.title=this.value,t(7,m)}const J=n=>t(7,m.dueDate=n,m),b=n=>t(7,m.priority=n.id,m),U=()=>t(3,T=!1);return r.$$.update=()=>{r.$$.dirty[0]&1&&t(11,l=v.length),r.$$.dirty[0]&2&&t(10,o=P.filter(n=>!n.completed).length),r.$$.dirty[0]&1&&t(9,i=v.reduce((n,L)=>n+(L.streak||0),0)),r.$$.dirty[0]&2&&t(8,c=P.filter(n=>n.completed).length)},[v,P,H,T,w,V,p,m,c,i,o,l,R,B,x,I,A,k,se,Z,S,ee,ie,te,X,G,pe,$,N,y,j,D,le,J,b,U]}class Sl extends tl{constructor(e){super(),ll(this,e,Cl,El,rl,{},null,[-1,-1])}}export{Sl as component};
