import{n as Y,a1 as gn,aa as vn,ab as bn,ac as wn,ad as _n,a8 as yn,ae as St,S as et,i as nt,s as rt,d as g,b as O,e as ht,f as J,o as ce,y as Q,v,g as f,h as T,q as k,B as P,k as E,D as F,z as xn,M as Dt,F as U,a6 as ee,_ as _t,T as Bt,A as gt,Q as Xe,C as vt,E as bt,j as tt,L as Ut,O as qt,w as X,x as K,t as j,a as $,r as yt,c as xt,P as kn,G as it,H as ot,J as st,K as lt,W as Tn,af as En,U as Cn,l as An,u as Sn,m as Mn,p as Vn}from"../chunks/C6etf3KI.js";import"../chunks/IHki7fMi.js";import{w as Ke,r as Dn}from"../chunks/Dmpml9mb.js";import{p as Ye}from"../chunks/LovyogfJ.js";import{e as Xt,u as Ln,f as In}from"../chunks/SWtz04H7.js";import{a as Z,t as ie,c as Ge,n as jt,d as Rn,e as On,s as Pn,f as ve,i as Fn}from"../chunks/Da4qeRU0.js";import{a as be}from"../chunks/CDT-Vlvc.js";import{c as Bn,f as oe,s as we,a as Pt}from"../chunks/DsY9fEJy.js";import{g as Ze}from"../chunks/C3wcvxbl.js";import{f as zn,i as Nn,t as _e}from"../chunks/BvRaySwp.js";import{n as ye}from"../chunks/Cg4RV2pA.js";import{u as Je}from"../chunks/C9UhFrXA.js";import{s as Qe,b as tn,d as en}from"../chunks/CSpmTaba.js";import{t as $n}from"../chunks/B8vMQxiv.js";/* empty css                */import{b as Hn}from"../chunks/oVNpCzuw.js";function Wn(r,t,e,n){if(!t)return Y;const i=r.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return Y;const{delay:a=0,duration:o=300,easing:l=gn,start:s=vn()+a,end:c=s+o,tick:u=Y,css:d}=e(r,{from:t,to:i},n);let m=!0,h=!1,b;function _(){d&&(b=_n(r,0,1,o,a,l,d)),a||(h=!0)}function p(){d&&wn(r,b),m=!1}return bn(w=>{if(!h&&w>=s&&(h=!0),h&&w>=c&&(u(1,0),p()),!m)return!1;if(h){const x=w-s,C=0+1*l(x/o);u(C,1-C)}return!0}),_(),u(0,1),p}function jn(r){const t=getComputedStyle(r);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:e,height:n}=t,i=r.getBoundingClientRect();r.style.position="absolute",r.style.width=e,r.style.height=n,nn(r,i)}}function nn(r,t){const e=r.getBoundingClientRect();if(t.left!==e.left||t.top!==e.top){const n=getComputedStyle(r),i=n.transform==="none"?"":n.transform;r.style.transform=`${i} translate(${t.left-e.left}px, ${t.top-e.top}px)`}}const Mt=Math.min,Tt=Math.max,Kt=Math.round,Ht=Math.floor,dt=r=>({x:r,y:r}),Un={left:"right",right:"left",bottom:"top",top:"bottom"},qn={start:"end",end:"start"};function se(r,t,e){return Tt(r,Mt(t,e))}function zt(r,t){return typeof r=="function"?r(t):r}function Et(r){return r.split("-")[0]}function Nt(r){return r.split("-")[1]}function rn(r){return r==="x"?"y":"x"}function ue(r){return r==="y"?"height":"width"}const Xn=new Set(["top","bottom"]);function wt(r){return Xn.has(Et(r))?"y":"x"}function fe(r){return rn(wt(r))}function Kn(r,t,e){e===void 0&&(e=!1);const n=Nt(r),i=fe(r),a=ue(i);let o=i==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Yt(o)),[o,Yt(o)]}function Yn(r){const t=Yt(r);return[le(r),t,le(t)]}function le(r){return r.replace(/start|end/g,t=>qn[t])}const xe=["left","right"],ke=["right","left"],Gn=["top","bottom"],Zn=["bottom","top"];function Jn(r,t,e){switch(r){case"top":case"bottom":return e?t?ke:xe:t?xe:ke;case"left":case"right":return t?Gn:Zn;default:return[]}}function Qn(r,t,e,n){const i=Nt(r);let a=Jn(Et(r),e==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(le)))),a}function Yt(r){return r.replace(/left|right|bottom|top/g,t=>Un[t])}function tr(r){return{top:0,right:0,bottom:0,left:0,...r}}function on(r){return typeof r!="number"?tr(r):{top:r,right:r,bottom:r,left:r}}function Gt(r){const{x:t,y:e,width:n,height:i}=r;return{width:n,height:i,top:e,left:t,right:t+n,bottom:e+i,x:t,y:e}}function Te(r,t,e){let{reference:n,floating:i}=r;const a=wt(t),o=fe(t),l=ue(o),s=Et(t),c=a==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,m=n[l]/2-i[l]/2;let h;switch(s){case"top":h={x:u,y:n.y-i.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:d};break;case"left":h={x:n.x-i.width,y:d};break;default:h={x:n.x,y:n.y}}switch(Nt(t)){case"start":h[o]-=m*(e&&c?-1:1);break;case"end":h[o]+=m*(e&&c?-1:1);break}return h}const er=async(r,t,e)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=e,l=a.filter(Boolean),s=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:r,floating:t,strategy:i}),{x:u,y:d}=Te(c,n,s),m=n,h={},b=0;for(let _=0;_<l.length;_++){const{name:p,fn:w}=l[_],{x,y:C,data:R,reset:A}=await w({x:u,y:d,initialPlacement:n,placement:m,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:r,floating:t}});u=x??u,d=C??d,h={...h,[p]:{...h[p],...R}},A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(c=A.rects===!0?await o.getElementRects({reference:r,floating:t,strategy:i}):A.rects),{x:u,y:d}=Te(c,m,s)),_=-1)}return{x:u,y:d,placement:m,strategy:i,middlewareData:h}};async function sn(r,t){var e;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:s}=r,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:m=!1,padding:h=0}=zt(t,r),b=on(h),p=l[m?d==="floating"?"reference":"floating":d],w=Gt(await a.getClippingRect({element:(e=await(a.isElement==null?void 0:a.isElement(p)))==null||e?p:p.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:s})),x=d==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),R=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},A=Gt(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:C,strategy:s}):x);return{top:(w.top-A.top+b.top)/R.y,bottom:(A.bottom-w.bottom+b.bottom)/R.y,left:(w.left-A.left+b.left)/R.x,right:(A.right-w.right+b.right)/R.x}}const nr=r=>({name:"arrow",options:r,async fn(t){const{x:e,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:s}=t,{element:c,padding:u=0}=zt(r,t)||{};if(c==null)return{};const d=on(u),m={x:e,y:n},h=fe(i),b=ue(h),_=await o.getDimensions(c),p=h==="y",w=p?"top":"left",x=p?"bottom":"right",C=p?"clientHeight":"clientWidth",R=a.reference[b]+a.reference[h]-m[h]-a.floating[b],A=m[h]-a.reference[h],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let y=M?M[C]:0;(!y||!await(o.isElement==null?void 0:o.isElement(M)))&&(y=l.floating[C]||a.floating[b]);const L=R/2-A/2,I=y/2-_[b]/2-1,S=Mt(d[w],I),V=Mt(d[x],I),z=S,q=y-_[b]-V,D=y/2-_[b]/2+L,N=se(z,D,q),B=!s.arrow&&Nt(i)!=null&&D!==N&&a.reference[b]/2-(D<z?S:V)-_[b]/2<0,H=B?D<z?D-z:D-q:0;return{[h]:m[h]+H,data:{[h]:N,centerOffset:D-N-H,...B&&{alignmentOffset:H}},reset:B}}}),rr=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(t){var e,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:s,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:_=!0,...p}=zt(r,t);if((e=a.arrow)!=null&&e.alignmentOffset)return{};const w=Et(i),x=wt(l),C=Et(l)===l,R=await(s.isRTL==null?void 0:s.isRTL(c.floating)),A=m||(C||!_?[Yt(l)]:Yn(l)),M=b!=="none";!m&&M&&A.push(...Qn(l,_,b,R));const y=[l,...A],L=await sn(t,p),I=[];let S=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&I.push(L[w]),d){const D=Kn(i,o,R);I.push(L[D[0]],L[D[1]])}if(S=[...S,{placement:i,overflows:I}],!I.every(D=>D<=0)){var V,z;const D=(((V=a.flip)==null?void 0:V.index)||0)+1,N=y[D];if(N&&(!(d==="alignment"?x!==wt(N):!1)||S.every(W=>wt(W.placement)===x?W.overflows[0]>0:!0)))return{data:{index:D,overflows:S},reset:{placement:N}};let B=(z=S.filter(H=>H.overflows[0]<=0).sort((H,W)=>H.overflows[1]-W.overflows[1])[0])==null?void 0:z.placement;if(!B)switch(h){case"bestFit":{var q;const H=(q=S.filter(W=>{if(M){const G=wt(W.placement);return G===x||G==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(G=>G>0).reduce((G,ct)=>G+ct,0)]).sort((W,G)=>W[1]-G[1])[0])==null?void 0:q[0];H&&(B=H);break}case"initialPlacement":B=l;break}if(i!==B)return{reset:{placement:B}}}return{}}}},ir=new Set(["left","top"]);async function or(r,t){const{placement:e,platform:n,elements:i}=r,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Et(e),l=Nt(e),s=wt(e)==="y",c=ir.has(o)?-1:1,u=a&&s?-1:1,d=zt(t,r);let{mainAxis:m,crossAxis:h,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof b=="number"&&(h=l==="end"?b*-1:b),s?{x:h*u,y:m*c}:{x:m*c,y:h*u}}const sr=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(t){var e,n;const{x:i,y:a,placement:o,middlewareData:l}=t,s=await or(t,r);return o===((e=l.offset)==null?void 0:e.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+s.x,y:a+s.y,data:{...s,placement:o}}}}},lr=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(t){const{x:e,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:p=>{let{x:w,y:x}=p;return{x:w,y:x}}},...s}=zt(r,t),c={x:e,y:n},u=await sn(t,s),d=wt(Et(i)),m=rn(d);let h=c[m],b=c[d];if(a){const p=m==="y"?"top":"left",w=m==="y"?"bottom":"right",x=h+u[p],C=h-u[w];h=se(x,h,C)}if(o){const p=d==="y"?"top":"left",w=d==="y"?"bottom":"right",x=b+u[p],C=b-u[w];b=se(x,b,C)}const _=l.fn({...t,[m]:h,[d]:b});return{..._,data:{x:_.x-e,y:_.y-n,enabled:{[m]:a,[d]:o}}}}}};function Zt(){return typeof window<"u"}function Lt(r){return ln(r)?(r.nodeName||"").toLowerCase():"#document"}function at(r){var t;return(r==null||(t=r.ownerDocument)==null?void 0:t.defaultView)||window}function pt(r){var t;return(t=(ln(r)?r.ownerDocument:r.document)||window.document)==null?void 0:t.documentElement}function ln(r){return Zt()?r instanceof Node||r instanceof at(r).Node:!1}function ut(r){return Zt()?r instanceof Element||r instanceof at(r).Element:!1}function mt(r){return Zt()?r instanceof HTMLElement||r instanceof at(r).HTMLElement:!1}function Ee(r){return!Zt()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof at(r).ShadowRoot}const ar=new Set(["inline","contents"]);function $t(r){const{overflow:t,overflowX:e,overflowY:n,display:i}=ft(r);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!ar.has(i)}const cr=new Set(["table","td","th"]);function ur(r){return cr.has(Lt(r))}const fr=[":popover-open",":modal"];function Jt(r){return fr.some(t=>{try{return r.matches(t)}catch{return!1}})}const dr=["transform","translate","scale","rotate","perspective"],hr=["transform","translate","scale","rotate","perspective","filter"],mr=["paint","layout","strict","content"];function de(r){const t=he(),e=ut(r)?ft(r):r;return dr.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||hr.some(n=>(e.willChange||"").includes(n))||mr.some(n=>(e.contain||"").includes(n))}function pr(r){let t=kt(r);for(;mt(t)&&!Vt(t);){if(de(t))return t;if(Jt(t))return null;t=kt(t)}return null}function he(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gr=new Set(["html","body","#document"]);function Vt(r){return gr.has(Lt(r))}function ft(r){return at(r).getComputedStyle(r)}function Qt(r){return ut(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function kt(r){if(Lt(r)==="html")return r;const t=r.assignedSlot||r.parentNode||Ee(r)&&r.host||pt(r);return Ee(t)?t.host:t}function an(r){const t=kt(r);return Vt(t)?r.ownerDocument?r.ownerDocument.body:r.body:mt(t)&&$t(t)?t:an(t)}function Ft(r,t,e){var n;t===void 0&&(t=[]),e===void 0&&(e=!0);const i=an(r),a=i===((n=r.ownerDocument)==null?void 0:n.body),o=at(i);if(a){const l=ae(o);return t.concat(o,o.visualViewport||[],$t(i)?i:[],l&&e?Ft(l):[])}return t.concat(i,Ft(i,[],e))}function ae(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function cn(r){const t=ft(r);let e=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=mt(r),a=i?r.offsetWidth:e,o=i?r.offsetHeight:n,l=Kt(e)!==a||Kt(n)!==o;return l&&(e=a,n=o),{width:e,height:n,$:l}}function me(r){return ut(r)?r:r.contextElement}function At(r){const t=me(r);if(!mt(t))return dt(1);const e=t.getBoundingClientRect(),{width:n,height:i,$:a}=cn(t);let o=(a?Kt(e.width):e.width)/n,l=(a?Kt(e.height):e.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const vr=dt(0);function un(r){const t=at(r);return!he()||!t.visualViewport?vr:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function br(r,t,e){return t===void 0&&(t=!1),!e||t&&e!==at(r)?!1:t}function Ct(r,t,e,n){t===void 0&&(t=!1),e===void 0&&(e=!1);const i=r.getBoundingClientRect(),a=me(r);let o=dt(1);t&&(n?ut(n)&&(o=At(n)):o=At(r));const l=br(a,e,n)?un(a):dt(0);let s=(i.left+l.x)/o.x,c=(i.top+l.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){const m=at(a),h=n&&ut(n)?at(n):n;let b=m,_=ae(b);for(;_&&n&&h!==b;){const p=At(_),w=_.getBoundingClientRect(),x=ft(_),C=w.left+(_.clientLeft+parseFloat(x.paddingLeft))*p.x,R=w.top+(_.clientTop+parseFloat(x.paddingTop))*p.y;s*=p.x,c*=p.y,u*=p.x,d*=p.y,s+=C,c+=R,b=at(_),_=ae(b)}}return Gt({width:u,height:d,x:s,y:c})}function te(r,t){const e=Qt(r).scrollLeft;return t?t.left+e:Ct(pt(r)).left+e}function fn(r,t){const e=r.getBoundingClientRect(),n=e.left+t.scrollLeft-te(r,e),i=e.top+t.scrollTop;return{x:n,y:i}}function wr(r){let{elements:t,rect:e,offsetParent:n,strategy:i}=r;const a=i==="fixed",o=pt(n),l=t?Jt(t.floating):!1;if(n===o||l&&a)return e;let s={scrollLeft:0,scrollTop:0},c=dt(1);const u=dt(0),d=mt(n);if((d||!d&&!a)&&((Lt(n)!=="body"||$t(o))&&(s=Qt(n)),mt(n))){const h=Ct(n);c=At(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const m=o&&!d&&!a?fn(o,s):dt(0);return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-s.scrollLeft*c.x+u.x+m.x,y:e.y*c.y-s.scrollTop*c.y+u.y+m.y}}function _r(r){return Array.from(r.getClientRects())}function yr(r){const t=pt(r),e=Qt(r),n=r.ownerDocument.body,i=Tt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Tt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-e.scrollLeft+te(r);const l=-e.scrollTop;return ft(n).direction==="rtl"&&(o+=Tt(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}const Ce=25;function xr(r,t){const e=at(r),n=pt(r),i=e.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,s=0;if(i){a=i.width,o=i.height;const u=he();(!u||u&&t==="fixed")&&(l=i.offsetLeft,s=i.offsetTop)}const c=te(n);if(c<=0){const u=n.ownerDocument,d=u.body,m=getComputedStyle(d),h=u.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(n.clientWidth-d.clientWidth-h);b<=Ce&&(a-=b)}else c<=Ce&&(a+=c);return{width:a,height:o,x:l,y:s}}const kr=new Set(["absolute","fixed"]);function Tr(r,t){const e=Ct(r,!0,t==="fixed"),n=e.top+r.clientTop,i=e.left+r.clientLeft,a=mt(r)?At(r):dt(1),o=r.clientWidth*a.x,l=r.clientHeight*a.y,s=i*a.x,c=n*a.y;return{width:o,height:l,x:s,y:c}}function Ae(r,t,e){let n;if(t==="viewport")n=xr(r,e);else if(t==="document")n=yr(pt(r));else if(ut(t))n=Tr(t,e);else{const i=un(r);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Gt(n)}function dn(r,t){const e=kt(r);return e===t||!ut(e)||Vt(e)?!1:ft(e).position==="fixed"||dn(e,t)}function Er(r,t){const e=t.get(r);if(e)return e;let n=Ft(r,[],!1).filter(l=>ut(l)&&Lt(l)!=="body"),i=null;const a=ft(r).position==="fixed";let o=a?kt(r):r;for(;ut(o)&&!Vt(o);){const l=ft(o),s=de(o);!s&&l.position==="fixed"&&(i=null),(a?!s&&!i:!s&&l.position==="static"&&!!i&&kr.has(i.position)||$t(o)&&!s&&dn(r,o))?n=n.filter(u=>u!==o):i=l,o=kt(o)}return t.set(r,n),n}function Cr(r){let{element:t,boundary:e,rootBoundary:n,strategy:i}=r;const o=[...e==="clippingAncestors"?Jt(t)?[]:Er(t,this._c):[].concat(e),n],l=o[0],s=o.reduce((c,u)=>{const d=Ae(t,u,i);return c.top=Tt(d.top,c.top),c.right=Mt(d.right,c.right),c.bottom=Mt(d.bottom,c.bottom),c.left=Tt(d.left,c.left),c},Ae(t,l,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Ar(r){const{width:t,height:e}=cn(r);return{width:t,height:e}}function Sr(r,t,e){const n=mt(t),i=pt(t),a=e==="fixed",o=Ct(r,!0,a,t);let l={scrollLeft:0,scrollTop:0};const s=dt(0);function c(){s.x=te(i)}if(n||!n&&!a)if((Lt(t)!=="body"||$t(i))&&(l=Qt(t)),n){const h=Ct(t,!0,a,t);s.x=h.x+t.clientLeft,s.y=h.y+t.clientTop}else i&&c();a&&!n&&i&&c();const u=i&&!n&&!a?fn(i,l):dt(0),d=o.left+l.scrollLeft-s.x-u.x,m=o.top+l.scrollTop-s.y-u.y;return{x:d,y:m,width:o.width,height:o.height}}function ne(r){return ft(r).position==="static"}function Se(r,t){if(!mt(r)||ft(r).position==="fixed")return null;if(t)return t(r);let e=r.offsetParent;return pt(r)===e&&(e=e.ownerDocument.body),e}function hn(r,t){const e=at(r);if(Jt(r))return e;if(!mt(r)){let i=kt(r);for(;i&&!Vt(i);){if(ut(i)&&!ne(i))return i;i=kt(i)}return e}let n=Se(r,t);for(;n&&ur(n)&&ne(n);)n=Se(n,t);return n&&Vt(n)&&ne(n)&&!de(n)?e:n||pr(r)||e}const Mr=async function(r){const t=this.getOffsetParent||hn,e=this.getDimensions,n=await e(r.floating);return{reference:Sr(r.reference,await t(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Vr(r){return ft(r).direction==="rtl"}const Dr={convertOffsetParentRelativeRectToViewportRelativeRect:wr,getDocumentElement:pt,getClippingRect:Cr,getOffsetParent:hn,getElementRects:Mr,getClientRects:_r,getDimensions:Ar,getScale:At,isElement:ut,isRTL:Vr};function mn(r,t){return r.x===t.x&&r.y===t.y&&r.width===t.width&&r.height===t.height}function Lr(r,t){let e=null,n;const i=pt(r);function a(){var l;clearTimeout(n),(l=e)==null||l.disconnect(),e=null}function o(l,s){l===void 0&&(l=!1),s===void 0&&(s=1),a();const c=r.getBoundingClientRect(),{left:u,top:d,width:m,height:h}=c;if(l||t(),!m||!h)return;const b=Ht(d),_=Ht(i.clientWidth-(u+m)),p=Ht(i.clientHeight-(d+h)),w=Ht(u),C={rootMargin:-b+"px "+-_+"px "+-p+"px "+-w+"px",threshold:Tt(0,Mt(1,s))||1};let R=!0;function A(M){const y=M[0].intersectionRatio;if(y!==s){if(!R)return o();y?o(!1,y):n=setTimeout(()=>{o(!1,1e-7)},1e3)}y===1&&!mn(c,r.getBoundingClientRect())&&o(),R=!1}try{e=new IntersectionObserver(A,{...C,root:i.ownerDocument})}catch{e=new IntersectionObserver(A,C)}e.observe(r)}return o(!0),a}function Ir(r,t,e,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:s=!1}=n,c=me(r),u=i||a?[...c?Ft(c):[],...Ft(t)]:[];u.forEach(w=>{i&&w.addEventListener("scroll",e,{passive:!0}),a&&w.addEventListener("resize",e)});const d=c&&l?Lr(c,e):null;let m=-1,h=null;o&&(h=new ResizeObserver(w=>{let[x]=w;x&&x.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var C;(C=h)==null||C.observe(t)})),e()}),c&&!s&&h.observe(c),h.observe(t));let b,_=s?Ct(r):null;s&&p();function p(){const w=Ct(r);_&&!mn(_,w)&&e(),_=w,b=requestAnimationFrame(p)}return e(),()=>{var w;u.forEach(x=>{i&&x.removeEventListener("scroll",e),a&&x.removeEventListener("resize",e)}),d?.(),(w=h)==null||w.disconnect(),h=null,s&&cancelAnimationFrame(b)}}const Rr=sr,Or=lr,Pr=rr,Fr=nr,Br=(r,t,e)=>{const n=new Map,i={platform:Dr,...e},a={...i.platform,_c:n};return er(r,t,{...i,platform:a})},zr=Ke(void 0),re={};function Me(r){return r==="local"?localStorage:sessionStorage}function pe(r,t,e){const n=JSON,i="local";function a(o,l){Me(i).setItem(o,n.stringify(l))}if(!re[r]){const o=Ke(t,c=>{const u=Me(i).getItem(r);u&&c(n.parse(u));{const d=m=>{m.key===r&&c(m.newValue?n.parse(m.newValue):null)};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)}}),{subscribe:l,set:s}=o;re[r]={set(c){a(r,c),s(c)},update(c){const u=c(yn(o));a(r,u),s(u)},subscribe:l}}return re[r]}pe("modeOsPrefers",!1);pe("modeUserPrefers",void 0);pe("modeCurrent",!1);const pn="(prefers-reduced-motion: reduce)";function Nr(){return window.matchMedia(pn).matches}Dn(Nr(),r=>{{const t=n=>{r(n.matches)},e=window.matchMedia(pn);return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}}});function $r(r,{from:t,to:e},n={}){const i=getComputedStyle(r),a=i.transform==="none"?"":i.transform,[o,l]=i.transformOrigin.split(" ").map(parseFloat),s=t.left+t.width*o/e.width-(e.left+o),c=t.top+t.height*l/e.height-(e.top+l),{delay:u=0,duration:d=h=>Math.sqrt(h)*120,easing:m=Bn}=n;return{delay:u,duration:St(d)?d(Math.sqrt(s*s+c*c)):d,easing:m,css:(h,b)=>{const _=b*s,p=b*c,w=h+b*t.width/e.width,x=h+b*t.height/e.height;return`transform: ${a} translate(${_}px, ${p}px) scale(${w}, ${x});`}}}function Ve(r,t,e){const n=r.slice();return n[8]=t[e],n}function De(r){let t,e,n,i,a,o,l,s=r[2]&&Le(r);return{c(){t=E("div"),e=E("div"),n=F(),s&&s.c(),i=F(),a=E("div"),o=F(),l=E("div"),this.h()},l(c){t=T(c,"DIV",{class:!0});var u=k(t);e=T(u,"DIV",{class:!0,style:!0}),k(e).forEach(g),n=P(u),s&&s.l(u),i=P(u),a=T(u,"DIV",{class:!0}),k(a).forEach(g),o=P(u),l=T(u,"DIV",{class:!0}),k(l).forEach(g),u.forEach(g),this.h()},h(){f(e,"class","absolute inset-0 bg-cover bg-center animate-ken-burns opacity-60 transition-all duration-1000 svelte-1yijs4b"),Q(e,"background-image","url('"+r[3]+"')"),Q(e,"will-change","transform"),f(a,"class","absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-black/60 pointer-events-none mix-blend-multiply"),f(l,"class","absolute inset-0 bg-primary-900/10 pointer-events-none mix-blend-overlay"),f(t,"class","fixed inset-0 -z-10 overflow-hidden bg-black")},m(c,u){O(c,t,u),v(t,e),v(t,n),s&&s.m(t,null),v(t,i),v(t,a),v(t,o),v(t,l)},p(c,u){u&8&&Q(e,"background-image","url('"+c[3]+"')"),c[2]?s?s.p(c,u):(s=Le(c),s.c(),s.m(t,i)):s&&(s.d(1),s=null)},d(c){c&&g(t),s&&s.d()}}}function Le(r){let t,e=Xt(r[0]),n=[];for(let i=0;i<e.length;i+=1)n[i]=Ie(Ve(r,e,i));return{c(){t=E("div");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){t=T(i,"DIV",{class:!0});var a=k(t);for(let o=0;o<n.length;o+=1)n[o].l(a);a.forEach(g),this.h()},h(){f(t,"class","absolute inset-0 pointer-events-none opacity-40 transition-opacity duration-500")},m(i,a){O(i,t,a);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,a){if(a&1){e=Xt(i[0]);let o;for(o=0;o<e.length;o+=1){const l=Ve(i,e,o);n[o]?n[o].p(l,a):(n[o]=Ie(l),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=e.length}},d(i){i&&g(t),xn(n,i)}}}function Ie(r){let t;return{c(){t=E("div"),this.h()},l(e){t=T(e,"DIV",{class:!0,style:!0}),k(t).forEach(g),this.h()},h(){f(t,"class","absolute top-[-10px] w-[1px] h-[15px] bg-white/50 animate-rain svelte-1yijs4b"),Q(t,"left",r[8].left+"%"),Q(t,"animation-delay",r[8].delay+"s"),Q(t,"animation-duration",r[8].duration+"s"),Q(t,"will-change","transform")},m(e,n){O(e,t,n)},p(e,n){n&1&&Q(t,"left",e[8].left+"%"),n&1&&Q(t,"animation-delay",e[8].delay+"s"),n&1&&Q(t,"animation-duration",e[8].duration+"s")},d(e){e&&g(t)}}}function Hr(r){let t,e=r[1]&&De(r);return{c(){e&&e.c(),t=ht()},l(n){e&&e.l(n),t=ht()},m(n,i){e&&e.m(n,i),O(n,t,i)},p(n,[i]){n[1]?e?e.p(n,i):(e=De(n),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:Y,o:Y,d(n){n&&g(t),e&&e.d(n)}}}function Wr(r,t,e){let n,i,a,o,l;J(r,Ye,d=>e(4,o=d)),J(r,Z,d=>e(5,l=d));const s={noir:"/assets/images/backgrounds/lofi-study.png",library:"/assets/images/backgrounds/library.png",zen:"/assets/images/backgrounds/zen-garden.png"};let c=[],u=!1;return ce(()=>{u=window.innerWidth<768;const d=u?50:75;e(0,c=Array.from({length:d},()=>({left:Math.random()*100,delay:Math.random()*2,duration:.5+Math.random()*.5})))}),r.$$.update=()=>{r.$$.dirty&32&&e(3,n=l.activeVibe==="custom"?s.noir:s[l.activeVibe]),r.$$.dirty&32&&e(2,i=l.currentAmbience==="rain"),r.$$.dirty&16&&e(1,a=o.url.pathname.startsWith("/app"))},[c,a,i,n,o,l]}class jr extends et{constructor(t){super(),nt(this,t,Wr,Hr,rt,{})}}function Ur(r){let t,e,n,i,a,o,l;return{c(){t=E("audio"),e=F(),n=E("audio"),i=F(),a=E("audio"),this.h()},l(s){t=T(s,"AUDIO",{preload:!0,crossorigin:!0}),k(t).forEach(g),e=P(s),n=T(s,"AUDIO",{preload:!0,crossorigin:!0}),k(n).forEach(g),i=P(s),a=T(s,"AUDIO",{preload:!0,crossorigin:!0}),k(a).forEach(g),this.h()},h(){f(t,"preload","auto"),f(t,"crossorigin","anonymous"),n.loop=!0,f(n,"preload","auto"),f(n,"crossorigin","anonymous"),a.loop=!0,f(a,"preload","auto"),f(a,"crossorigin","anonymous")},m(s,c){O(s,t,c),r[9](t),O(s,e,c),O(s,n,c),r[10](n),O(s,i,c),O(s,a,c),r[11](a),o||(l=[U(t,"ended",r[3]),U(t,"timeupdate",r[4]),U(t,"durationchange",r[5]),U(t,"error",Xr),U(n,"error",Kr),U(a,"error",Yr)],o=!0)},p:Y,i:Y,o:Y,d(s){s&&(g(t),g(e),g(n),g(i),g(a)),r[9](null),r[10](null),r[11](null),o=!1,Dt(l)}}}function qr(r){return r?r.startsWith("http")?r:window.location.origin+r:""}const Xr=()=>{},Kr=()=>{},Yr=()=>{};function Gr(r,t,e){let n;J(r,Z,y=>e(8,n=y));const i={rain:"/assets/audio/ambience/rain.mp3",library:"/assets/audio/ambience/library.mp3",garden:"/assets/audio/ambience/garden.mp3",none:""},a={none:"",rain:"/whitenoise/rain.wav",fire:"/whitenoise/fire.mp3",cafe:"/whitenoise/cafe.wav",ocean:"/whitenoise/ocean.flac",forest:"/whitenoise/forest.wav"};let o,l,s;function c(y,L,I){if(typeof navigator>"u"||!("mediaSession"in navigator))return;if(I.length===0){navigator.mediaSession.metadata=null;return}const S=I[y],V=n.availableAlbums.find(z=>z.id===L);if(S&&V){const z=qr(V.cover);navigator.mediaSession.metadata=new MediaMetadata({title:S.title,artist:S.artist||V.artist,album:V.title,artwork:[{src:z,sizes:"512x512",type:"image/jpeg"}]});try{navigator.mediaSession.setActionHandler("play",()=>ie()),navigator.mediaSession.setActionHandler("pause",()=>ie()),navigator.mediaSession.setActionHandler("previoustrack",()=>Ge()),navigator.mediaSession.setActionHandler("nexttrack",()=>jt()),navigator.mediaSession.setActionHandler("seekto",q=>{q.seekTime!==void 0&&q.fastSeek===!1&&Z.update(D=>({...D,seekRequest:q.seekTime??null}))})}catch(q){console.warn("Media Session Action Handler error:",q)}}}function u(){console.log("Track ended");const{repeatMode:y,currentTrackIndex:L,playlist:I}=n;y==="one"?o&&(e(0,o.currentTime=0,o),o.play().catch(()=>{})):y==="all"?jt():L<I.length-1?jt():Z.update(S=>({...S,isPlaying:!1}))}function d(){o&&Z.update(y=>({...y,currentTime:o.currentTime}))}let m,h,b,_;function p(){if(!(typeof window>"u")&&!(!o||m))try{const y=window.AudioContext||window.webkitAudioContext;e(6,m=new y),b=m.createAnalyser(),b.fftSize=256,h=m.createMediaElementSource(o),h.connect(b),b.connect(m.destination),console.log("Audio Context Initialized for Visualization")}catch(y){console.error("Audio Analysis Setup Failed:",y)}}function w(y){if(!b)return;if(y-x<33){o.paused||e(7,_=requestAnimationFrame(w));return}x=y;const L=new Uint8Array(b.frequencyBinCount);b.getByteFrequencyData(L);const I=4,S=16,V=(N,B)=>{let H=0;for(let W=N;W<B;W++)H+=L[W];return H/(B-N)/255},z=V(0,I),q=V(I,S),D=V(S,32);be.set({bass:z,mid:q,high:D,isPlaying:!0}),o.paused||e(7,_=requestAnimationFrame(w))}let x=0;function C(){o&&Z.update(y=>({...y,duration:o.duration}))}function R(y){ee[y?"unshift":"push"](()=>{o=y,e(0,o),e(8,n)})}function A(y){ee[y?"unshift":"push"](()=>{l=y,e(1,l),e(8,n)})}function M(y){ee[y?"unshift":"push"](()=>{s=y,e(2,s),e(8,n)})}return r.$$.update=()=>{if(r.$$.dirty&257&&o&&n.seekRequest!==null&&(e(0,o.currentTime=n.seekRequest,o),Z.update(y=>({...y,seekRequest:null}))),r.$$.dirty&256&&typeof navigator<"u"&&"mediaSession"in navigator&&(navigator.mediaSession.playbackState=n.isPlaying?"playing":"paused"),r.$$.dirty&256&&c(n.currentTrackIndex,n.currentAlbumId,n.playlist),r.$$.dirty&257&&o)if(e(0,o.volume=n.isMuted?0:n.musicVolume,o),n.playlist.length>0){const L=n.playlist[n.currentTrackIndex].file;o.getAttribute("src")!==L&&(e(0,o.src=L,o),n.isPlaying&&o.play().catch(I=>console.log("Auto-play blocked:",I))),n.isPlaying&&o.paused&&o.readyState>=2?o.play().catch(I=>console.log("Play error:",I)):!n.isPlaying&&!o.paused&&o.pause()}else o.pause(),e(0,o.src="",o);if(r.$$.dirty&258&&l){e(1,l.volume=n.isMuted?0:n.ambienceVolume,l);const y=i[n.currentAmbience];l.getAttribute("src")!==y&&(y?(e(1,l.src=y,l),n.isPlaying&&l.play().catch(()=>{})):(l.pause(),e(1,l.src="",l))),n.isPlaying&&y&&l.paused&&l.readyState>=2?l.play().catch(()=>{}):!n.isPlaying&&!l.paused&&l.pause()}if(r.$$.dirty&260&&s){e(2,s.volume=n.isMuted?0:n.whiteNoiseVolume,s);const y=a[n.currentWhiteNoise];s.getAttribute("src")!==y&&(y?(e(2,s.src=y,s),s.play().catch(()=>{})):(s.pause(),e(2,s.src="",s))),y&&s.paused&&s.readyState>=2&&s.play().catch(()=>{})}r.$$.dirty&449&&(n.isPlaying?(!m&&o&&p(),m?.state==="suspended"&&m.resume(),cancelAnimationFrame(_),e(7,_=requestAnimationFrame(w))):(cancelAnimationFrame(_),be.update(y=>({...y,bass:0,mid:0,high:0,isPlaying:!1}))))},[o,l,s,u,d,C,m,_,n,R,A,M]}class Zr extends et{constructor(t){super(),nt(this,t,Gr,Ur,rt,{})}}function Jr(r){let t,e='<svg class="w-4 h-4 text-white/70" fill="currentColor" viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"></path></svg>';return{c(){t=E("div"),t.innerHTML=e,this.h()},l(n){t=T(n,"DIV",{class:!0,"data-svelte-h":!0}),tt(t)!=="svelte-2a499o"&&(t.innerHTML=e),this.h()},h(){f(t,"class","w-full h-full rounded-full bg-gradient-to-tr from-indigo-500 to-violet-600 flex items-center justify-center border border-white/20 svelte-mtnxdl"),qt(t,"animate-spin-slow",r[5].isPlaying)},m(n,i){O(n,t,i)},p(n,i){i&32&&qt(t,"animate-spin-slow",n[5].isPlaying)},d(n){n&&g(t)}}}function Qr(r){let t,e,n,i,a;return{c(){t=E("div"),e=E("img"),i=F(),a=E("div"),this.h()},l(o){t=T(o,"DIV",{class:!0});var l=k(t);e=T(l,"IMG",{src:!0,alt:!0,class:!0}),i=P(l),a=T(l,"DIV",{class:!0}),k(a).forEach(g),l.forEach(g),this.h()},h(){Ut(e.src,n=r[6].cover)||f(e,"src",n),f(e,"alt","Album Art"),f(e,"class","absolute inset-0 w-full h-full rounded-full object-cover border-[1.5px] border-white/20 shadow-md svelte-mtnxdl"),qt(e,"animate-spin-slow",r[5].isPlaying),f(a,"class","absolute inset-0 rounded-full bg-gradient-to-tr from-white/10 to-transparent pointer-events-none"),f(t,"class","relative w-full h-full")},m(o,l){O(o,t,l),v(t,e),v(t,i),v(t,a)},p(o,l){l&64&&!Ut(e.src,n=o[6].cover)&&f(e,"src",n),l&32&&qt(e,"animate-spin-slow",o[5].isPlaying)},d(o){o&&g(t)}}}function Re(r){let t,e='<div class="w-1 h-1 bg-white rounded-full animate-ping"></div>';return{c(){t=E("div"),t.innerHTML=e,this.h()},l(n){t=T(n,"DIV",{class:!0,"data-svelte-h":!0}),tt(t)!=="svelte-15wizn4"&&(t.innerHTML=e),this.h()},h(){f(t,"class","absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-[#0F172A] flex items-center justify-center")},m(n,i){O(n,t,i)},d(n){n&&g(t)}}}function ti(r){let t,e;return{c(){t=K("svg"),e=K("path"),this.h()},l(n){t=X(n,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0});var i=k(t);e=X(i,"path",{d:!0}),k(e).forEach(g),i.forEach(g),this.h()},h(){f(e,"d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"),f(t,"class","w-4 h-4"),f(t,"fill","none"),f(t,"stroke","currentColor"),f(t,"stroke-width","2"),f(t,"viewBox","0 0 24 24")},m(n,i){O(n,t,i),v(t,e)},d(n){n&&g(t)}}}function ei(r){let t,e;return{c(){t=K("svg"),e=K("path"),this.h()},l(n){t=X(n,"svg",{class:!0,viewBox:!0});var i=k(t);e=X(i,"path",{d:!0}),k(e).forEach(g),i.forEach(g),this.h()},h(){f(e,"d","M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"),f(t,"class","w-4 h-4 text-rose-500 fill-current"),f(t,"viewBox","0 0 24 24")},m(n,i){O(n,t,i),v(t,e)},d(n){n&&g(t)}}}function Oe(r){let t,e='<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path></svg>',n,i;return{c(){t=E("button"),t.innerHTML=e,this.h()},l(a){t=T(a,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),tt(t)!=="svelte-1oq4jz0"&&(t.innerHTML=e),this.h()},h(){f(t,"class","absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-white shadow-lg opacity-0 group-hover:opacity-100 transition-all hover:bg-red-600 hover:scale-110 z-50"),f(t,"title","Cerrar")},m(a,o){O(a,t,o),n||(i=U(t,"click",Xe(function(){St(r[4])&&r[4].apply(this,arguments)})),n=!0)},p(a,o){r=a},d(a){a&&g(t),n=!1,i()}}}function ni(r){let t,e,n,i,a,o,l,s,c,u=r[0].title+"",d,m,h,b=(r[6]?.artist||r[0].artist)+"",_,p,w,x,C,R,A,M,y;function L(B,H){return B[6]?Qr:Jr}let I=L(r),S=I(r),V=r[5].isPlaying&&Re();function z(B,H){return B[2]?ei:ti}let q=z(r),D=q(r),N=r[4]&&Oe(r);return{c(){t=E("div"),e=E("button"),n=E("div"),S.c(),i=F(),a=E("div"),o=F(),V&&V.c(),l=F(),s=E("div"),c=E("span"),d=bt(u),m=F(),h=E("span"),_=bt(b),p=F(),w=E("div"),x=E("button"),D.c(),C=F(),N&&N.c(),this.h()},l(B){t=T(B,"DIV",{class:!0});var H=k(t);e=T(H,"BUTTON",{class:!0});var W=k(e);n=T(W,"DIV",{class:!0});var G=k(n);S.l(G),i=P(G),a=T(G,"DIV",{class:!0}),k(a).forEach(g),o=P(G),V&&V.l(G),G.forEach(g),l=P(W),s=T(W,"DIV",{class:!0});var ct=k(s);c=T(ct,"SPAN",{class:!0});var It=k(c);d=vt(It,u),It.forEach(g),m=P(ct),h=T(ct,"SPAN",{class:!0});var Rt=k(h);_=vt(Rt,b),Rt.forEach(g),ct.forEach(g),p=P(W),w=T(W,"DIV",{class:!0});var Ot=k(w);x=T(Ot,"BUTTON",{class:!0,title:!0});var ge=k(x);D.l(ge),ge.forEach(g),Ot.forEach(g),C=P(W),N&&N.l(W),W.forEach(g),H.forEach(g),this.h()},h(){f(a,"class","absolute w-2.5 h-2.5 bg-[#0F172A] rounded-full z-10 border border-white/10"),f(n,"class","relative shrink-0 w-11 h-11 flex items-center justify-center group-hover:scale-105 transition-transform duration-500"),f(c,"class","text-xs font-bold text-white truncate w-24 sm:w-32 leading-tight"),f(h,"class","text-[10px] text-slate-400 truncate w-24 sm:w-32 font-medium"),f(s,"class","flex flex-col text-left min-w-0 pr-2"),f(x,"class","text-white/40 hover:text-rose-400 hover:scale-110 transition-all p-1"),f(x,"title","Favorito"),f(w,"class","pl-2 border-l border-white/10 flex items-center"),f(e,"class","group bg-[#0F172A]/90 backdrop-blur-xl border border-white/10 p-2 pr-4 rounded-full shadow-2xl hover:scale-105 transition-all flex items-center gap-3 overflow-hidden max-w-[240px]"),f(t,"class","fixed bottom-6 right-6 z-[100] flex flex-col items-end gap-2")},m(B,H){O(B,t,H),v(t,e),v(e,n),S.m(n,null),v(n,i),v(n,a),v(n,o),V&&V.m(n,null),v(e,l),v(e,s),v(s,c),v(c,d),v(s,m),v(s,h),v(h,_),v(e,p),v(e,w),v(w,x),D.m(x,null),v(e,C),N&&N.m(e,null),A=!0,M||(y=[U(x,"click",Xe(function(){St(r[3])&&r[3].apply(this,arguments)})),U(e,"click",function(){St(r[1])&&r[1].apply(this,arguments)})],M=!0)},p(B,[H]){r=B,I===(I=L(r))&&S?S.p(r,H):(S.d(1),S=I(r),S&&(S.c(),S.m(n,i))),r[5].isPlaying?V||(V=Re(),V.c(),V.m(n,null)):V&&(V.d(1),V=null),(!A||H&1)&&u!==(u=r[0].title+"")&&gt(d,u),(!A||H&65)&&b!==(b=(r[6]?.artist||r[0].artist)+"")&&gt(_,b),q!==(q=z(r))&&(D.d(1),D=q(r),D&&(D.c(),D.m(x,null))),r[4]?N?N.p(r,H):(N=Oe(r),N.c(),N.m(e,null)):N&&(N.d(1),N=null)},i(B){A||(B&&Bt(()=>{A&&(R||(R=_t(t,oe,{duration:200},!0)),R.run(1))}),A=!0)},o(B){B&&(R||(R=_t(t,oe,{duration:200},!1)),R.run(0)),A=!1},d(B){B&&g(t),S.d(),V&&V.d(),D.d(),N&&N.d(),B&&R&&R.end(),M=!1,Dt(y)}}}function ri(r,t,e){let n,i;J(r,Z,u=>e(5,i=u));let{currentTrack:a}=t,{onExpand:o}=t,{isFavorite:l=!1}=t,{onFavoriteClick:s=()=>{}}=t,{onClose:c=void 0}=t;return r.$$set=u=>{"currentTrack"in u&&e(0,a=u.currentTrack),"onExpand"in u&&e(1,o=u.onExpand),"isFavorite"in u&&e(2,l=u.isFavorite),"onFavoriteClick"in u&&e(3,s=u.onFavoriteClick),"onClose"in u&&e(4,c=u.onClose)},r.$$.update=()=>{r.$$.dirty&32&&e(6,n=i.currentAlbumId?Ze(i.currentAlbumId):null)},[a,o,l,s,c,i,n]}class ii extends et{constructor(t){super(),nt(this,t,ri,ni,rt,{currentTrack:0,onExpand:1,isFavorite:2,onFavoriteClick:3,onClose:4})}}function oi(r){let t,e='<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"></path></svg>';return{c(){t=E("div"),t.innerHTML=e,this.h()},l(n){t=T(n,"DIV",{class:!0,"data-svelte-h":!0}),tt(t)!=="svelte-19q70rh"&&(t.innerHTML=e),this.h()},h(){f(t,"class","w-full h-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white/50")},m(n,i){O(n,t,i)},p:Y,d(n){n&&g(t)}}}function si(r){let t,e,n,i,a,o='<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>';return{c(){t=E("img"),i=F(),a=E("div"),a.innerHTML=o,this.h()},l(l){t=T(l,"IMG",{src:!0,alt:!0,class:!0}),i=P(l),a=T(l,"DIV",{class:!0,"data-svelte-h":!0}),tt(a)!=="svelte-7y5olp"&&(a.innerHTML=o),this.h()},h(){Ut(t.src,e=r[4].cover)||f(t,"src",e),f(t,"alt",n=r[4].title),f(t,"class","w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"),f(a,"class","absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity")},m(l,s){O(l,t,s),O(l,i,s),O(l,a,s)},p(l,s){s&16&&!Ut(t.src,e=l[4].cover)&&f(t,"src",e),s&16&&n!==(n=l[4].title)&&f(t,"alt",n)},d(l){l&&(g(t),g(i),g(a))}}}function li(r){let t,e;return{c(){t=K("svg"),e=K("path"),this.h()},l(n){t=X(n,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0});var i=k(t);e=X(i,"path",{d:!0}),k(e).forEach(g),i.forEach(g),this.h()},h(){f(e,"d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"),f(t,"class","w-5 h-5"),f(t,"fill","none"),f(t,"stroke","currentColor"),f(t,"stroke-width","2"),f(t,"viewBox","0 0 24 24")},m(n,i){O(n,t,i),v(t,e)},d(n){n&&g(t)}}}function ai(r){let t,e;return{c(){t=K("svg"),e=K("path"),this.h()},l(n){t=X(n,"svg",{class:!0,viewBox:!0});var i=k(t);e=X(i,"path",{d:!0}),k(e).forEach(g),i.forEach(g),this.h()},h(){f(e,"d","M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"),f(t,"class","w-5 h-5 text-rose-500 fill-current"),f(t,"viewBox","0 0 24 24")},m(n,i){O(n,t,i),v(t,e)},d(n){n&&g(t)}}}function ci(r){let t,e,n,i,a,o=r[0].title+"",l,s,c,u=r[0].artist+"",d,m,h,b,_;function p(M,y){return M[4]?si:oi}let w=p(r),x=w(r);function C(M,y){return M[1]?ai:li}let R=C(r),A=R(r);return{c(){t=E("div"),e=E("div"),x.c(),n=F(),i=E("div"),a=E("div"),l=bt(o),s=F(),c=E("div"),d=bt(u),m=F(),h=E("button"),A.c(),this.h()},l(M){t=T(M,"DIV",{class:!0});var y=k(t);e=T(y,"DIV",{class:!0,title:!0});var L=k(e);x.l(L),L.forEach(g),n=P(y),i=T(y,"DIV",{class:!0});var I=k(i);a=T(I,"DIV",{class:!0});var S=k(a);l=vt(S,o),S.forEach(g),s=P(I),c=T(I,"DIV",{class:!0});var V=k(c);d=vt(V,u),V.forEach(g),I.forEach(g),m=P(y),h=T(y,"BUTTON",{class:!0,title:!0,"aria-label":!0});var z=k(h);A.l(z),z.forEach(g),y.forEach(g),this.h()},h(){f(e,"class","hidden sm:relative sm:flex w-14 h-14 bg-white/5 rounded-lg items-center justify-center shrink-0 overflow-hidden cursor-pointer group shadow-lg shadow-black/40 border border-white/10"),f(e,"title","Ver lista de canciones"),f(a,"class","font-bold text-sm sm:text-base truncate text-white"),f(c,"class","text-xs sm:text-sm text-slate-400 truncate"),f(i,"class","min-w-0 flex-1"),f(h,"class","text-white/50 hover:text-rose-400 transition-colors p-2 shrink-0"),f(h,"title","Añadir a favoritos"),f(h,"aria-label","Añadir a favoritos"),f(t,"class","flex items-center gap-4 w-1/3 min-w-0")},m(M,y){O(M,t,y),v(t,e),x.m(e,null),v(t,n),v(t,i),v(i,a),v(a,l),v(i,s),v(i,c),v(c,d),v(t,m),v(t,h),A.m(h,null),b||(_=[U(e,"click",function(){St(r[3])&&r[3].apply(this,arguments)}),U(h,"click",function(){St(r[2])&&r[2].apply(this,arguments)})],b=!0)},p(M,[y]){r=M,w===(w=p(r))&&x?x.p(r,y):(x.d(1),x=w(r),x&&(x.c(),x.m(e,null))),y&1&&o!==(o=r[0].title+"")&&gt(l,o),y&1&&u!==(u=r[0].artist+"")&&gt(d,u),R!==(R=C(r))&&(A.d(1),A=R(r),A&&(A.c(),A.m(h,null)))},i:Y,o:Y,d(M){M&&g(t),x.d(),A.d(),b=!1,Dt(_)}}}function ui(r,t,e){let n,i;J(r,Z,c=>e(5,i=c));let{currentTrack:a}=t,{isFavorite:o}=t,{onFavoriteClick:l}=t,{onShowTracks:s}=t;return r.$$set=c=>{"currentTrack"in c&&e(0,a=c.currentTrack),"isFavorite"in c&&e(1,o=c.isFavorite),"onFavoriteClick"in c&&e(2,l=c.onFavoriteClick),"onShowTracks"in c&&e(3,s=c.onShowTracks)},r.$$.update=()=>{r.$$.dirty&32&&e(4,n=i.currentAlbumId?Ze(i.currentAlbumId):null)},[a,o,l,s,n,i]}class fi extends et{constructor(t){super(),nt(this,t,ui,ci,rt,{currentTrack:0,isFavorite:1,onFavoriteClick:2,onShowTracks:3})}}function di(r){let t,e;return{c(){t=K("svg"),e=K("path"),this.h()},l(n){t=X(n,"svg",{class:!0,fill:!0,viewBox:!0});var i=k(t);e=X(i,"path",{d:!0}),k(e).forEach(g),i.forEach(g),this.h()},h(){f(e,"d","M8 5v14l11-7z"),f(t,"class","w-6 h-6 ml-1"),f(t,"fill","currentColor"),f(t,"viewBox","0 0 24 24")},m(n,i){O(n,t,i),v(t,e)},d(n){n&&g(t)}}}function hi(r){let t,e;return{c(){t=K("svg"),e=K("path"),this.h()},l(n){t=X(n,"svg",{class:!0,fill:!0,viewBox:!0});var i=k(t);e=X(i,"path",{d:!0}),k(e).forEach(g),i.forEach(g),this.h()},h(){f(e,"d","M6 19h4V5H6v14zm8-14v14h4V5h-4z"),f(t,"class","w-6 h-6 ml-0.5"),f(t,"fill","currentColor"),f(t,"viewBox","0 0 24 24")},m(n,i){O(n,t,i),v(t,e)},d(n){n&&g(t)}}}function Pe(r){let t,e="1";return{c(){t=E("span"),t.textContent=e,this.h()},l(n){t=T(n,"SPAN",{class:!0,"data-svelte-h":!0}),tt(t)!=="svelte-a02tpb"&&(t.textContent=e),this.h()},h(){f(t,"class","absolute -bottom-1 -right-1 text-[8px] font-bold")},m(n,i){O(n,t,i)},d(n){n&&g(t)}}}function mi(r){let t,e,n,i,a,o,l,s='<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"></path></svg>',c,u,d,m,h='<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"></path></svg>',b,_,p,w,x,C,R,A,M;function y(V,z){return V[0].isPlaying?hi:di}let L=y(r),I=L(r),S=r[0].repeatMode==="one"&&Pe();return{c(){t=E("div"),e=E("button"),n=K("svg"),i=K("path"),o=F(),l=E("button"),l.innerHTML=s,c=F(),u=E("button"),I.c(),d=F(),m=E("button"),m.innerHTML=h,b=F(),_=E("button"),p=K("svg"),w=K("path"),x=F(),S&&S.c(),this.h()},l(V){t=T(V,"DIV",{class:!0});var z=k(t);e=T(z,"BUTTON",{class:!0,title:!0});var q=k(e);n=X(q,"svg",{class:!0,fill:!0,viewBox:!0});var D=k(n);i=X(D,"path",{d:!0}),k(i).forEach(g),D.forEach(g),q.forEach(g),o=P(z),l=T(z,"BUTTON",{class:!0,"data-svelte-h":!0}),tt(l)!=="svelte-s8q1ox"&&(l.innerHTML=s),c=P(z),u=T(z,"BUTTON",{class:!0});var N=k(u);I.l(N),N.forEach(g),d=P(z),m=T(z,"BUTTON",{class:!0,"data-svelte-h":!0}),tt(m)!=="svelte-1cyguki"&&(m.innerHTML=h),b=P(z),_=T(z,"BUTTON",{class:!0,title:!0});var B=k(_);p=X(B,"svg",{class:!0,fill:!0,viewBox:!0});var H=k(p);w=X(H,"path",{d:!0}),k(w).forEach(g),H.forEach(g),x=P(B),S&&S.l(B),B.forEach(g),z.forEach(g),this.h()},h(){f(i,"d","M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"),f(n,"class","w-4 h-4"),f(n,"fill","currentColor"),f(n,"viewBox","0 0 24 24"),f(e,"class",a="transition-colors hidden md:block "+(r[0].shuffle?"text-green-400":"text-slate-400 hover:text-white")),f(e,"title","Aleatorio"),f(l,"class","text-white/80 hover:text-white transition-colors"),f(u,"class","w-10 h-10 rounded-full bg-white text-black flex items-center justify-center hover:scale-105 transition-transform shadow-lg shadow-white/10"),f(m,"class","text-white/80 hover:text-white transition-colors"),f(w,"d","M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"),f(p,"class","w-4 h-4"),f(p,"fill","currentColor"),f(p,"viewBox","0 0 24 24"),f(_,"class",C="transition-colors relative "+(r[0].repeatMode!=="off"?"text-green-400":"text-slate-400 hover:text-white")),f(_,"title",R=r[0].repeatMode==="one"?"Repetir una":r[0].repeatMode==="all"?"Repetir todo":"Repetir desactivado"),f(t,"class","flex items-center gap-6 mb-1")},m(V,z){O(V,t,z),v(t,e),v(e,n),v(n,i),v(t,o),v(t,l),v(t,c),v(t,u),I.m(u,null),v(t,d),v(t,m),v(t,b),v(t,_),v(_,p),v(p,w),v(_,x),S&&S.m(_,null),A||(M=[U(e,"click",Rn),U(l,"click",Ge),U(u,"click",ie),U(m,"click",jt),U(_,"click",On)],A=!0)},p(V,[z]){z&1&&a!==(a="transition-colors hidden md:block "+(V[0].shuffle?"text-green-400":"text-slate-400 hover:text-white"))&&f(e,"class",a),L!==(L=y(V))&&(I.d(1),I=L(V),I&&(I.c(),I.m(u,null))),V[0].repeatMode==="one"?S||(S=Pe(),S.c(),S.m(_,null)):S&&(S.d(1),S=null),z&1&&C!==(C="transition-colors relative "+(V[0].repeatMode!=="off"?"text-green-400":"text-slate-400 hover:text-white"))&&f(_,"class",C),z&1&&R!==(R=V[0].repeatMode==="one"?"Repetir una":V[0].repeatMode==="all"?"Repetir todo":"Repetir desactivado")&&f(_,"title",R)},i:Y,o:Y,d(V){V&&g(t),I.d(),S&&S.d(),A=!1,Dt(M)}}}function pi(r,t,e){let n;return J(r,Z,i=>e(0,n=i)),[n]}class gi extends et{constructor(t){super(),nt(this,t,pi,mi,rt,{})}}function vi(r){let t,e,n=Wt(r[0].currentTime)+"",i,a,o,l,s,c,u,d,m,h,b,_,p,w=Wt(r[0].duration)+"",x,C,R;return{c(){t=E("div"),e=E("span"),i=bt(n),a=F(),o=E("div"),l=E("input"),u=F(),d=E("div"),m=F(),h=E("div"),b=E("div"),_=F(),p=E("span"),x=bt(w),this.h()},l(A){t=T(A,"DIV",{class:!0});var M=k(t);e=T(M,"SPAN",{class:!0});var y=k(e);i=vt(y,n),y.forEach(g),a=P(M),o=T(M,"DIV",{class:!0});var L=k(o);l=T(L,"INPUT",{type:!0,min:!0,max:!0,class:!0}),u=P(L),d=T(L,"DIV",{class:!0}),k(d).forEach(g),m=P(L),h=T(L,"DIV",{class:!0,style:!0});var I=k(h);b=T(I,"DIV",{class:!0}),k(b).forEach(g),I.forEach(g),L.forEach(g),_=P(M),p=T(M,"SPAN",{class:!0});var S=k(p);x=vt(S,w),S.forEach(g),M.forEach(g),this.h()},h(){f(e,"class","w-10 text-right"),f(l,"type","range"),f(l,"min","0"),f(l,"max",s=r[0].duration||100),l.value=c=r[0].currentTime,f(l,"class","absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"),f(d,"class","absolute w-full h-1 bg-white/10 rounded-full pointer-events-none"),f(b,"class","absolute right-0 top-1/2 -translate-y-1/2 w-2.5 h-2.5 bg-white rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity transform scale-0 group-hover:scale-110"),f(h,"class","absolute h-1 bg-primary-500 rounded-full pointer-events-none group-hover:bg-primary-400 transition-colors shadow-[0_0_8px_rgba(249,115,22,0.5)]"),Q(h,"width",r[0].currentTime/(r[0].duration||1)*100+"%"),f(o,"class","relative flex-1 h-3 bg-white/5 rounded-full group cursor-pointer flex items-center"),f(p,"class","w-10"),f(t,"class","w-full flex items-center gap-2 text-xs text-slate-400 font-mono")},m(A,M){O(A,t,M),v(t,e),v(e,i),v(t,a),v(t,o),v(o,l),v(o,u),v(o,d),v(o,m),v(o,h),v(h,b),v(t,_),v(t,p),v(p,x),C||(R=U(l,"input",r[1]),C=!0)},p(A,[M]){M&1&&n!==(n=Wt(A[0].currentTime)+"")&&gt(i,n),M&1&&s!==(s=A[0].duration||100)&&f(l,"max",s),M&1&&c!==(c=A[0].currentTime)&&(l.value=c),M&1&&Q(h,"width",A[0].currentTime/(A[0].duration||1)*100+"%"),M&1&&w!==(w=Wt(A[0].duration)+"")&&gt(x,w)},i:Y,o:Y,d(A){A&&g(t),C=!1,R()}}}function Wt(r){if(!r||isNaN(r))return"0:00";const t=Math.floor(r/60),e=Math.floor(r%60);return`${t}:${e.toString().padStart(2,"0")}`}function bi(r,t,e){let n;J(r,Z,a=>e(0,n=a));function i(a){const o=a.target;Pn(parseFloat(o.value))}return[n,i]}class wi extends et{constructor(t){super(),nt(this,t,bi,vi,rt,{})}}function _i(r){let t,e;return{c(){t=K("svg"),e=K("path"),this.h()},l(n){t=X(n,"svg",{class:!0,fill:!0,viewBox:!0});var i=k(t);e=X(i,"path",{d:!0}),k(e).forEach(g),i.forEach(g),this.h()},h(){f(e,"d","M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"),f(t,"class","w-6 h-6"),f(t,"fill","currentColor"),f(t,"viewBox","0 0 24 24")},m(n,i){O(n,t,i),v(t,e)},d(n){n&&g(t)}}}function yi(r){let t,e;return{c(){t=K("svg"),e=K("path"),this.h()},l(n){t=X(n,"svg",{class:!0,fill:!0,viewBox:!0});var i=k(t);e=X(i,"path",{d:!0}),k(e).forEach(g),i.forEach(g),this.h()},h(){f(e,"d","M7 9v6h4l5 5V4l-5 5H7z"),f(t,"class","w-6 h-6"),f(t,"fill","currentColor"),f(t,"viewBox","0 0 24 24")},m(n,i){O(n,t,i),v(t,e)},d(n){n&&g(t)}}}function xi(r){let t,e;return{c(){t=K("svg"),e=K("path"),this.h()},l(n){t=X(n,"svg",{class:!0,fill:!0,viewBox:!0});var i=k(t);e=X(i,"path",{d:!0}),k(e).forEach(g),i.forEach(g),this.h()},h(){f(e,"d","M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"),f(t,"class","w-6 h-6"),f(t,"fill","currentColor"),f(t,"viewBox","0 0 24 24")},m(n,i){O(n,t,i),v(t,e)},d(n){n&&g(t)}}}function ki(r){let t,e,n,i,a,o,l,s,c,u,d,m,h,b;function _(x,C){return x[1].musicVolume===0||x[1].isMuted?xi:x[1].musicVolume<.5?yi:_i}let p=_(r),w=p(r);return{c(){t=E("div"),e=E("button"),w.c(),i=F(),a=E("div"),o=E("div"),l=E("div"),s=E("div"),c=F(),u=E("input"),this.h()},l(x){t=T(x,"DIV",{class:!0,role:!0,"aria-label":!0});var C=k(t);e=T(C,"BUTTON",{class:!0,title:!0});var R=k(e);w.l(R),R.forEach(g),i=P(C),a=T(C,"DIV",{class:!0});var A=k(a);o=T(A,"DIV",{class:!0});var M=k(o);l=T(M,"DIV",{class:!0,style:!0});var y=k(l);s=T(y,"DIV",{class:!0}),k(s).forEach(g),y.forEach(g),c=P(M),u=T(M,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),M.forEach(g),A.forEach(g),C.forEach(g),this.h()},h(){f(e,"class","text-slate-400 hover:text-white transition-colors relative z-20 p-2"),f(e,"title",n=r[1].musicVolume===0?"Activar Sonido":"Silenciar"),f(s,"class","absolute -right-1.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 bg-white rounded-full shadow-md opacity-0 group-hover/slider:opacity-100 transition-opacity"),f(l,"class","absolute left-0 top-0 h-full bg-primary-500 rounded-full"),Q(l,"width",r[1].musicVolume*100+"%"),f(u,"type","range"),f(u,"min","0"),f(u,"max","1"),f(u,"step","0.01"),u.value=d=r[1].musicVolume,f(u,"class","absolute inset-0 w-full h-full opacity-0 cursor-pointer"),f(o,"class","relative w-full h-1.5 bg-white/10 rounded-full group/slider"),f(a,"class",m="flex items-center transition-all duration-300 ease-out overflow-hidden "+(r[0]?"w-24 opacity-100 ml-2":"w-0 opacity-0 ml-0 hover:w-24 hover:opacity-100")),f(t,"class","relative flex items-center justify-center p-2 group"),f(t,"role","group"),f(t,"aria-label","Control de volumen")},m(x,C){O(x,t,C),v(t,e),w.m(e,null),v(t,i),v(t,a),v(a,o),v(o,l),v(l,s),v(o,c),v(o,u),h||(b=[U(e,"click",r[3]),U(u,"input",r[2]),U(t,"mouseenter",r[4]),U(t,"mouseleave",r[5])],h=!0)},p(x,[C]){p!==(p=_(x))&&(w.d(1),w=p(x),w&&(w.c(),w.m(e,null))),C&2&&n!==(n=x[1].musicVolume===0?"Activar Sonido":"Silenciar")&&f(e,"title",n),C&2&&Q(l,"width",x[1].musicVolume*100+"%"),C&2&&d!==(d=x[1].musicVolume)&&(u.value=d),C&1&&m!==(m="flex items-center transition-all duration-300 ease-out overflow-hidden "+(x[0]?"w-24 opacity-100 ml-2":"w-0 opacity-0 ml-0 hover:w-24 hover:opacity-100"))&&f(a,"class",m)},i:Y,o:Y,d(x){x&&g(t),w.d(),h=!1,Dt(b)}}}function Ti(r,t,e){let n;J(r,Z,u=>e(1,n=u));let i=!1,a;function o(u){const d=u.target,m=parseFloat(d.value);a&&clearTimeout(a),a=setTimeout(()=>{ve(m)},10)}return[i,n,o,()=>ve(n.musicVolume===0?.5:0),()=>e(0,i=!0),()=>e(0,i=!1)]}class Ei extends et{constructor(t){super(),nt(this,t,Ti,ki,rt,{})}}function Fe(r){let t,e,n,i;const a=[Ai,Ci],o=[];function l(s,c){return s[1]?0:1}return t=l(r),e=o[t]=a[t](r),{c(){e.c(),n=ht()},l(s){e.l(s),n=ht()},m(s,c){o[t].m(s,c),O(s,n,c),i=!0},p(s,c){let u=t;t=l(s),t===u?o[t].p(s,c):(yt(),j(o[u],1,1,()=>{o[u]=null}),xt(),e=o[t],e?e.p(s,c):(e=o[t]=a[t](s),e.c()),$(e,1),e.m(n.parentNode,n))},i(s){i||($(e),i=!0)},o(s){j(e),i=!1},d(s){s&&g(n),o[t].d(s)}}}function Ci(r){let t,e,n,i='<div class="w-8 h-1 bg-current rounded-full"></div>',a,o,l='<svg class="w-3 h-3 group-hover/close:scale-125 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path></svg>',s,c,u,d='<div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-[2s] pointer-events-none"></div>',m,h,b,_,p,w,x,C,R,A,M,y,L,I,S,V,z,q;return _=new fi({props:{currentTrack:r[0],isFavorite:r[3],onFavoriteClick:r[12],onShowTracks:r[13]}}),C=new gi({}),M=new wi({}),I=new Ei({}),{c(){t=E("div"),e=E("div"),n=E("button"),n.innerHTML=i,a=F(),o=E("button"),o.innerHTML=l,s=F(),c=E("div"),u=E("div"),u.innerHTML=d,m=F(),h=E("div"),b=E("div"),lt(_.$$.fragment),p=F(),w=E("div"),x=E("div"),lt(C.$$.fragment),R=F(),A=E("div"),lt(M.$$.fragment),y=F(),L=E("div"),lt(I.$$.fragment),this.h()},l(D){t=T(D,"DIV",{class:!0});var N=k(t);e=T(N,"DIV",{class:!0});var B=k(e);n=T(B,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),tt(n)!=="svelte-m0kbyf"&&(n.innerHTML=i),a=P(B),o=T(B,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),tt(o)!=="svelte-1wftkp6"&&(o.innerHTML=l),B.forEach(g),s=P(N),c=T(N,"DIV",{class:!0});var H=k(c);u=T(H,"DIV",{class:!0,"data-svelte-h":!0}),tt(u)!=="svelte-1e0zyy0"&&(u.innerHTML=d),m=P(H),h=T(H,"DIV",{class:!0});var W=k(h);b=T(W,"DIV",{class:!0});var G=k(b);st(_.$$.fragment,G),G.forEach(g),p=P(W),w=T(W,"DIV",{class:!0});var ct=k(w);x=T(ct,"DIV",{class:!0});var It=k(x);st(C.$$.fragment,It),It.forEach(g),R=P(ct),A=T(ct,"DIV",{class:!0});var Rt=k(A);st(M.$$.fragment,Rt),Rt.forEach(g),ct.forEach(g),y=P(W),L=T(W,"DIV",{class:!0});var Ot=k(L);st(I.$$.fragment,Ot),Ot.forEach(g),W.forEach(g),H.forEach(g),N.forEach(g),this.h()},h(){f(n,"class","w-16 h-6 flex items-center justify-center bg-[#0F172A]/90 backdrop-blur-md border border-white/20 border-b-0 rounded-t-xl text-slate-400 hover:text-white transition-all cursor-pointer active:scale-95"),f(n,"title","Minimizar"),f(o,"class","w-10 h-6 flex items-center justify-center bg-red-500/10 hover:bg-red-500/80 backdrop-blur-md border border-red-500/20 hover:border-red-500 border-b-0 rounded-t-xl text-red-400 hover:text-white transition-all cursor-pointer active:scale-95 group/close"),f(o,"title","Cerrar Reproductor"),f(e,"class","flex items-end gap-1 -mb-[1px] z-10"),f(u,"class","absolute inset-0 bg-[#0F172A]/90 backdrop-blur-2xl border border-white/10 rounded-2xl md:rounded-3xl shadow-[0_8px_32px_rgba(0,0,0,0.5)] overflow-hidden"),f(b,"class","flex-shrink-0"),f(x,"class","flex items-center justify-center mb-2"),f(A,"class","w-full px-2"),f(w,"class","flex-1 flex flex-col justify-center max-w-md w-full"),f(L,"class","flex-shrink-0 flex items-center"),f(h,"class","relative z-10 w-full p-3 md:px-6 flex items-center justify-between gap-3 md:gap-12"),f(c,"class","relative w-full group"),f(t,"class","fixed bottom-2 md:bottom-6 left-1/2 -translate-x-1/2 w-[95%] md:w-auto md:min-w-[700px] max-w-5xl z-[100] flex flex-col items-center")},m(D,N){O(D,t,N),v(t,e),v(e,n),v(e,a),v(e,o),v(t,s),v(t,c),v(c,u),v(c,m),v(c,h),v(h,b),ot(_,b,null),v(h,p),v(h,w),v(w,x),ot(C,x,null),v(w,R),v(w,A),ot(M,A,null),v(h,y),v(h,L),ot(I,L,null),V=!0,z||(q=[U(n,"click",r[11]),U(o,"click",r[5])],z=!0)},p(D,N){const B={};N&1&&(B.currentTrack=D[0]),N&8&&(B.isFavorite=D[3]),N&1&&(B.onFavoriteClick=D[12]),_.$set(B)},i(D){V||($(_.$$.fragment,D),$(C.$$.fragment,D),$(M.$$.fragment,D),$(I.$$.fragment,D),D&&Bt(()=>{V&&(S||(S=_t(t,we,{duration:400,axis:"y"},!0)),S.run(1))}),V=!0)},o(D){j(_.$$.fragment,D),j(C.$$.fragment,D),j(M.$$.fragment,D),j(I.$$.fragment,D),D&&(S||(S=_t(t,we,{duration:400,axis:"y"},!1)),S.run(0)),V=!1},d(D){D&&g(t),it(_),it(C),it(M),it(I),D&&S&&S.end(),z=!1,Dt(q)}}}function Ai(r){let t,e;return t=new ii({props:{currentTrack:r[0],onExpand:r[9],isFavorite:r[3],onFavoriteClick:r[10],onClose:r[5]}}),{c(){lt(t.$$.fragment)},l(n){st(t.$$.fragment,n)},m(n,i){ot(t,n,i),e=!0},p(n,i){const a={};i&1&&(a.currentTrack=n[0]),i&2&&(a.onExpand=n[9]),i&8&&(a.isFavorite=n[3]),i&1&&(a.onFavoriteClick=n[10]),t.$set(a)},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){j(t.$$.fragment,n),e=!1},d(n){it(t,n)}}}function Si(r){let t,e,n=r[0]&&!r[2]&&Fe(r);return{c(){n&&n.c(),t=ht()},l(i){n&&n.l(i),t=ht()},m(i,a){n&&n.m(i,a),O(i,t,a),e=!0},p(i,[a]){i[0]&&!i[2]?n?(n.p(i,a),a&5&&$(n,1)):(n=Fe(i),n.c(),$(n,1),n.m(t.parentNode,t)):n&&(yt(),j(n,1,1,()=>{n=null}),xt())},i(i){e||($(n),e=!0)},o(i){j(n),e=!1},d(i){i&&g(t),n&&n.d(i)}}}function Mi(r,t,e){let n,i,a,o;J(r,zn,w=>e(7,a=w)),J(r,Z,w=>e(8,o=w));const l=kn();let s=!1,c=!1,u;function d(){Z.update(w=>({...w,isPlaying:!1})),e(2,c=!0)}const m=()=>e(1,s=!1),h=()=>n?.id&&_e(n.id),b=()=>e(1,s=!0),_=()=>n?.id&&_e(n.id),p=()=>l("showTracks");return r.$$.update=()=>{r.$$.dirty&256&&e(0,n=o.playlist[o.currentTrackIndex]),r.$$.dirty&129&&e(3,i=n?.id?Nn(n.id,a):!1),r.$$.dirty&1,r.$$.dirty&65&&n?.id!==u&&(e(6,u=n?.id),e(2,c=!1))},[n,s,c,i,l,d,u,a,o,m,h,b,_,p]}class Vi extends et{constructor(t){super(),nt(this,t,Mi,Si,rt,{})}}function Be(r){let t,e,n,i,a,o,l;return{c(){t=E("div"),e=E("div"),n=F(),i=E("span"),a=bt(r[1]),this.h()},l(s){t=T(s,"DIV",{class:!0});var c=k(t);e=T(c,"DIV",{class:!0}),k(e).forEach(g),n=P(c),i=T(c,"SPAN",{class:!0});var u=k(i);a=vt(u,r[1]),u.forEach(g),c.forEach(g),this.h()},h(){f(e,"class","w-2 h-2 rounded-full bg-green-400 animate-pulse shadow-[0_0_10px_rgba(74,222,128,0.5)]"),f(i,"class","text-xs md:text-sm font-medium text-slate-200 tracking-wide font-poppins"),f(t,"class","fixed top-20 md:top-8 left-1/2 -translate-x-1/2 z-[100] px-5 py-2.5 bg-[#0F172A]/80 backdrop-blur-xl rounded-full border border-white/10 shadow-2xl flex items-center gap-3 pointer-events-none")},m(s,c){O(s,t,c),v(t,e),v(t,n),v(t,i),v(i,a),l=!0},p(s,c){(!l||c&2)&&gt(a,s[1])},i(s){l||(s&&Bt(()=>{l&&(o||(o=_t(t,Pt,{y:-20,duration:600},!0)),o.run(1))}),l=!0)},o(s){s&&(o||(o=_t(t,Pt,{y:-20,duration:600},!1)),o.run(0)),l=!1},d(s){s&&g(t),s&&o&&o.end()}}}function Di(r){let t,e=r[0]&&r[1]&&Be(r);return{c(){e&&e.c(),t=ht()},l(n){e&&e.l(n),t=ht()},m(n,i){e&&e.m(n,i),O(n,t,i)},p(n,[i]){n[0]&&n[1]?e?(e.p(n,i),i&3&&$(e,1)):(e=Be(n),e.c(),$(e,1),e.m(t.parentNode,t)):e&&(yt(),j(e,1,1,()=>{e=null}),xt())},i(n){$(e)},o(n){j(e)},d(n){n&&g(t),e&&e.d(n)}}}function Li(r,t,e){let n,i;J(r,Z,c=>e(5,i=c));let a=!1,o="",l="",s;return Tn(()=>{s&&clearTimeout(s)}),r.$$.update=()=>{r.$$.dirty&32&&e(4,n=i.playlist?.[i.currentTrackIndex]),r.$$.dirty&28&&n&&n.id!==l&&(e(2,l=n.id||""),e(1,o=`${n.title} • ${n.artist}`),e(0,a=!0),s&&clearTimeout(s),e(3,s=setTimeout(()=>{e(0,a=!1)},4e3)))},[a,o,l,s,n,i]}class Ii extends et{constructor(t){super(),nt(this,t,Li,Di,rt,{})}}function ze(r){let t,e,n,i=`<h3 class="font-bold text-white text-lg mb-2">🍪 Usamos cookies (las justas)</h3> <p class="text-slate-300 text-sm leading-relaxed">Utilizamos cookies esenciales para gestionar tu sesión,
                    procesar pagos y guardar tu configuración de música. Sin
                    rastreadores publicitarios externos.
                    <a href="/legal/cookies" class="text-primary-400 hover:text-primary-300 underline ml-1">Leer política.</a></p>`,a,o,l="Aceptar y Continuar",s,c,u,d;return{c(){t=E("div"),e=E("div"),n=E("div"),n.innerHTML=i,a=F(),o=E("button"),o.textContent=l,this.h()},l(m){t=T(m,"DIV",{class:!0});var h=k(t);e=T(h,"DIV",{class:!0});var b=k(e);n=T(b,"DIV",{class:!0,"data-svelte-h":!0}),tt(n)!=="svelte-v0qrr0"&&(n.innerHTML=i),a=P(b),o=T(b,"BUTTON",{class:!0,"data-svelte-h":!0}),tt(o)!=="svelte-1ehyrvc"&&(o.textContent=l),b.forEach(g),h.forEach(g),this.h()},h(){f(n,"class","mb-4 md:mb-0"),f(o,"class","w-full md:w-auto px-8 py-3 bg-primary-500 hover:bg-primary-600 text-white font-bold rounded-xl transition-all shadow-lg shadow-primary-900/30 whitespace-nowrap"),f(e,"class","max-w-4xl mx-auto bg-midnight-800/95 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-6 md:flex items-center justify-between gap-6"),f(t,"class","fixed bottom-0 left-0 right-0 z-50 p-4 md:p-6")},m(m,h){O(m,t,h),v(t,e),v(e,n),v(e,a),v(e,o),c=!0,u||(d=U(o,"click",r[1]),u=!0)},p:Y,i(m){c||(m&&Bt(()=>{c&&(s||(s=_t(t,Pt,{y:50,duration:500},!0)),s.run(1))}),c=!0)},o(m){m&&(s||(s=_t(t,Pt,{y:50,duration:500},!1)),s.run(0)),c=!1},d(m){m&&g(t),m&&s&&s.end(),u=!1,d()}}}function Ri(r){let t,e=r[0]&&ze(r);return{c(){e&&e.c(),t=ht()},l(n){e&&e.l(n),t=ht()},m(n,i){e&&e.m(n,i),O(n,t,i)},p(n,[i]){n[0]?e?(e.p(n,i),i&1&&$(e,1)):(e=ze(n),e.c(),$(e,1),e.m(t.parentNode,t)):e&&(yt(),j(e,1,1,()=>{e=null}),xt())},i(n){$(e)},o(n){j(e)},d(n){n&&g(t),e&&e.d(n)}}}function Oi(r,t,e){let n=!1;ce(()=>{localStorage.getItem("cookie_consent")||setTimeout(()=>e(0,n=!0),1e3)});function i(){localStorage.setItem("cookie_consent","true"),e(0,n=!1)}return[n,i]}class Pi extends et{constructor(t){super(),nt(this,t,Oi,Ri,rt,{})}}function Ne(r,t,e){const n=r.slice();return n[2]=t[e],n}function $e(r,t){let e,n,i=He(t[2].type)+"",a,o,l,s=t[2].message+"",c,u,d,m="✕",h,b,_,p,w,x=Y,C,R,A;function M(){return t[1](t[2])}return{key:r,first:null,c(){e=E("div"),n=E("span"),a=bt(i),o=F(),l=E("p"),c=bt(s),u=F(),d=E("button"),d.textContent=m,h=F(),this.h()},l(y){e=T(y,"DIV",{class:!0,role:!0});var L=k(e);n=T(L,"SPAN",{class:!0});var I=k(n);a=vt(I,i),I.forEach(g),o=P(L),l=T(L,"P",{class:!0});var S=k(l);c=vt(S,s),S.forEach(g),u=P(L),d=T(L,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),tt(d)!=="svelte-89ea1t"&&(d.textContent=m),h=P(L),L.forEach(g),this.h()},h(){f(n,"class","text-xl"),f(l,"class","text-sm font-medium flex-1"),f(d,"class","opacity-50 hover:opacity-100 transition-opacity p-1"),f(d,"aria-label","Cerrar notificación"),f(e,"class",b="pointer-events-auto flex items-center gap-3 px-6 py-4 rounded-2xl backdrop-blur-xl border shadow-2xl "+We(t[2].type)+" min-w-[300px]"),f(e,"role","alert"),this.first=e},m(y,L){O(y,e,L),v(e,n),v(n,a),v(e,o),v(e,l),v(l,c),v(e,u),v(e,d),v(e,h),C=!0,R||(A=U(d,"click",M),R=!0)},p(y,L){t=y,(!C||L&1)&&i!==(i=He(t[2].type)+"")&&gt(a,i),(!C||L&1)&&s!==(s=t[2].message+"")&&gt(c,s),(!C||L&1&&b!==(b="pointer-events-auto flex items-center gap-3 px-6 py-4 rounded-2xl backdrop-blur-xl border shadow-2xl "+We(t[2].type)+" min-w-[300px]"))&&f(e,"class",b)},r(){w=e.getBoundingClientRect()},f(){jn(e),x(),nn(e,w)},a(){x(),x=Wn(e,w,$r,{duration:300})},i(y){C||(y&&Bt(()=>{C&&(p&&p.end(1),_=Cn(e,Pt,{y:-20,duration:300}),_.start())}),C=!0)},o(y){_&&_.invalidate(),y&&(p=En(e,oe,{duration:200})),C=!1},d(y){y&&g(e),y&&p&&p.end(),R=!1,A()}}}function Fi(r){let t,e=[],n=new Map,i,a=Xt(r[0]);const o=l=>l[2].id;for(let l=0;l<a.length;l+=1){let s=Ne(r,a,l),c=o(s);n.set(c,e[l]=$e(c,s))}return{c(){t=E("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=T(l,"DIV",{class:!0});var s=k(t);for(let c=0;c<e.length;c+=1)e[c].l(s);s.forEach(g),this.h()},h(){f(t,"class","fixed top-32 left-1/2 -translate-x-1/2 z-[100] flex flex-col items-center gap-3 w-full max-w-sm px-4 pointer-events-none")},m(l,s){O(l,t,s);for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(t,null);i=!0},p(l,[s]){if(s&1){a=Xt(l[0]),yt();for(let c=0;c<e.length;c+=1)e[c].r();e=Ln(e,s,o,1,l,a,n,t,In,$e,null,Ne);for(let c=0;c<e.length;c+=1)e[c].a();xt()}},i(l){if(!i){for(let s=0;s<a.length;s+=1)$(e[s]);i=!0}},o(l){for(let s=0;s<e.length;s+=1)j(e[s]);i=!1},d(l){l&&g(t);for(let s=0;s<e.length;s+=1)e[s].d()}}}function He(r){switch(r){case"success":return"✅";case"error":return"❌";case"warning":return"⚠️";case"info":return"ℹ️";default:return"🔔"}}function We(r){switch(r){case"success":return"bg-green-500/10 border-green-500/30 text-green-200";case"error":return"bg-red-500/10 border-red-500/30 text-red-200";case"warning":return"bg-yellow-500/10 border-yellow-500/30 text-yellow-200";default:return"bg-blue-500/10 border-blue-500/30 text-blue-200"}}function Bi(r,t,e){let n;return J(r,ye,a=>e(0,n=a)),[n,a=>ye.remove(a.id)]}class zi extends et{constructor(t){super(),nt(this,t,Bi,Fi,rt,{})}}function Ni(r,t,e){let n,i;J(r,Je,s=>e(0,n=s)),J(r,Z,s=>e(1,i=s));let a=0,o;async function l(){if(!n.user)return;const s=i,c=Date.now();if(c-a<2e3){clearTimeout(o),o=setTimeout(l,2e3);return}a=c;let u="/logo-mobile.png",d="ChillChess",m="Chill Session";if(s.playlist&&s.playlist.length>0){const b=s.playlist[s.currentTrackIndex];if(b){const _=s.availableAlbums.find(p=>p.id===s.currentAlbumId);m=b.title,d=b.artist||_?.artist||"ChillChess Artist",u=b.coverUrl||b.cover||_?.cover||"/logo-mobile.png"}}const h={isPlaying:s.isPlaying,track:{title:m,artist:d,cover:u,duration:s.duration||0,currentTime:s.currentTime||0},updatedAt:c};try{await Qe(tn(en,"nowPlaying",n.user.uid),h,{merge:!0})}catch(b){console.warn("Widget sync error:",b)}}return r.$$.update=()=>{r.$$.dirty&3&&n.user&&(i.currentTrackIndex,i.isPlaying,Math.floor(i.currentTime/5),l())},[n,i]}class $i extends et{constructor(t){super(),nt(this,t,Ni,null,rt,{})}}function Hi(r,t,e){let n,i;J(r,$n,l=>e(0,n=l)),J(r,Je,l=>e(1,i=l));let a="";async function o(l,s){const c={isRunning:s.isRunning,mode:s.mode,duration:s.duration,timeLeft:s.isRunning?"running":s.timeLeft},u=JSON.stringify(c);if(u!==a){a=u;try{const d=tn(en,"nowPlaying",l),m={timer:{mode:s.mode,duration:s.duration,isRunning:s.isRunning,updatedAt:Date.now()}};s.isRunning?m.timer.targetEndTime=Date.now()+s.timeLeft*1e3:(m.timer.timeLeft=s.timeLeft,m.timer.targetEndTime=null),await Qe(d,m,{merge:!0})}catch(d){console.error("Timer Sync Error",d)}}}return r.$$.update=()=>{r.$$.dirty&3&&i.user&&o(i.user.uid,n)},[n,i]}class Wi extends et{constructor(t){super(),nt(this,t,Hi,null,rt,{})}}function je(r){let t,e;return t=new jr({}),{c(){lt(t.$$.fragment)},l(n){st(t.$$.fragment,n)},m(n,i){ot(t,n,i),e=!0},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){j(t.$$.fragment,n),e=!1},d(n){it(t,n)}}}function Ue(r){let t,e,n=!r[0].url.pathname.startsWith("/app")&&!r[0].url.pathname.match(/^\/rooms\/[a-zA-Z0-9]+$/),i,a,o,l,s,c,u,d,m,h,b;t=new Zr({});let _=n&&qe();return a=new Ii({}),l=new zi({}),c=new Pi({}),d=new $i({}),h=new Wi({}),{c(){lt(t.$$.fragment),e=F(),_&&_.c(),i=F(),lt(a.$$.fragment),o=F(),lt(l.$$.fragment),s=F(),lt(c.$$.fragment),u=F(),lt(d.$$.fragment),m=F(),lt(h.$$.fragment)},l(p){st(t.$$.fragment,p),e=P(p),_&&_.l(p),i=P(p),st(a.$$.fragment,p),o=P(p),st(l.$$.fragment,p),s=P(p),st(c.$$.fragment,p),u=P(p),st(d.$$.fragment,p),m=P(p),st(h.$$.fragment,p)},m(p,w){ot(t,p,w),O(p,e,w),_&&_.m(p,w),O(p,i,w),ot(a,p,w),O(p,o,w),ot(l,p,w),O(p,s,w),ot(c,p,w),O(p,u,w),ot(d,p,w),O(p,m,w),ot(h,p,w),b=!0},p(p,w){w&1&&(n=!p[0].url.pathname.startsWith("/app")&&!p[0].url.pathname.match(/^\/rooms\/[a-zA-Z0-9]+$/)),n?_?w&1&&$(_,1):(_=qe(),_.c(),$(_,1),_.m(i.parentNode,i)):_&&(yt(),j(_,1,1,()=>{_=null}),xt())},i(p){b||($(t.$$.fragment,p),$(_),$(a.$$.fragment,p),$(l.$$.fragment,p),$(c.$$.fragment,p),$(d.$$.fragment,p),$(h.$$.fragment,p),b=!0)},o(p){j(t.$$.fragment,p),j(_),j(a.$$.fragment,p),j(l.$$.fragment,p),j(c.$$.fragment,p),j(d.$$.fragment,p),j(h.$$.fragment,p),b=!1},d(p){p&&(g(e),g(i),g(o),g(s),g(u),g(m)),it(t,p),_&&_.d(p),it(a,p),it(l,p),it(c,p),it(d,p),it(h,p)}}}function qe(r){let t,e;return t=new Vi({}),{c(){lt(t.$$.fragment)},l(n){st(t.$$.fragment,n)},m(n,i){ot(t,n,i),e=!0},i(n){e||($(t.$$.fragment,n),e=!0)},o(n){j(t.$$.fragment,n),e=!1},d(n){it(t,n)}}}function ji(r){let t,e,n,i,a,o,l=r[0].url.pathname!=="/widget"&&je();const s=r[2].default,c=An(s,r,r[1],null);let u=r[0].url.pathname!=="/widget"&&Ue(r);return{c(){t=E("div"),l&&l.c(),e=F(),n=E("div"),c&&c.c(),a=F(),u&&u.c(),this.h()},l(d){t=T(d,"DIV",{class:!0});var m=k(t);l&&l.l(m),e=P(m),n=T(m,"DIV",{class:!0});var h=k(n);c&&c.l(h),h.forEach(g),a=P(m),u&&u.l(m),m.forEach(g),this.h()},h(){f(n,"class",i="relative z-10 "+(r[0].url.pathname!=="/"&&!r[0].url.pathname.startsWith("/app")&&!r[0].url.pathname.match(/^\/rooms\/[a-zA-Z0-9]+$/)?"pb-32":"")),f(t,"class","min-h-screen w-full relative")},m(d,m){O(d,t,m),l&&l.m(t,null),v(t,e),v(t,n),c&&c.m(n,null),v(t,a),u&&u.m(t,null),o=!0},p(d,[m]){d[0].url.pathname!=="/widget"?l?m&1&&$(l,1):(l=je(),l.c(),$(l,1),l.m(t,e)):l&&(yt(),j(l,1,1,()=>{l=null}),xt()),c&&c.p&&(!o||m&2)&&Sn(c,s,d,d[1],o?Vn(s,d[1],m,null):Mn(d[1]),null),(!o||m&1&&i!==(i="relative z-10 "+(d[0].url.pathname!=="/"&&!d[0].url.pathname.startsWith("/app")&&!d[0].url.pathname.match(/^\/rooms\/[a-zA-Z0-9]+$/)?"pb-32":"")))&&f(n,"class",i),d[0].url.pathname!=="/widget"?u?(u.p(d,m),m&1&&$(u,1)):(u=Ue(d),u.c(),$(u,1),u.m(t,null)):u&&(yt(),j(u,1,1,()=>{u=null}),xt())},i(d){o||($(l),$(c,d),$(u),o=!0)},o(d){j(l),j(c,d),j(u),o=!1},d(d){d&&g(t),l&&l.d(),c&&c.d(d),u&&u.d()}}}function Ui(r,t,e){let n;J(r,Ye,o=>e(0,n=o));let{$$slots:i={},$$scope:a}=t;return zr.set({computePosition:Br,autoUpdate:Ir,offset:Rr,shift:Or,flip:Pr,arrow:Fr}),ce(()=>{Fn()}),Hn(({from:o,to:l})=>{o?.url.pathname.startsWith("/app")&&l?.url.pathname&&!l.url.pathname.startsWith("/app")&&Z.update(s=>({...s,isPlaying:!1,currentWhiteNoise:"none",currentAmbience:"none"}))}),r.$$set=o=>{"$$scope"in o&&e(1,a=o.$$scope)},[n,a,i]}class ao extends et{constructor(t){super(),nt(this,t,Ui,ji,rt,{})}}export{ao as component};
