const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/C9UhFrXA.js","../chunks/CSpmTaba.js","../chunks/Dmpml9mb.js","../chunks/C6etf3KI.js"])))=>i.map(i=>d[i]);
import{_ as rl}from"../chunks/CmsKOCeN.js";import{S as wt,i as kt,s as Ct,n as je,d as u,M as $e,N as Me,a0 as dt,b as ee,v as s,F as we,g as a,T as At,h as i,q as h,j as R,B as _,k as c,D as m,o as yt,A as fe,C as O,E as U,$ as jt,z as xt,w as al,x as nl,P as zs,W as _l,L as Ut,f as ml,a9 as qs,y as Il,e as Vl,G as pt,t as st,a as We,c as hl,H as vt,I as Gs,J as bt,K as _t,_ as ol,r as pl,U as Ks}from"../chunks/C6etf3KI.js";import{e as qe,u as Qs,d as Js}from"../chunks/SWtz04H7.js";import"../chunks/IHki7fMi.js";import{b as Al,f as vl}from"../chunks/DsY9fEJy.js";import{a as bl}from"../chunks/Da4qeRU0.js";import{c as Vt,d as Ke,q as Mt,e as Rt,l as Rs,f as il,b as nt,u as gt,x as Ft,n as Hs,g as Nl,v as Xs,i as Pl,h as Sl,y as dl,z as fl,A as Zs,B as Bl,C as Ll,T as Ws}from"../chunks/CSpmTaba.js";import{u as Ys}from"../chunks/C9UhFrXA.js";import{B as $s}from"../chunks/Mltwdu0x.js";import{U as er}from"../chunks/Bw-UUkRb.js";import{B as tr}from"../chunks/s1YdPfiS.js";import{M as lr}from"../chunks/BNFKf14o.js";import{A as sr}from"../chunks/DjDbTAWn.js";function Ol(r,e,t){const l=r.slice();return l[22]=e[t],l}function Ul(r,e,t){const l=r.slice();return l[22]=e[t],l}function Ml(r){let e,t;return{c(){e=c("div"),t=U(r[5]),this.h()},l(l){e=i(l,"DIV",{class:!0});var n=h(e);t=O(n,r[5]),n.forEach(u),this.h()},h(){a(e,"class","mb-6 p-4 bg-white/10 border border-white/20 rounded-xl")},m(l,n){ee(l,e,n),s(e,t)},p(l,n){n&32&&fe(t,l[5])},d(l){l&&u(e)}}}function rr(r){let e,t,l,n,d='<tr><th class="px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-300">Usuario</th> <th class="px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-300">Plan</th> <th class="px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-300">Estado</th> <th class="px-6 py-4 text-right text-xs font-bold uppercase tracking-wider text-slate-300">Acciones</th></tr>',o,f,v,p,w,C,E,L,V=r[3].length+"",D,S,T=r[2].length+"",b,N,k=qe(r[3]),g=[];for(let x=0;x<k.length;x+=1)g[x]=Rl(Ul(r,k,x));let I=qe(r[3]),P=[];for(let x=0;x<I.length;x+=1)P[x]=ql(Ol(r,I,x));let B=r[3].length===0&&Gl();return{c(){e=c("div"),t=c("div"),l=c("table"),n=c("thead"),n.innerHTML=d,o=m(),f=c("tbody");for(let x=0;x<g.length;x+=1)g[x].c();v=m(),p=c("div");for(let x=0;x<P.length;x+=1)P[x].c();w=m(),B&&B.c(),C=m(),E=c("div"),L=U("Mostrando "),D=U(V),S=U(" de "),b=U(T),N=U(" usuarios"),this.h()},l(x){e=i(x,"DIV",{class:!0});var A=h(e);t=i(A,"DIV",{class:!0});var y=h(t);l=i(y,"TABLE",{class:!0});var j=h(l);n=i(j,"THEAD",{class:!0,"data-svelte-h":!0}),R(n)!=="svelte-1u7mm2j"&&(n.innerHTML=d),o=_(j),f=i(j,"TBODY",{class:!0});var H=h(f);for(let q=0;q<g.length;q+=1)g[q].l(H);H.forEach(u),j.forEach(u),y.forEach(u),A.forEach(u),v=_(x),p=i(x,"DIV",{class:!0});var M=h(p);for(let q=0;q<P.length;q+=1)P[q].l(M);M.forEach(u),w=_(x),B&&B.l(x),C=_(x),E=i(x,"DIV",{class:!0});var z=h(E);L=O(z,"Mostrando "),D=O(z,V),S=O(z," de "),b=O(z,T),N=O(z," usuarios"),z.forEach(u),this.h()},h(){a(n,"class","bg-white/5 border-b border-white/10"),a(f,"class","divide-y divide-white/5"),a(l,"class","w-full"),a(t,"class","overflow-x-auto"),a(e,"class","hidden md:block bg-white/5 border border-white/10 rounded-2xl overflow-hidden"),a(p,"class","md:hidden space-y-4"),a(E,"class","px-2 py-4 text-sm text-slate-500 text-center")},m(x,A){ee(x,e,A),s(e,t),s(t,l),s(l,n),s(l,o),s(l,f);for(let y=0;y<g.length;y+=1)g[y]&&g[y].m(f,null);ee(x,v,A),ee(x,p,A);for(let y=0;y<P.length;y+=1)P[y]&&P[y].m(p,null);ee(x,w,A),B&&B.m(x,A),ee(x,C,A),ee(x,E,A),s(E,L),s(E,D),s(E,S),s(E,b),s(E,N)},p(x,A){if(A&968){k=qe(x[3]);let y;for(y=0;y<k.length;y+=1){const j=Ul(x,k,y);g[y]?g[y].p(j,A):(g[y]=Rl(j),g[y].c(),g[y].m(f,null))}for(;y<g.length;y+=1)g[y].d(1);g.length=k.length}if(A&968){I=qe(x[3]);let y;for(y=0;y<I.length;y+=1){const j=Ol(x,I,y);P[y]?P[y].p(j,A):(P[y]=ql(j),P[y].c(),P[y].m(p,null))}for(;y<P.length;y+=1)P[y].d(1);P.length=I.length}x[3].length===0?B||(B=Gl(),B.c(),B.m(C.parentNode,C)):B&&(B.d(1),B=null),A&8&&V!==(V=x[3].length+"")&&fe(D,V),A&4&&T!==(T=x[2].length+"")&&fe(b,T)},d(x){x&&(u(e),u(v),u(p),u(w),u(C),u(E)),xt(g,x),xt(P,x),B&&B.d(x)}}}function ar(r){let e,t='<div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-white/20 border-t-white"></div> <p class="mt-4 text-slate-400">Cargando usuarios...</p>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-lu67yh"&&(e.innerHTML=t),this.h()},h(){a(e,"class","text-center py-12")},m(l,n){ee(l,e,n)},p:je,d(l){l&&u(e)}}}function jl(r){let e,t="‚úì Verificado";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1gg5uyn"&&(e.textContent=t),this.h()},h(){a(e,"class","inline-flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-300 rounded-lg text-xs font-bold")},m(l,n){ee(l,e,n)},d(l){l&&u(e)}}}function Fl(r){let e,t="üëë Admin";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1ie2xqt"&&(e.textContent=t),this.h()},h(){a(e,"class","inline-flex items-center gap-1 px-2 py-1 bg-red-500/20 text-red-300 rounded-lg text-xs font-bold")},m(l,n){ee(l,e,n)},d(l){l&&u(e)}}}function Rl(r){let e,t,l,n,d=(r[22].displayName||"Sin nombre")+"",o,f,v,p=r[22].email+"",w,C,E,L=r[22].uid+"",V,D,S,T,b,N="Free",k,g="PRO",I,P,B,x,A,y,j,H,M,z=r[22].isVerified?"‚úó":"‚úì",q,te,se,G,K,J,oe,ie,re,X,W="üóëÔ∏è",de,pe,_e;function ke(...le){return r[12](r[22],...le)}let ae=r[22].isVerified&&jl(),Q=r[22].isAdmin&&Fl();function ve(){return r[13](r[22])}function Y(){return r[14](r[22])}function F(){return r[15](r[22])}return{c(){e=c("tr"),t=c("td"),l=c("div"),n=c("p"),o=U(d),f=m(),v=c("p"),w=U(p),C=m(),E=c("p"),V=U(L),D=m(),S=c("td"),T=c("select"),b=c("option"),b.textContent=N,k=c("option"),k.textContent=g,P=m(),B=c("td"),x=c("div"),ae&&ae.c(),A=m(),Q&&Q.c(),y=m(),j=c("td"),H=c("div"),M=c("button"),q=U(z),G=m(),K=c("button"),J=U("üëë"),re=m(),X=c("button"),X.textContent=W,de=m(),this.h()},l(le){e=i(le,"TR",{class:!0});var Z=h(e);t=i(Z,"TD",{class:!0});var me=h(t);l=i(me,"DIV",{});var ce=h(l);n=i(ce,"P",{class:!0});var be=h(n);o=O(be,d),be.forEach(u),f=_(ce),v=i(ce,"P",{class:!0});var he=h(v);w=O(he,p),he.forEach(u),C=_(ce),E=i(ce,"P",{class:!0});var ue=h(E);V=O(ue,L),ue.forEach(u),ce.forEach(u),me.forEach(u),D=_(Z),S=i(Z,"TD",{class:!0});var $=h(S);T=i($,"SELECT",{class:!0});var xe=h(T);b=i(xe,"OPTION",{"data-svelte-h":!0}),R(b)!=="svelte-88bi0a"&&(b.textContent=N),k=i(xe,"OPTION",{"data-svelte-h":!0}),R(k)!=="svelte-1k6mio0"&&(k.textContent=g),xe.forEach(u),$.forEach(u),P=_(Z),B=i(Z,"TD",{class:!0});var Le=h(B);x=i(Le,"DIV",{class:!0});var Ee=h(x);ae&&ae.l(Ee),A=_(Ee),Q&&Q.l(Ee),Ee.forEach(u),Le.forEach(u),y=_(Z),j=i(Z,"TD",{class:!0});var De=h(j);H=i(De,"DIV",{class:!0});var ne=h(H);M=i(ne,"BUTTON",{class:!0,title:!0});var Pe=h(M);q=O(Pe,z),Pe.forEach(u),G=_(ne),K=i(ne,"BUTTON",{class:!0,title:!0});var Te=h(K);J=O(Te,"üëë"),Te.forEach(u),re=_(ne),X=i(ne,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),R(X)!=="svelte-bnd7n"&&(X.textContent=W),ne.forEach(u),De.forEach(u),de=_(Z),Z.forEach(u),this.h()},h(){a(n,"class","font-medium text-white"),a(v,"class","text-sm text-slate-400"),a(E,"class","text-xs text-slate-500 font-mono mt-1"),a(t,"class","px-6 py-4"),b.__value="free",Me(b,b.__value),k.__value="pro",Me(k,k.__value),a(T,"class","px-3 py-1.5 rounded-lg text-xs font-bold bg-midnight-800 border border-white/20 text-white focus:outline-none focus:border-primary-500"),a(S,"class","px-6 py-4"),a(x,"class","flex flex-wrap gap-2"),a(B,"class","px-6 py-4"),a(M,"class",te="p-2 rounded-lg transition-colors "+(r[22].isVerified?"bg-red-500/20 text-red-300":"bg-green-500/20 text-green-300")),a(M,"title",se=r[22].isVerified?"Quitar verificado":"Verificar"),a(K,"class",oe="p-2 rounded-lg transition-colors "+(r[22].isAdmin?"bg-orange-500/20 text-orange-300":"bg-slate-500/20 text-slate-300")),a(K,"title",ie=r[22].isAdmin?"Quitar admin":"Hacer admin"),a(X,"class","p-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors"),a(X,"title","Eliminar usuario"),a(H,"class","flex items-center justify-end gap-2"),a(j,"class","px-6 py-4 text-right"),a(e,"class","hover:bg-white/5 transition-colors")},m(le,Z){ee(le,e,Z),s(e,t),s(t,l),s(l,n),s(n,o),s(l,f),s(l,v),s(v,w),s(l,C),s(l,E),s(E,V),s(e,D),s(e,S),s(S,T),s(T,b),s(T,k),dt(T,r[22].subscriptionTier||"free"),s(e,P),s(e,B),s(B,x),ae&&ae.m(x,null),s(x,A),Q&&Q.m(x,null),s(e,y),s(e,j),s(j,H),s(H,M),s(M,q),s(H,G),s(H,K),s(K,J),s(H,re),s(H,X),s(e,de),pe||(_e=[we(T,"change",ke),we(M,"click",ve),we(K,"click",Y),we(X,"click",F)],pe=!0)},p(le,Z){r=le,Z&8&&d!==(d=(r[22].displayName||"Sin nombre")+"")&&fe(o,d),Z&8&&p!==(p=r[22].email+"")&&fe(w,p),Z&8&&L!==(L=r[22].uid+"")&&fe(V,L),Z&8&&I!==(I=r[22].subscriptionTier||"free")&&dt(T,r[22].subscriptionTier||"free"),r[22].isVerified?ae||(ae=jl(),ae.c(),ae.m(x,A)):ae&&(ae.d(1),ae=null),r[22].isAdmin?Q||(Q=Fl(),Q.c(),Q.m(x,null)):Q&&(Q.d(1),Q=null),Z&8&&z!==(z=r[22].isVerified?"‚úó":"‚úì")&&fe(q,z),Z&8&&te!==(te="p-2 rounded-lg transition-colors "+(r[22].isVerified?"bg-red-500/20 text-red-300":"bg-green-500/20 text-green-300"))&&a(M,"class",te),Z&8&&se!==(se=r[22].isVerified?"Quitar verificado":"Verificar")&&a(M,"title",se),Z&8&&oe!==(oe="p-2 rounded-lg transition-colors "+(r[22].isAdmin?"bg-orange-500/20 text-orange-300":"bg-slate-500/20 text-slate-300"))&&a(K,"class",oe),Z&8&&ie!==(ie=r[22].isAdmin?"Quitar admin":"Hacer admin")&&a(K,"title",ie)},d(le){le&&u(e),ae&&ae.d(),Q&&Q.d(),pe=!1,$e(_e)}}}function Hl(r){let e,t="‚úì Verificado";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-bgtm45"&&(e.textContent=t),this.h()},h(){a(e,"class","inline-flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-300 rounded-lg text-xs font-bold")},m(l,n){ee(l,e,n)},d(l){l&&u(e)}}}function zl(r){let e,t="üëë Admin";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-hye89r"&&(e.textContent=t),this.h()},h(){a(e,"class","inline-flex items-center gap-1 px-2 py-1 bg-red-500/20 text-red-300 rounded-lg text-xs font-bold")},m(l,n){ee(l,e,n)},d(l){l&&u(e)}}}function ql(r){let e,t,l,n,d=(r[22].displayName||"Sin nombre")+"",o,f,v,p=r[22].email+"",w,C,E,L=r[22].uid+"",V,D,S,T,b,N="Free",k,g="PRO",I,P,B,x,A,y,j,H=r[22].isVerified?"Quitar":"Verificar",M,z,q,te,se,G,K,J,oe="Eliminar",ie,re,X;function W(...Q){return r[16](r[22],...Q)}let de=r[22].isVerified&&Hl(),pe=r[22].isAdmin&&zl();function _e(){return r[17](r[22])}function ke(){return r[18](r[22])}function ae(){return r[19](r[22])}return{c(){e=c("div"),t=c("div"),l=c("div"),n=c("p"),o=U(d),f=m(),v=c("p"),w=U(p),C=m(),E=c("p"),V=U(L),D=m(),S=c("div"),T=c("select"),b=c("option"),b.textContent=N,k=c("option"),k.textContent=g,P=m(),B=c("div"),de&&de.c(),x=m(),pe&&pe.c(),A=m(),y=c("div"),j=c("button"),M=U(H),q=m(),te=c("button"),se=U("Admin"),K=m(),J=c("button"),J.textContent=oe,ie=m(),this.h()},l(Q){e=i(Q,"DIV",{class:!0});var ve=h(e);t=i(ve,"DIV",{class:!0});var Y=h(t);l=i(Y,"DIV",{class:!0});var F=h(l);n=i(F,"P",{class:!0});var le=h(n);o=O(le,d),le.forEach(u),f=_(F),v=i(F,"P",{class:!0});var Z=h(v);w=O(Z,p),Z.forEach(u),C=_(F),E=i(F,"P",{class:!0});var me=h(E);V=O(me,L),me.forEach(u),F.forEach(u),D=_(Y),S=i(Y,"DIV",{class:!0});var ce=h(S);T=i(ce,"SELECT",{class:!0});var be=h(T);b=i(be,"OPTION",{"data-svelte-h":!0}),R(b)!=="svelte-88bi0a"&&(b.textContent=N),k=i(be,"OPTION",{"data-svelte-h":!0}),R(k)!=="svelte-1k6mio0"&&(k.textContent=g),be.forEach(u),ce.forEach(u),Y.forEach(u),P=_(ve),B=i(ve,"DIV",{class:!0});var he=h(B);de&&de.l(he),x=_(he),pe&&pe.l(he),he.forEach(u),A=_(ve),y=i(ve,"DIV",{class:!0});var ue=h(y);j=i(ue,"BUTTON",{class:!0});var $=h(j);M=O($,H),$.forEach(u),q=_(ue),te=i(ue,"BUTTON",{class:!0});var xe=h(te);se=O(xe,"Admin"),xe.forEach(u),K=_(ue),J=i(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),R(J)!=="svelte-ae2lyr"&&(J.textContent=oe),ue.forEach(u),ie=_(ve),ve.forEach(u),this.h()},h(){a(n,"class","font-bold text-white text-lg break-all"),a(v,"class","text-sm text-slate-400 break-all"),a(E,"class","text-xs text-slate-600 font-mono mt-1 text-ellipsis overflow-hidden w-full"),a(l,"class","flex-1 pr-4"),b.__value="free",Me(b,b.__value),k.__value="pro",Me(k,k.__value),a(T,"class","px-3 py-1 rounded-lg text-xs font-bold bg-midnight-800 border border-white/20 text-white"),a(S,"class","flex flex-col gap-2 items-end flex-shrink-0"),a(t,"class","flex justify-between items-start"),a(B,"class","flex flex-wrap gap-2"),a(j,"class",z="py-2 px-3 rounded-lg font-medium text-xs flex items-center justify-center gap-1 transition-colors "+(r[22].isVerified?"bg-red-500/20 text-red-300":"bg-green-500/20 text-green-300")),a(te,"class",G="py-2 px-3 rounded-lg font-medium text-xs flex items-center justify-center gap-1 transition-colors "+(r[22].isAdmin?"bg-orange-500/20 text-orange-300":"bg-slate-500/20 text-slate-300")),a(J,"class","py-2 px-3 bg-red-500/10 text-red-400 hover:bg-red-500/20 rounded-lg font-medium text-xs flex items-center justify-center gap-1 transition-colors"),a(y,"class","grid grid-cols-3 gap-2 pt-4 border-t border-white/10"),a(e,"class","bg-white/5 border border-white/10 rounded-2xl p-5 space-y-4")},m(Q,ve){ee(Q,e,ve),s(e,t),s(t,l),s(l,n),s(n,o),s(l,f),s(l,v),s(v,w),s(l,C),s(l,E),s(E,V),s(t,D),s(t,S),s(S,T),s(T,b),s(T,k),dt(T,r[22].subscriptionTier||"free"),s(e,P),s(e,B),de&&de.m(B,null),s(B,x),pe&&pe.m(B,null),s(e,A),s(e,y),s(y,j),s(j,M),s(y,q),s(y,te),s(te,se),s(y,K),s(y,J),s(e,ie),re||(X=[we(T,"change",W),we(j,"click",_e),we(te,"click",ke),we(J,"click",ae)],re=!0)},p(Q,ve){r=Q,ve&8&&d!==(d=(r[22].displayName||"Sin nombre")+"")&&fe(o,d),ve&8&&p!==(p=r[22].email+"")&&fe(w,p),ve&8&&L!==(L=r[22].uid+"")&&fe(V,L),ve&8&&I!==(I=r[22].subscriptionTier||"free")&&dt(T,r[22].subscriptionTier||"free"),r[22].isVerified?de||(de=Hl(),de.c(),de.m(B,x)):de&&(de.d(1),de=null),r[22].isAdmin?pe||(pe=zl(),pe.c(),pe.m(B,null)):pe&&(pe.d(1),pe=null),ve&8&&H!==(H=r[22].isVerified?"Quitar":"Verificar")&&fe(M,H),ve&8&&z!==(z="py-2 px-3 rounded-lg font-medium text-xs flex items-center justify-center gap-1 transition-colors "+(r[22].isVerified?"bg-red-500/20 text-red-300":"bg-green-500/20 text-green-300"))&&a(j,"class",z),ve&8&&G!==(G="py-2 px-3 rounded-lg font-medium text-xs flex items-center justify-center gap-1 transition-colors "+(r[22].isAdmin?"bg-orange-500/20 text-orange-300":"bg-slate-500/20 text-slate-300"))&&a(te,"class",G)},d(Q){Q&&u(e),de&&de.d(),pe&&pe.d(),re=!1,$e(X)}}}function Gl(r){let e,t="<p>No se encontraron usuarios con esos criterios</p>";return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-uvtmff"&&(e.innerHTML=t),this.h()},h(){a(e,"class","text-center py-12 text-slate-400")},m(l,n){ee(l,e,n)},d(l){l&&u(e)}}}function nr(r){let e,t,l='<h2 class="text-2xl font-bold text-white mb-2">Gesti√≥n de Usuarios</h2> <p class="text-slate-400">Ver, editar, verificar y gestionar todos los usuarios</p>',n,d,o,f,v,p,w="Buscar Usuario",C,E,L,V,D,S="Filtrar",T,b,N,k="Todos",g,I="Solo Verificados",P,B="Solo No Verificados",x,A="Solo PRO",y,j="Solo Admins",H,M,z,q=r[5]&&Ml(r);function te(K,J){return K[4]?ar:rr}let se=te(r),G=se(r);return{c(){e=c("div"),t=c("div"),t.innerHTML=l,n=m(),q&&q.c(),d=m(),o=c("div"),f=c("div"),v=c("div"),p=c("label"),p.textContent=w,C=m(),E=c("input"),L=m(),V=c("div"),D=c("label"),D.textContent=S,T=m(),b=c("select"),N=c("option"),N.textContent=k,g=c("option"),g.textContent=I,P=c("option"),P.textContent=B,x=c("option"),x.textContent=A,y=c("option"),y.textContent=j,H=m(),G.c(),this.h()},l(K){e=i(K,"DIV",{class:!0});var J=h(e);t=i(J,"DIV",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1tpbpwe"&&(t.innerHTML=l),n=_(J),q&&q.l(J),d=_(J),o=i(J,"DIV",{class:!0});var oe=h(o);f=i(oe,"DIV",{class:!0});var ie=h(f);v=i(ie,"DIV",{class:!0});var re=h(v);p=i(re,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(p)!=="svelte-3uf3xl"&&(p.textContent=w),C=_(re),E=i(re,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),re.forEach(u),L=_(ie),V=i(ie,"DIV",{});var X=h(V);D=i(X,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(D)!=="svelte-1xgezz5"&&(D.textContent=S),T=_(X),b=i(X,"SELECT",{id:!0,class:!0});var W=h(b);N=i(W,"OPTION",{class:!0,"data-svelte-h":!0}),R(N)!=="svelte-sdd69m"&&(N.textContent=k),g=i(W,"OPTION",{class:!0,"data-svelte-h":!0}),R(g)!=="svelte-e6v8ea"&&(g.textContent=I),P=i(W,"OPTION",{class:!0,"data-svelte-h":!0}),R(P)!=="svelte-1gezb5u"&&(P.textContent=B),x=i(W,"OPTION",{class:!0,"data-svelte-h":!0}),R(x)!=="svelte-85quep"&&(x.textContent=A),y=i(W,"OPTION",{class:!0,"data-svelte-h":!0}),R(y)!=="svelte-1n3xy0y"&&(y.textContent=j),W.forEach(u),X.forEach(u),ie.forEach(u),oe.forEach(u),H=_(J),G.l(J),J.forEach(u),this.h()},h(){a(t,"class","mb-6"),a(p,"for","user-search-input"),a(p,"class","block text-sm font-medium mb-2 text-white"),a(E,"id","user-search-input"),a(E,"type","text"),a(E,"placeholder","Email, nombre o UID..."),a(E,"class","w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-primary-500/50 focus:bg-white/10 transition-all placeholder:text-slate-500"),a(v,"class","md:col-span-2"),a(D,"for","user-filter-select"),a(D,"class","block text-sm font-medium mb-2 text-white"),N.__value="all",Me(N,N.__value),a(N,"class","bg-[#0B1120]"),g.__value="verified",Me(g,g.__value),a(g,"class","bg-[#0B1120]"),P.__value="unverified",Me(P,P.__value),a(P,"class","bg-[#0B1120]"),x.__value="pro",Me(x,x.__value),a(x,"class","bg-[#0B1120]"),y.__value="admin",Me(y,y.__value),a(y,"class","bg-[#0B1120]"),a(b,"id","user-filter-select"),a(b,"class","w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-primary-500/50 focus:bg-white/10 transition-all"),r[1]===void 0&&At(()=>r[11].call(b)),a(f,"class","grid md:grid-cols-3 gap-4"),a(o,"class","bg-[#131b2e]/40 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-6"),a(e,"class","animate-fade-in")},m(K,J){ee(K,e,J),s(e,t),s(e,n),q&&q.m(e,null),s(e,d),s(e,o),s(o,f),s(f,v),s(v,p),s(v,C),s(v,E),Me(E,r[0]),s(f,L),s(f,V),s(V,D),s(V,T),s(V,b),s(b,N),s(b,g),s(b,P),s(b,x),s(b,y),dt(b,r[1],!0),s(e,H),G.m(e,null),M||(z=[we(E,"input",r[10]),we(b,"change",r[11])],M=!0)},p(K,[J]){K[5]?q?q.p(K,J):(q=Ml(K),q.c(),q.m(e,d)):q&&(q.d(1),q=null),J&1&&E.value!==K[0]&&Me(E,K[0]),J&2&&dt(b,K[1]),se===(se=te(K))&&G?G.p(K,J):(G.d(1),G=se(K),G&&(G.c(),G.m(e,null)))},i:je,o:je,d(K){K&&u(e),q&&q.d(),G.d(),M=!1,$e(z)}}}function or(r,e,t){let l=[],n=[],d=!0,o="",f="all",v="";yt(async()=>{await p()});async function p(){t(4,d=!0);try{const x=Vt(Ke,"users"),A=Mt(x,Rt("createdAt","desc"),Rs(200)),y=await il(A);t(2,l=y.docs.map(j=>({uid:j.id,...j.data()}))),w()}catch(x){console.error(x),t(5,v="‚ùå Error al cargar usuarios: "+x.message)}finally{t(4,d=!1)}}function w(){t(3,n=l.filter(x=>{const A=x.email.toLowerCase().includes(o.toLowerCase())||x.displayName?.toLowerCase().includes(o.toLowerCase())||x.uid.toLowerCase().includes(o.toLowerCase()),y=f==="all"||f==="verified"&&x.isVerified||f==="unverified"&&!x.isVerified||f==="pro"&&x.subscriptionTier==="pro"||f==="admin"&&x.isAdmin;return A&&y}))}async function C(x){try{const A=!x.isVerified,y=[],j=nt(Ke,"users",x.uid);y.push(gt(j,{isVerified:A,updatedAt:Date.now()}));try{const{getDoc:H}=await rl(async()=>{const{getDoc:q}=await import("../chunks/C9UhFrXA.js").then(te=>te.i);return{getDoc:q}},__vite__mapDeps([0,1,2,3]),import.meta.url),M=nt(Ke,"artists",x.uid);(await H(M)).exists()&&y.push(gt(M,{isVerified:A}))}catch(H){console.warn("Could not sync with artist profile:",H)}await Promise.all(y),x.isVerified=A,t(2,l),t(5,v=`‚úÖ ${x.email} ${A?"verificado":"desverificado"} correctamente`),setTimeout(()=>t(5,v=""),3e3)}catch(A){console.error(A),t(5,v="‚ùå Error: "+A.message)}}async function E(x){if(confirm(`¬ø${x.isAdmin?"Quitar":"Dar"} permisos de ADMIN a ${x.email}?`))try{const A=nt(Ke,"users",x.uid),y=!x.isAdmin;await gt(A,{isAdmin:y,updatedAt:Date.now()}),x.isAdmin=y,t(2,l),t(5,v=`‚úÖ ${x.email} ${y?"es":"ya no es"} admin`),setTimeout(()=>t(5,v=""),3e3)}catch(A){t(5,v="‚ùå Error: "+A.message)}}async function L(x,A){if(confirm(`¬øCambiar plan de ${x.email} a ${A.toUpperCase()}?`))try{const y=nt(Ke,"users",x.uid);await gt(y,{subscriptionTier:A,updatedAt:Date.now()}),x.subscriptionTier=A,t(2,l),t(5,v=`‚úÖ Plan de ${x.email} cambiado a ${A.toUpperCase()}`),setTimeout(()=>t(5,v=""),3e3)}catch(y){t(5,v="‚ùå Error: "+y.message)}}async function V(x){if(confirm(`‚ö†Ô∏è ¬øELIMINAR PERMANENTEMENTE a ${x.email}?

Esta acci√≥n NO se puede deshacer.`)&&confirm(`¬øEst√°s SEGURO? Esto eliminar√°:
- Usuario
- Sus datos
- Su perfil de artista (si existe)`))try{await Ft(nt(Ke,"users",x.uid));try{await Ft(nt(Ke,"artists",x.uid))}catch{}t(2,l=l.filter(A=>A.uid!==x.uid)),w(),t(5,v=`‚úÖ Usuario ${x.email} eliminado permanentemente`),setTimeout(()=>t(5,v=""),5e3)}catch(A){t(5,v="‚ùå Error al eliminar: "+A.message)}}function D(){o=this.value,t(0,o)}function S(){f=jt(this),t(1,f)}const T=(x,A)=>L(x,A.currentTarget.value),b=x=>C(x),N=x=>E(x),k=x=>V(x),g=(x,A)=>L(x,A.currentTarget.value),I=x=>C(x),P=x=>E(x),B=x=>V(x);return r.$$.update=()=>{r.$$.dirty&3&&w()},[o,f,l,n,d,v,C,E,L,V,D,S,T,b,N,k,g,I,P,B]}class ir extends wt{constructor(e){super(),kt(this,e,or,nr,Ct,{})}}function Kl(r,e,t){const l=r.slice();return l[17]=e[t],l}function Ql(r){let e,t;return{c(){e=c("div"),t=U(r[4]),this.h()},l(l){e=i(l,"DIV",{class:!0});var n=h(e);t=O(n,r[4]),n.forEach(u),this.h()},h(){a(e,"class","mb-6 p-4 bg-white/10 border border-white/20 rounded-xl")},m(l,n){ee(l,e,n),s(e,t)},p(l,n){n&16&&fe(t,l[4])},d(l){l&&u(e)}}}function cr(r){let e,t=qe(r[2]),l=[];for(let n=0;n<t.length;n+=1)l[n]=Zl(Kl(r,t,n));return{c(){e=c("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=i(n,"DIV",{class:!0});var d=h(e);for(let o=0;o<l.length;o+=1)l[o].l(d);d.forEach(u),this.h()},h(){a(e,"class","space-y-4")},m(n,d){ee(n,e,d);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,d){if(d&100){t=qe(n[2]);let o;for(o=0;o<t.length;o+=1){const f=Kl(n,t,o);l[o]?l[o].p(f,d):(l[o]=Zl(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),xt(l,n)}}}function ur(r){let e,t,l,n,d,o,f=(r[0]!=="all"?r[0]:"")+"",v;return{c(){e=c("div"),t=nl("svg"),l=nl("path"),n=m(),d=c("p"),o=U("No hay propuestas "),v=U(f),this.h()},l(p){e=i(p,"DIV",{class:!0});var w=h(e);t=al(w,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var C=h(t);l=al(C,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(l).forEach(u),C.forEach(u),n=_(w),d=i(w,"P",{});var E=h(d);o=O(E,"No hay propuestas "),v=O(E,f),E.forEach(u),w.forEach(u),this.h()},h(){a(l,"stroke-linecap","round"),a(l,"stroke-linejoin","round"),a(l,"stroke-width","2"),a(l,"d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"),a(t,"class","w-16 h-16 mx-auto mb-4 opacity-50"),a(t,"fill","none"),a(t,"stroke","currentColor"),a(t,"viewBox","0 0 24 24"),a(e,"class","text-center py-12 text-slate-400")},m(p,w){ee(p,e,w),s(e,t),s(t,l),s(e,n),s(e,d),s(d,o),s(d,v)},p(p,w){w&1&&f!==(f=(p[0]!=="all"?p[0]:"")+"")&&fe(v,f)},d(p){p&&u(e)}}}function dr(r){let e,t='<div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-white/20 border-t-white"></div> <p class="mt-4 text-slate-400">Cargando propuestas...</p>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1wi6778"&&(e.innerHTML=t),this.h()},h(){a(e,"class","text-center py-12")},m(l,n){ee(l,e,n)},p:je,d(l){l&&u(e)}}}function Jl(r){let e,t="‚úì Aprobar",l,n,d="‚úó Rechazar",o,f;function v(){return r[11](r[17])}function p(){return r[12](r[17])}return{c(){e=c("button"),e.textContent=t,l=m(),n=c("button"),n.textContent=d,this.h()},l(w){e=i(w,"BUTTON",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1penfwf"&&(e.textContent=t),l=_(w),n=i(w,"BUTTON",{class:!0,"data-svelte-h":!0}),R(n)!=="svelte-1qxqj6h"&&(n.textContent=d),this.h()},h(){a(e,"class","px-4 py-2 bg-green-500/20 text-green-300 hover:bg-green-500/30 rounded-lg font-medium text-sm transition-colors"),a(n,"class","px-4 py-2 bg-red-500/20 text-red-300 hover:bg-red-500/30 rounded-lg font-medium text-sm transition-colors")},m(w,C){ee(w,e,C),ee(w,l,C),ee(w,n,C),o||(f=[we(e,"click",v),we(n,"click",p)],o=!0)},p(w,C){r=w},d(w){w&&(u(e),u(l),u(n)),o=!1,$e(f)}}}function Xl(r){let e,t="üéâ Marcar como Implementada",l,n;function d(){return r[13](r[17])}return{c(){e=c("button"),e.textContent=t,this.h()},l(o){e=i(o,"BUTTON",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1sp20mr"&&(e.textContent=t),this.h()},h(){a(e,"class","px-4 py-2 bg-blue-500/20 text-blue-300 hover:bg-blue-500/30 rounded-lg font-medium text-sm transition-colors")},m(o,f){ee(o,e,f),l||(n=we(e,"click",d),l=!0)},p(o,f){r=o},d(o){o&&u(e),l=!1,n()}}}function Zl(r){let e,t,l,n,d,o=Wl(r[17].category)+"",f,v,p,w=r[17].title+"",C,E,L,V=r[17].description+"",D,S,T,b,N,k=r[17].author+"",g,I,P,B="‚Ä¢",x,A,y,j=r[17].votes+"",H,M,z,q,te="‚Ä¢",se,G,K=new Date(r[17].createdAt?.seconds*1e3).toLocaleDateString()+"",J,oe,ie,re=r[17].status.toUpperCase()+"",X,W,de,pe,_e,ke,ae,Q="üóëÔ∏è Eliminar",ve,Y,F,le=r[17].status==="pending"&&Jl(r),Z=r[17].status==="approved"&&Xl(r);function me(){return r[14](r[17])}return{c(){e=c("div"),t=c("div"),l=c("div"),n=c("div"),d=c("span"),f=U(o),v=m(),p=c("h3"),C=U(w),E=m(),L=c("p"),D=U(V),S=m(),T=c("div"),b=c("span"),N=U("Por: "),g=U(k),I=m(),P=c("span"),P.textContent=B,x=m(),A=c("span"),y=U("üëç "),H=U(j),M=U(" votos"),z=m(),q=c("span"),q.textContent=te,se=m(),G=c("span"),J=U(K),oe=m(),ie=c("span"),X=U(re),de=m(),pe=c("div"),le&&le.c(),_e=m(),Z&&Z.c(),ke=m(),ae=c("button"),ae.textContent=Q,ve=m(),this.h()},l(ce){e=i(ce,"DIV",{class:!0});var be=h(e);t=i(be,"DIV",{class:!0});var he=h(t);l=i(he,"DIV",{class:!0});var ue=h(l);n=i(ue,"DIV",{class:!0});var $=h(n);d=i($,"SPAN",{class:!0});var xe=h(d);f=O(xe,o),xe.forEach(u),v=_($),p=i($,"H3",{class:!0});var Le=h(p);C=O(Le,w),Le.forEach(u),$.forEach(u),E=_(ue),L=i(ue,"P",{class:!0});var Ee=h(L);D=O(Ee,V),Ee.forEach(u),S=_(ue),T=i(ue,"DIV",{class:!0});var De=h(T);b=i(De,"SPAN",{});var ne=h(b);N=O(ne,"Por: "),g=O(ne,k),ne.forEach(u),I=_(De),P=i(De,"SPAN",{"data-svelte-h":!0}),R(P)!=="svelte-7hh8jk"&&(P.textContent=B),x=_(De),A=i(De,"SPAN",{});var Pe=h(A);y=O(Pe,"üëç "),H=O(Pe,j),M=O(Pe," votos"),Pe.forEach(u),z=_(De),q=i(De,"SPAN",{"data-svelte-h":!0}),R(q)!=="svelte-7hh8jk"&&(q.textContent=te),se=_(De),G=i(De,"SPAN",{});var Te=h(G);J=O(Te,K),Te.forEach(u),De.forEach(u),ue.forEach(u),oe=_(he),ie=i(he,"SPAN",{class:!0});var Ce=h(ie);X=O(Ce,re),Ce.forEach(u),he.forEach(u),de=_(be),pe=i(be,"DIV",{class:!0});var ye=h(pe);le&&le.l(ye),_e=_(ye),Z&&Z.l(ye),ke=_(ye),ae=i(ye,"BUTTON",{class:!0,"data-svelte-h":!0}),R(ae)!=="svelte-3v7neu"&&(ae.textContent=Q),ye.forEach(u),ve=_(be),be.forEach(u),this.h()},h(){a(d,"class","text-2xl"),a(p,"class","text-lg font-bold text-white"),a(n,"class","flex items-center gap-3 mb-2"),a(L,"class","text-slate-300 mb-3"),a(T,"class","flex items-center gap-4 text-sm text-slate-400"),a(l,"class","flex-1"),a(ie,"class",W="px-3 py-1 rounded-lg text-xs font-bold "+Yl(r[17].status)),a(t,"class","flex items-start justify-between mb-4"),a(ae,"class","px-4 py-2 bg-slate-500/20 text-slate-300 hover:bg-slate-500/30 rounded-lg font-medium text-sm transition-colors"),a(pe,"class","flex gap-2 flex-wrap"),a(e,"class","bg-white/5 border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-colors")},m(ce,be){ee(ce,e,be),s(e,t),s(t,l),s(l,n),s(n,d),s(d,f),s(n,v),s(n,p),s(p,C),s(l,E),s(l,L),s(L,D),s(l,S),s(l,T),s(T,b),s(b,N),s(b,g),s(T,I),s(T,P),s(T,x),s(T,A),s(A,y),s(A,H),s(A,M),s(T,z),s(T,q),s(T,se),s(T,G),s(G,J),s(t,oe),s(t,ie),s(ie,X),s(e,de),s(e,pe),le&&le.m(pe,null),s(pe,_e),Z&&Z.m(pe,null),s(pe,ke),s(pe,ae),s(e,ve),Y||(F=we(ae,"click",me),Y=!0)},p(ce,be){r=ce,be&4&&o!==(o=Wl(r[17].category)+"")&&fe(f,o),be&4&&w!==(w=r[17].title+"")&&fe(C,w),be&4&&V!==(V=r[17].description+"")&&fe(D,V),be&4&&k!==(k=r[17].author+"")&&fe(g,k),be&4&&j!==(j=r[17].votes+"")&&fe(H,j),be&4&&K!==(K=new Date(r[17].createdAt?.seconds*1e3).toLocaleDateString()+"")&&fe(J,K),be&4&&re!==(re=r[17].status.toUpperCase()+"")&&fe(X,re),be&4&&W!==(W="px-3 py-1 rounded-lg text-xs font-bold "+Yl(r[17].status))&&a(ie,"class",W),r[17].status==="pending"?le?le.p(r,be):(le=Jl(r),le.c(),le.m(pe,_e)):le&&(le.d(1),le=null),r[17].status==="approved"?Z?Z.p(r,be):(Z=Xl(r),Z.c(),Z.m(pe,ke)):Z&&(Z.d(1),Z=null)},d(ce){ce&&u(e),le&&le.d(),Z&&Z.d(),Y=!1,F()}}}function fr(r){let e,t,l='<h2 class="text-2xl font-bold text-white mb-2">Propuestas de Usuarios PRO</h2> <p class="text-slate-400">Gestiona las propuestas de la comunidad</p>',n,d,o,f,v,p=r[1].length+"",w,C,E,L,V,D,S=r[1].filter($l).length+"",T,b,N,k,g,I,P=r[1].filter(es).length+"",B,x,A,y,j,H,M=r[1].filter(ts).length+"",z,q,te,se,G,K,J=r[4]&&Ql(r);function oe(X,W){return X[3]?dr:X[2].length===0?ur:cr}let ie=oe(r),re=ie(r);return{c(){e=c("div"),t=c("div"),t.innerHTML=l,n=m(),J&&J.c(),d=m(),o=c("div"),f=c("button"),v=U("Todas ("),w=U(p),C=U(")"),L=m(),V=c("button"),D=U("Pendientes ("),T=U(S),b=U(")"),k=m(),g=c("button"),I=U("Aprobadas ("),B=U(P),x=U(")"),y=m(),j=c("button"),H=U("Implementadas ("),z=U(M),q=U(")"),se=m(),re.c(),this.h()},l(X){e=i(X,"DIV",{class:!0});var W=h(e);t=i(W,"DIV",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-7l8sx0"&&(t.innerHTML=l),n=_(W),J&&J.l(W),d=_(W),o=i(W,"DIV",{class:!0});var de=h(o);f=i(de,"BUTTON",{class:!0});var pe=h(f);v=O(pe,"Todas ("),w=O(pe,p),C=O(pe,")"),pe.forEach(u),L=_(de),V=i(de,"BUTTON",{class:!0});var _e=h(V);D=O(_e,"Pendientes ("),T=O(_e,S),b=O(_e,")"),_e.forEach(u),k=_(de),g=i(de,"BUTTON",{class:!0});var ke=h(g);I=O(ke,"Aprobadas ("),B=O(ke,P),x=O(ke,")"),ke.forEach(u),y=_(de),j=i(de,"BUTTON",{class:!0});var ae=h(j);H=O(ae,"Implementadas ("),z=O(ae,M),q=O(ae,")"),ae.forEach(u),de.forEach(u),se=_(W),re.l(W),W.forEach(u),this.h()},h(){a(t,"class","mb-6"),a(f,"class",E="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(r[0]==="all"?"bg-primary-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10")),a(V,"class",N="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(r[0]==="pending"?"bg-yellow-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10")),a(g,"class",A="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(r[0]==="approved"?"bg-green-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10")),a(j,"class",te="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(r[0]==="implemented"?"bg-blue-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10")),a(o,"class","mb-6 flex gap-2 overflow-x-auto pb-2"),a(e,"class","animate-fade-in")},m(X,W){ee(X,e,W),s(e,t),s(e,n),J&&J.m(e,null),s(e,d),s(e,o),s(o,f),s(f,v),s(f,w),s(f,C),s(o,L),s(o,V),s(V,D),s(V,T),s(V,b),s(o,k),s(o,g),s(g,I),s(g,B),s(g,x),s(o,y),s(o,j),s(j,H),s(j,z),s(j,q),s(e,se),re.m(e,null),G||(K=[we(f,"click",r[7]),we(V,"click",r[8]),we(g,"click",r[9]),we(j,"click",r[10])],G=!0)},p(X,[W]){X[4]?J?J.p(X,W):(J=Ql(X),J.c(),J.m(e,d)):J&&(J.d(1),J=null),W&2&&p!==(p=X[1].length+"")&&fe(w,p),W&1&&E!==(E="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(X[0]==="all"?"bg-primary-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(f,"class",E),W&2&&S!==(S=X[1].filter($l).length+"")&&fe(T,S),W&1&&N!==(N="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(X[0]==="pending"?"bg-yellow-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(V,"class",N),W&2&&P!==(P=X[1].filter(es).length+"")&&fe(B,P),W&1&&A!==(A="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(X[0]==="approved"?"bg-green-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(g,"class",A),W&2&&M!==(M=X[1].filter(ts).length+"")&&fe(z,M),W&1&&te!==(te="px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-all "+(X[0]==="implemented"?"bg-blue-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(j,"class",te),ie===(ie=oe(X))&&re?re.p(X,W):(re.d(1),re=ie(X),re&&(re.c(),re.m(e,null)))},i:je,o:je,d(X){X&&u(e),J&&J.d(),re.d(),G=!1,$e(K)}}}function Wl(r){return r==="album"?"üéµ":r==="feature"?"‚ö°":"üîß"}function Yl(r){return r==="approved"?"text-green-400 bg-green-500/20":r==="rejected"?"text-red-400 bg-red-500/20":r==="implemented"?"text-blue-400 bg-blue-500/20":"text-yellow-400 bg-yellow-500/20"}const $l=r=>r.status==="pending",es=r=>r.status==="approved",ts=r=>r.status==="implemented";function hr(r,e,t){let l=[],n=[],d=!0,o="all",f="";yt(async()=>{await v()});async function v(){t(3,d=!0);try{const k=Vt(Ke,"proposals"),g=Mt(k,Rt("createdAt","desc")),I=await il(g);t(1,l=I.docs.map(P=>({id:P.id,...P.data()}))),p()}catch(k){console.error(k),t(4,f="‚ùå Error al cargar propuestas: "+k.message)}finally{t(3,d=!1)}}function p(){t(2,n=l.filter(k=>o==="all"?!0:k.status===o))}async function w(k,g){try{const I=nt(Ke,"proposals",k.id);await gt(I,{status:g,updatedAt:Date.now()}),k.status=g,t(1,l),p(),t(4,f=`‚úÖ Propuesta "${k.title}" marcada como ${g}`),setTimeout(()=>t(4,f=""),3e3)}catch(I){t(4,f="‚ùå Error: "+I.message)}}async function C(k){if(confirm(`¬øEliminar propuesta "${k.title}"?`))try{await Ft(nt(Ke,"proposals",k.id)),t(1,l=l.filter(g=>g.id!==k.id)),p(),t(4,f="‚úÖ Propuesta eliminada"),setTimeout(()=>t(4,f=""),3e3)}catch(g){t(4,f="‚ùå Error: "+g.message)}}const E=()=>t(0,o="all"),L=()=>t(0,o="pending"),V=()=>t(0,o="approved"),D=()=>t(0,o="implemented"),S=k=>w(k,"approved"),T=k=>w(k,"rejected"),b=k=>w(k,"implemented"),N=k=>C(k);return r.$$.update=()=>{r.$$.dirty&1&&p()},[o,l,n,d,f,w,C,E,L,V,D,S,T,b,N]}class pr extends wt{constructor(e){super(),kt(this,e,hr,fr,Ct,{})}}function ls(r,e,t){const l=r.slice();return l[15]=e[t],l}function ss(r,e,t){const l=r.slice();return l[18]=e[t],l[20]=t,l}function rs(r){let e,t;return{c(){e=c("div"),t=U(r[2]),this.h()},l(l){e=i(l,"DIV",{class:!0});var n=h(e);t=O(n,r[2]),n.forEach(u),this.h()},h(){a(e,"class","mb-6 p-4 bg-white/10 border border-white/20 rounded-xl")},m(l,n){ee(l,e,n),s(e,t)},p(l,n){n&4&&fe(t,l[2])},d(l){l&&u(e)}}}function vr(r){let e,t=qe(r[0]),l=[];for(let n=0;n<t.length;n+=1)l[n]=is(ls(r,t,n));return{c(){e=c("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=i(n,"DIV",{class:!0});var d=h(e);for(let o=0;o<l.length;o+=1)l[o].l(d);d.forEach(u),this.h()},h(){a(e,"class","space-y-6")},m(n,d){ee(n,e,d);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,d){if(d&253){t=qe(n[0]);let o;for(o=0;o<t.length;o+=1){const f=ls(n,t,o);l[o]?l[o].p(f,d):(l[o]=is(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),xt(l,n)}}}function br(r){let e,t="<p>No hay env√≠os pendientes</p>";return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1n3dbtg"&&(e.innerHTML=t),this.h()},h(){a(e,"class","text-center py-12 text-slate-400")},m(l,n){ee(l,e,n)},p:je,d(l){l&&u(e)}}}function _r(r){let e,t='<div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-white/20 border-t-white"></div> <p class="mt-4 text-slate-400">Cargando env√≠os recientes (max 50)...</p>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1kdvr0a"&&(e.innerHTML=t),this.h()},h(){a(e,"class","text-center py-12")},m(l,n){ee(l,e,n)},p:je,d(l){l&&u(e)}}}function as(r){let e,t="‚òÅÔ∏è R2 Direct";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-64srpi"&&(e.textContent=t),this.h()},h(){a(e,"class","px-2 py-1 bg-blue-500/20 text-blue-300 rounded-lg text-xs font-bold border border-blue-500/30 flex items-center gap-1")},m(l,n){ee(l,e,n)},d(l){l&&u(e)}}}function mr(r){let e,t="Rechazado";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1pzzk3q"&&(e.textContent=t),this.h()},h(){a(e,"class","px-3 py-1 bg-red-500/20 text-red-300 rounded-full text-xs font-bold uppercase tracking-wider")},m(l,n){ee(l,e,n)},d(l){l&&u(e)}}}function gr(r){let e,t="Aprobado";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1ucl7zn"&&(e.textContent=t),this.h()},h(){a(e,"class","px-3 py-1 bg-green-500/20 text-green-300 rounded-full text-xs font-bold uppercase tracking-wider")},m(l,n){ee(l,e,n)},d(l){l&&u(e)}}}function xr(r){let e,t="Pendiente";return{c(){e=c("span"),e.textContent=t,this.h()},l(l){e=i(l,"SPAN",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-130dpoz"&&(e.textContent=t),this.h()},h(){a(e,"class","px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-xs font-bold uppercase tracking-wider")},m(l,n){ee(l,e,n)},d(l){l&&u(e)}}}function wr(r){let e,t="üíø";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1ap4kcx"&&(e.textContent=t),this.h()},h(){a(e,"class","w-full h-full flex items-center justify-center text-4xl")},m(l,n){ee(l,e,n)},p:je,d(l){l&&u(e)}}}function kr(r){let e,t='<span class="text-2xl mb-1">üñºÔ∏è</span> <span class="text-[10px]">Cover en R2</span>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-5gdyl4"&&(e.innerHTML=t),this.h()},h(){a(e,"class","w-full h-full flex flex-col items-center justify-center bg-slate-800 text-slate-500 p-2 text-center")},m(l,n){ee(l,e,n)},p:je,d(l){l&&u(e)}}}function Cr(r){let e,t,l;return{c(){e=c("img"),this.h()},l(n){e=i(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ut(e.src,t=r[15].coverUrl)||a(e,"src",t),a(e,"alt",l=r[15].releaseTitle),a(e,"class","w-full h-full object-cover")},m(n,d){ee(n,e,d)},p(n,d){d&1&&!Ut(e.src,t=n[15].coverUrl)&&a(e,"src",t),d&1&&l!==(l=n[15].releaseTitle)&&a(e,"alt",l)},d(n){n&&u(e)}}}function ns(r){let e,t,l="‚úì Aprobar",n,d,o="‚úó Rechazar",f,v;function p(){return r[8](r[15])}function w(){return r[9](r[15])}return{c(){e=c("div"),t=c("button"),t.textContent=l,n=m(),d=c("button"),d.textContent=o,this.h()},l(C){e=i(C,"DIV",{class:!0});var E=h(e);t=i(E,"BUTTON",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1qucpid"&&(t.textContent=l),n=_(E),d=i(E,"BUTTON",{class:!0,"data-svelte-h":!0}),R(d)!=="svelte-fs9am5"&&(d.textContent=o),E.forEach(u),this.h()},h(){a(t,"class","px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-bold text-sm transition-colors shadow-lg shadow-green-500/20"),a(d,"class","px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg font-bold text-sm transition-colors"),a(e,"class","flex gap-3")},m(C,E){ee(C,e,E),s(e,t),s(e,n),s(e,d),f||(v=[we(t,"click",p),we(d,"click",w)],f=!0)},p(C,E){r=C},d(C){C&&u(e),f=!1,$e(v)}}}function yr(r){let e,t,l,n="Enlace de Descarga",d,o,f=r[15].downloadLink+"",v,p,w,C,E,L="üìã Copiar",V,D,S,T,b,N;function k(){return r[11](r[15])}return{c(){e=c("div"),t=c("div"),l=c("p"),l.textContent=n,d=m(),o=c("a"),v=U(f),w=m(),C=c("div"),E=c("button"),E.textContent=L,V=m(),D=c("a"),S=U("‚¨áÔ∏è Abrir"),this.h()},l(g){e=i(g,"DIV",{class:!0});var I=h(e);t=i(I,"DIV",{class:!0});var P=h(t);l=i(P,"P",{class:!0,"data-svelte-h":!0}),R(l)!=="svelte-1unmah9"&&(l.textContent=n),d=_(P),o=i(P,"A",{href:!0,target:!0,class:!0});var B=h(o);v=O(B,f),B.forEach(u),P.forEach(u),w=_(I),C=i(I,"DIV",{class:!0});var x=h(C);E=i(x,"BUTTON",{class:!0,"data-svelte-h":!0}),R(E)!=="svelte-yicxga"&&(E.textContent=L),V=_(x),D=i(x,"A",{href:!0,target:!0,class:!0});var A=h(D);S=O(A,"‚¨áÔ∏è Abrir"),A.forEach(u),x.forEach(u),I.forEach(u),this.h()},h(){a(l,"class","text-xs text-slate-500 mb-1"),a(o,"href",p=r[15].downloadLink),a(o,"target","_blank"),a(o,"class","text-blue-400 hover:text-blue-300 hover:underline truncate block font-mono text-sm transition-colors"),a(t,"class","flex-1 w-full overflow-hidden"),a(E,"class","flex-1 sm:flex-none px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg text-xs font-bold whitespace-nowrap transition-colors"),a(D,"href",T=r[15].downloadLink),a(D,"target","_blank"),a(D,"class","flex-1 sm:flex-none px-4 py-2 bg-primary-600 hover:bg-primary-500 text-white rounded-lg text-xs font-bold whitespace-nowrap transition-colors shadow-lg shadow-primary-900/20"),a(C,"class","flex gap-2 w-full sm:w-auto"),a(e,"class","flex flex-col sm:flex-row items-center gap-3 mb-6 bg-white/5 p-4 rounded-lg border border-white/5")},m(g,I){ee(g,e,I),s(e,t),s(t,l),s(t,d),s(t,o),s(o,v),s(e,w),s(e,C),s(C,E),s(C,V),s(C,D),s(D,S),b||(N=we(E,"click",k),b=!0)},p(g,I){r=g,I&1&&f!==(f=r[15].downloadLink+"")&&fe(v,f),I&1&&p!==(p=r[15].downloadLink)&&a(o,"href",p),I&1&&T!==(T=r[15].downloadLink)&&a(D,"href",T)},d(g){g&&u(e),b=!1,N()}}}function Er(r){let e,t=qe(r[15].r2AudioKeys),l=[];for(let n=0;n<t.length;n+=1)l[n]=os(ss(r,t,n));return{c(){e=c("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=i(n,"DIV",{class:!0});var d=h(e);for(let o=0;o<l.length;o+=1)l[o].l(d);d.forEach(u),this.h()},h(){a(e,"class","space-y-2")},m(n,d){ee(n,e,d);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,d){if(d&57){t=qe(n[15].r2AudioKeys);let o;for(o=0;o<t.length;o+=1){const f=ss(n,t,o);l[o]?l[o].p(f,d):(l[o]=os(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),xt(l,n)}}}function Tr(r){let e;return{c(){e=U("‚ñ∂")},l(t){e=O(t,"‚ñ∂")},m(t,l){ee(t,e,l)},d(t){t&&u(e)}}}function Dr(r){let e;return{c(){e=U("‚è∏")},l(t){e=O(t,"‚è∏")},m(t,l){ee(t,e,l)},d(t){t&&u(e)}}}function os(r){let e,t,l,n,d,o,f=r[18].name+"",v,p,w,C=(r[18].size/1024/1024).toFixed(2)+"",E,L,V,D,S;function T(g,I){return g[4]===g[18].key&&g[3]&&!g[3].paused?Dr:Tr}let b=T(r),N=b(r);function k(){return r[10](r[18])}return{c(){e=c("div"),t=c("button"),N.c(),n=m(),d=c("div"),o=c("p"),v=U(f),p=m(),w=c("p"),E=U(C),L=U(" MB"),V=m(),this.h()},l(g){e=i(g,"DIV",{class:!0});var I=h(e);t=i(I,"BUTTON",{class:!0});var P=h(t);N.l(P),P.forEach(u),n=_(I),d=i(I,"DIV",{class:!0});var B=h(d);o=i(B,"P",{class:!0});var x=h(o);v=O(x,f),x.forEach(u),p=_(B),w=i(B,"P",{class:!0});var A=h(w);E=O(A,C),L=O(A," MB"),A.forEach(u),B.forEach(u),V=_(I),I.forEach(u),this.h()},h(){a(t,"class",l="w-10 h-10 rounded-full flex items-center justify-center transition-all "+(r[4]===r[18].key?"bg-primary-500 text-white shadow-lg shadow-primary-500/20":"bg-white/10 text-white hover:bg-white/20")),a(o,"class","font-bold text-sm truncate text-white"),a(w,"class","text-xs text-slate-400"),a(d,"class","flex-1 overflow-hidden"),a(e,"class","flex items-center gap-4 bg-white/5 p-3 rounded-lg border border-white/5 hover:border-white/10 transition-all")},m(g,I){ee(g,e,I),s(e,t),N.m(t,null),s(e,n),s(e,d),s(d,o),s(o,v),s(d,p),s(d,w),s(w,E),s(w,L),s(e,V),D||(S=we(t,"click",k),D=!0)},p(g,I){r=g,b!==(b=T(r))&&(N.d(1),N=b(r),N&&(N.c(),N.m(t,null))),I&17&&l!==(l="w-10 h-10 rounded-full flex items-center justify-center transition-all "+(r[4]===r[18].key?"bg-primary-500 text-white shadow-lg shadow-primary-500/20":"bg-white/10 text-white hover:bg-white/20"))&&a(t,"class",l),I&1&&f!==(f=r[18].name+"")&&fe(v,f),I&1&&C!==(C=(r[18].size/1024/1024).toFixed(2)+"")&&fe(E,C)},d(g){g&&u(e),N.d(),D=!1,S()}}}function is(r){let e,t,l,n,d,o,f,v,p,w=r[15].releaseTitle+"",C,E,L,V=r[15].artistName+"",D,S,T,b,N,k=r[15].genre+"",g,I,P,B,x=r[15].artistEmail+"",A,y,j,H,M=new Date(r[15].submittedAt?.seconds*1e3).toLocaleDateString()+"",z,q,te,se,G,K="<span>Material de Audio</span>",J,oe,ie,re,X="Tracklist Declarado",W,de,pe=(r[15].tracklist||"No especificado por el artista.")+"",_e,ke,ae=r[15].submissionType==="r2_direct"&&as();function Q(ue,$){return ue[15].status==="pending"?xr:ue[15].status==="approved"?gr:mr}let ve=Q(r),Y=ve(r);function F(ue,$){return ue[15].coverUrl?Cr:ue[15].r2CoverKey?kr:wr}let le=F(r),Z=le(r),me=r[15].status==="pending"&&ns(r);function ce(ue,$){if(ue[15].submissionType==="r2_direct"&&ue[15].r2AudioKeys)return Er;if(ue[15].downloadLink)return yr}let be=ce(r),he=be&&be(r);return{c(){e=c("div"),t=c("div"),ae&&ae.c(),l=m(),Y.c(),n=m(),d=c("div"),o=c("div"),Z.c(),f=m(),v=c("div"),p=c("h3"),C=U(w),E=m(),L=c("p"),D=U(V),S=m(),T=c("div"),b=c("span"),N=U("üéµ "),g=U(k),I=m(),P=c("span"),B=U("üìß "),A=U(x),y=m(),j=c("span"),H=U("üìÖ "),z=U(M),q=m(),me&&me.c(),te=m(),se=c("div"),G=c("h4"),G.innerHTML=K,J=m(),he&&he.c(),oe=m(),ie=c("div"),re=c("p"),re.textContent=X,W=m(),de=c("pre"),_e=U(pe),ke=m(),this.h()},l(ue){e=i(ue,"DIV",{class:!0});var $=h(e);t=i($,"DIV",{class:!0});var xe=h(t);ae&&ae.l(xe),l=_(xe),Y.l(xe),xe.forEach(u),n=_($),d=i($,"DIV",{class:!0});var Le=h(d);o=i(Le,"DIV",{class:!0});var Ee=h(o);Z.l(Ee),Ee.forEach(u),f=_(Le),v=i(Le,"DIV",{class:!0});var De=h(v);p=i(De,"H3",{class:!0});var ne=h(p);C=O(ne,w),ne.forEach(u),E=_(De),L=i(De,"P",{class:!0});var Pe=h(L);D=O(Pe,V),Pe.forEach(u),S=_(De),T=i(De,"DIV",{class:!0});var Te=h(T);b=i(Te,"SPAN",{class:!0});var Ce=h(b);N=O(Ce,"üéµ "),g=O(Ce,k),Ce.forEach(u),I=_(Te),P=i(Te,"SPAN",{class:!0});var ye=h(P);B=O(ye,"üìß "),A=O(ye,x),ye.forEach(u),y=_(Te),j=i(Te,"SPAN",{class:!0});var Ie=h(j);H=O(Ie,"üìÖ "),z=O(Ie,M),Ie.forEach(u),Te.forEach(u),q=_(De),me&&me.l(De),De.forEach(u),Le.forEach(u),te=_($),se=i($,"DIV",{class:!0});var Ne=h(se);G=i(Ne,"H4",{class:!0,"data-svelte-h":!0}),R(G)!=="svelte-1n02mju"&&(G.innerHTML=K),J=_(Ne),he&&he.l(Ne),oe=_(Ne),ie=i(Ne,"DIV",{});var Re=h(ie);re=i(Re,"P",{class:!0,"data-svelte-h":!0}),R(re)!=="svelte-1k9ost5"&&(re.textContent=X),W=_(Re),de=i(Re,"PRE",{class:!0});var He=h(de);_e=O(He,pe),He.forEach(u),Re.forEach(u),Ne.forEach(u),ke=_($),$.forEach(u),this.h()},h(){a(t,"class","absolute top-4 right-4 flex gap-2"),a(o,"class","w-32 h-32 flex-shrink-0 rounded-xl overflow-hidden bg-black/50"),a(p,"class","text-2xl font-bold text-white mb-1"),a(L,"class","text-lg text-slate-300 mb-2"),a(b,"class","flex items-center gap-1"),a(P,"class","flex items-center gap-1"),a(j,"class","flex items-center gap-1"),a(T,"class","flex flex-wrap gap-4 text-sm text-slate-400 mb-4"),a(v,"class","flex-1"),a(d,"class","flex flex-col md:flex-row gap-6 mb-6"),a(G,"class","text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 flex items-center justify-between"),a(re,"class","text-xs text-slate-500 mb-2"),a(de,"class","text-xs text-slate-300 font-mono bg-black/40 border border-white/5 p-4 rounded-lg whitespace-pre-wrap leading-relaxed"),a(se,"class","bg-black/20 rounded-xl p-6"),a(e,"class","bg-white/5 border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-colors relative overflow-hidden")},m(ue,$){ee(ue,e,$),s(e,t),ae&&ae.m(t,null),s(t,l),Y.m(t,null),s(e,n),s(e,d),s(d,o),Z.m(o,null),s(d,f),s(d,v),s(v,p),s(p,C),s(v,E),s(v,L),s(L,D),s(v,S),s(v,T),s(T,b),s(b,N),s(b,g),s(T,I),s(T,P),s(P,B),s(P,A),s(T,y),s(T,j),s(j,H),s(j,z),s(v,q),me&&me.m(v,null),s(e,te),s(e,se),s(se,G),s(se,J),he&&he.m(se,null),s(se,oe),s(se,ie),s(ie,re),s(ie,W),s(ie,de),s(de,_e),s(e,ke)},p(ue,$){ue[15].submissionType==="r2_direct"?ae||(ae=as(),ae.c(),ae.m(t,l)):ae&&(ae.d(1),ae=null),ve!==(ve=Q(ue))&&(Y.d(1),Y=ve(ue),Y&&(Y.c(),Y.m(t,null))),le===(le=F(ue))&&Z?Z.p(ue,$):(Z.d(1),Z=le(ue),Z&&(Z.c(),Z.m(o,null))),$&1&&w!==(w=ue[15].releaseTitle+"")&&fe(C,w),$&1&&V!==(V=ue[15].artistName+"")&&fe(D,V),$&1&&k!==(k=ue[15].genre+"")&&fe(g,k),$&1&&x!==(x=ue[15].artistEmail+"")&&fe(A,x),$&1&&M!==(M=new Date(ue[15].submittedAt?.seconds*1e3).toLocaleDateString()+"")&&fe(z,M),ue[15].status==="pending"?me?me.p(ue,$):(me=ns(ue),me.c(),me.m(v,null)):me&&(me.d(1),me=null),be===(be=ce(ue))&&he?he.p(ue,$):(he&&he.d(1),he=be&&be(ue),he&&(he.c(),he.m(se,oe))),$&1&&pe!==(pe=(ue[15].tracklist||"No especificado por el artista.")+"")&&fe(_e,pe)},d(ue){ue&&u(e),ae&&ae.d(),Y.d(),Z.d(),me&&me.d(),he&&he.d()}}}function Ir(r){let e,t,l='<h2 class="text-2xl font-bold text-white mb-2">Env√≠os Musicales</h2> <p class="text-slate-400">Escucha y verifica el material subido directamente a Cloudflare R2.</p>',n,d,o=r[2]&&rs(r);function f(w,C){return w[1]?_r:w[0].length===0?br:vr}let v=f(r),p=v(r);return{c(){e=c("div"),t=c("div"),t.innerHTML=l,n=m(),o&&o.c(),d=m(),p.c(),this.h()},l(w){e=i(w,"DIV",{class:!0});var C=h(e);t=i(C,"DIV",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-e1a9v4"&&(t.innerHTML=l),n=_(C),o&&o.l(C),d=_(C),p.l(C),C.forEach(u),this.h()},h(){a(t,"class","mb-6"),a(e,"class","animate-fade-in")},m(w,C){ee(w,e,C),s(e,t),s(e,n),o&&o.m(e,null),s(e,d),p.m(e,null)},p(w,[C]){w[2]?o?o.p(w,C):(o=rs(w),o.c(),o.m(e,d)):o&&(o.d(1),o=null),v===(v=f(w))&&p?p.p(w,C):(p.d(1),p=v(w),p&&(p.c(),p.m(e,null)))},i:je,o:je,d(w){w&&u(e),o&&o.d(),p.d()}}}function Vr(r,e,t){const l=zs();let n=[],d=!0,o="",f=null,v="",p;async function w(b){if(v===b&&f){f.paused?f.play():f.pause();return}f&&(f.pause(),t(3,f=null));try{const N=await fetch("/api/r2/get-url",{method:"POST",body:JSON.stringify({key:b})}),{url:k}=await N.json();t(3,f=new Audio(k)),f.play(),t(4,v=b)}catch(N){console.error("Error playing audio:",N),t(2,o="Error al reproducir audio")}}yt(()=>{C()}),_l(()=>{p&&p(),f&&(f.pause(),t(3,f=null))});function C(){t(1,d=!0);try{const b=Vt(Ke,"musicSubmissions"),N=Mt(b,Rt("submittedAt","desc"),Rs(50));p=Hs(N,k=>{t(0,n=k.docs.map(g=>({id:g.id,...g.data()}))),t(1,d=!1)},k=>{console.error("Error realtime:",k),t(2,o="‚ùå Error en conexi√≥n tiempo real"),t(1,d=!1)})}catch(b){console.error(b),t(2,o="‚ùå Error al iniciar listener: "+b.message),t(1,d=!1)}}async function E(b){if(confirm(`¬øAprobar "${b.releaseTitle}" de ${b.artistName}?`))try{const N=nt(Ke,"musicSubmissions",b.id);await gt(N,{status:"approved",reviewedAt:Date.now()});const k=nt(Ke,"users",b.artistId),g=await Nl(k);if(g.exists()){const I=g.data(),B=(I.approvedSubmissionsCount||0)+1;if(await gt(k,{approvedSubmissionsCount:B,updatedAt:Date.now()}),B>=2&&!I.isVerified){await gt(k,{isVerified:!0,verifiedAt:Date.now()});const M=nt(Ke,"artists",b.artistId);(await Nl(M)).exists()&&await gt(M,{isVerified:!0,verifiedAt:Date.now()}),t(2,o=`‚úÖ Env√≠o aprobado. ${b.artistName} ahora es VERIFICADO ‚úì (${B} aprobaciones)`)}else B>=2?t(2,o=`‚úÖ Env√≠o aprobado (artista ya verificado, ${B} aprobaciones totales)`):t(2,o=`‚úÖ Env√≠o aprobado (${B}/2 para verificaci√≥n autom√°tica)`);const{addDoc:x,collection:A}=await rl(async()=>{const{addDoc:M,collection:z}=await import("../chunks/C9UhFrXA.js").then(q=>q.i);return{addDoc:M,collection:z}},__vite__mapDeps([0,1,2,3]),import.meta.url);let y=[],j=b.r2CoverKey;if(b.submissionType==="r2_direct"){t(2,o="‚è≥ Migrando archivos en Cloudflare R2...");const M=[{key:b.r2CoverKey,name:`cover_${Date.now()}.jpg`},...(b.r2AudioKeys||[]).map(G=>({key:G.key,name:G.name}))],z=await fetch("/api/r2/approve",{method:"POST",body:JSON.stringify({submissionId:b.id,artistVerifiedName:b.artistName,albumTitle:b.releaseTitle,files:M})});if(!z.ok)throw new Error("Error moviendo archivos en R2");const{migratedFiles:q}=await z.json();j=q[0].key,y=q.slice(1).map((G,K)=>({id:`track-${K+1}`,title:G.name.replace(/\.(mp3|wav|m4a)$/i,""),r2Key:G.key,duration:0}))}else y=b.tracklist?b.tracklist.split(`
`).filter(M=>M.trim()).map((M,z)=>({id:`track-${z+1}`,title:M.replace(/^\d+\.\s*/,"").trim(),url:b.downloadLink})):[];const H={title:b.releaseTitle,artist:b.artistName,artistId:b.artistId,cover:b.coverUrl,r2CoverKey:j,category:b.genre||"Chill",tracks:y,releaseDate:Date.now(),createdAt:Date.now(),submissionId:b.id,storageProvider:b.submissionType==="r2_direct"?"cloudflare_r2":"external_link"};await x(A(Ke,"albums"),H),t(2,o="‚úÖ ¬°Publicado! Archivos migrados y √°lbum creado.")}b.status="approved",t(0,n),l("approved"),setTimeout(()=>t(2,o=""),6e3)}catch(N){t(2,o="‚ùå Error: "+N.message)}}async function L(b){if(confirm(`¬øRechazar "${b.releaseTitle}"?`))try{const N=nt(Ke,"musicSubmissions",b.id);await gt(N,{status:"rejected",reviewedAt:Date.now()}),b.status="rejected",t(0,n),t(2,o="‚ùå Env√≠o rechazado"),l("approved"),setTimeout(()=>t(2,o=""),3e3)}catch(N){t(2,o="‚ùå Error: "+N.message)}}return[n,d,o,f,v,w,E,L,b=>E(b),b=>L(b),b=>w(b.key),b=>{navigator.clipboard.writeText(b.downloadLink||""),t(2,o="üìã URL copiada")}]}class Ar extends wt{constructor(e){super(),kt(this,e,Vr,Ir,Ct,{})}}function cs(r,e,t){const l=r.slice();return l[51]=e[t],l}function us(r,e,t){const l=r.slice();return l[48]=e[t],l}function ds(r,e,t){const l=r.slice();return l[51]=e[t],l}function fs(r,e,t){const l=r.slice();return l[54]=e[t],l}function hs(r,e,t){const l=r.slice();return l[57]=e[t],l}function ps(r){let e,t;return{c(){e=c("div"),t=U(r[8]),this.h()},l(l){e=i(l,"DIV",{class:!0});var n=h(e);t=O(n,r[8]),n.forEach(u),this.h()},h(){a(e,"class","mb-6 p-4 bg-white/10 border border-white/20 rounded-xl")},m(l,n){ee(l,e,n),s(e,t)},p(l,n){n[0]&256&&fe(t,l[8])},d(l){l&&u(e)}}}function Nr(r){let e,t,l,n='<span class="text-purple-400">üì§</span> Subir M√∫sica',d,o,f,v,p="T√≠tulo",w,C,E,L,V,D="Artista",S,T,b,N,k,g,I="Archivo de Audio (MP3)",P,B,x,A,y,j,H="Portada (Opcional)",M,z,q,te,se,G,K,J="La m√∫sica ser√° p√∫blica en el cat√°logo de creadores de inmediato.",oe,ie,re,X,W,de,pe=r[9].length+"",_e,ke,ae,Q,ve="Actualizar",Y,F,le;function Z($,xe){return $[15]?Br:Sr}let me=Z(r),ce=me(r);function be($,xe){return $[10]?Ur:$[9].length===0?Or:Lr}let he=be(r),ue=he(r);return{c(){e=c("div"),t=c("div"),l=c("h3"),l.innerHTML=n,d=m(),o=c("div"),f=c("label"),v=c("span"),v.textContent=p,w=m(),C=c("input"),E=m(),L=c("label"),V=c("span"),V.textContent=D,S=m(),T=c("input"),b=m(),N=c("div"),k=c("label"),g=c("span"),g.textContent=I,P=m(),B=c("input"),x=m(),A=c("div"),y=c("label"),j=c("span"),j.textContent=H,M=m(),z=c("input"),q=m(),te=c("button"),ce.c(),G=m(),K=c("p"),K.textContent=J,oe=m(),ie=c("div"),re=c("div"),X=c("div"),W=c("h3"),de=U("Cat√°logo Actual ("),_e=U(pe),ke=U(")"),ae=m(),Q=c("button"),Q.textContent=ve,Y=m(),ue.c(),this.h()},l($){e=i($,"DIV",{class:!0});var xe=h(e);t=i(xe,"DIV",{class:!0});var Le=h(t);l=i(Le,"H3",{class:!0,"data-svelte-h":!0}),R(l)!=="svelte-1q4ffir"&&(l.innerHTML=n),d=_(Le),o=i(Le,"DIV",{class:!0});var Ee=h(o);f=i(Ee,"LABEL",{class:!0});var De=h(f);v=i(De,"SPAN",{class:!0,"data-svelte-h":!0}),R(v)!=="svelte-1x2zpdk"&&(v.textContent=p),w=_(De),C=i(De,"INPUT",{type:!0,placeholder:!0,class:!0}),De.forEach(u),E=_(Ee),L=i(Ee,"LABEL",{class:!0});var ne=h(L);V=i(ne,"SPAN",{class:!0,"data-svelte-h":!0}),R(V)!=="svelte-8aluxf"&&(V.textContent=D),S=_(ne),T=i(ne,"INPUT",{type:!0,class:!0}),ne.forEach(u),b=_(Ee),N=i(Ee,"DIV",{class:!0});var Pe=h(N);k=i(Pe,"LABEL",{class:!0});var Te=h(k);g=i(Te,"SPAN",{class:!0,"data-svelte-h":!0}),R(g)!=="svelte-1iw2une"&&(g.textContent=I),P=_(Te),B=i(Te,"INPUT",{type:!0,accept:!0,class:!0}),Te.forEach(u),Pe.forEach(u),x=_(Ee),A=i(Ee,"DIV",{class:!0});var Ce=h(A);y=i(Ce,"LABEL",{class:!0});var ye=h(y);j=i(ye,"SPAN",{class:!0,"data-svelte-h":!0}),R(j)!=="svelte-kfse49"&&(j.textContent=H),M=_(ye),z=i(ye,"INPUT",{type:!0,accept:!0,class:!0}),ye.forEach(u),Ce.forEach(u),q=_(Ee),te=i(Ee,"BUTTON",{class:!0});var Ie=h(te);ce.l(Ie),Ie.forEach(u),G=_(Ee),K=i(Ee,"P",{class:!0,"data-svelte-h":!0}),R(K)!=="svelte-10tosdu"&&(K.textContent=J),Ee.forEach(u),Le.forEach(u),oe=_(xe),ie=i(xe,"DIV",{class:!0});var Ne=h(ie);re=i(Ne,"DIV",{class:!0});var Re=h(re);X=i(Re,"DIV",{class:!0});var He=h(X);W=i(He,"H3",{class:!0});var Ae=h(W);de=O(Ae,"Cat√°logo Actual ("),_e=O(Ae,pe),ke=O(Ae,")"),Ae.forEach(u),ae=_(He),Q=i(He,"BUTTON",{class:!0,"data-svelte-h":!0}),R(Q)!=="svelte-11gqpoq"&&(Q.textContent=ve),He.forEach(u),Y=_(Re),ue.l(Re),Re.forEach(u),Ne.forEach(u),xe.forEach(u),this.h()},h(){a(l,"class","text-xl font-bold text-white mb-4 flex items-center gap-2"),a(v,"class","block text-sm text-slate-400 mb-1"),a(C,"type","text"),a(C,"placeholder","Ej. Midnight Vibes"),a(C,"class","w-full bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-white focus:border-purple-500 outline-none"),a(f,"class","block"),a(V,"class","block text-sm text-slate-400 mb-1"),a(T,"type","text"),a(T,"class","w-full bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-white focus:border-purple-500 outline-none"),a(L,"class","block"),a(g,"class","block text-sm text-slate-400 mb-2"),a(B,"type","file"),a(B,"accept","audio/mpeg"),a(B,"class","w-full text-sm text-slate-300 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-purple-500/20 file:text-purple-400 hover:file:bg-purple-500/30"),a(k,"class","block w-full cursor-pointer"),a(N,"class","bg-black/20 p-4 rounded-lg border border-white/5 border-dashed"),a(j,"class","block text-sm text-slate-400 mb-2"),a(z,"type","file"),a(z,"accept","image/*"),a(z,"class","w-full text-sm text-slate-300 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-slate-500/20 file:text-slate-400 hover:file:bg-slate-500/30"),a(y,"class","block w-full cursor-pointer"),a(A,"class","bg-black/20 p-4 rounded-lg border border-white/5 border-dashed"),te.disabled=se=r[15]||!r[11]||!r[13],a(te,"class","w-full py-3 bg-purple-600 hover:bg-purple-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold rounded-xl shadow-lg shadow-purple-900/20 transition-all flex items-center justify-center gap-2"),a(K,"class","text-xs text-slate-500 text-center"),a(o,"class","space-y-4"),a(t,"class","bg-white/5 border border-white/10 rounded-2xl p-6 h-fit"),a(W,"class","font-bold text-slate-200"),a(Q,"class","text-xs text-purple-400 hover:text-purple-300"),a(X,"class","p-4 border-b border-white/10 flex justify-between items-center"),a(re,"class","bg-white/5 border border-white/10 rounded-2xl overflow-hidden"),a(ie,"class","lg:col-span-2"),a(e,"class","grid grid-cols-1 lg:grid-cols-3 gap-8")},m($,xe){ee($,e,xe),s(e,t),s(t,l),s(t,d),s(t,o),s(o,f),s(f,v),s(f,w),s(f,C),Me(C,r[11]),s(o,E),s(o,L),s(L,V),s(L,S),s(L,T),Me(T,r[12]),s(o,b),s(o,N),s(N,k),s(k,g),s(k,P),s(k,B),s(o,x),s(o,A),s(A,y),s(y,j),s(y,M),s(y,z),s(o,q),s(o,te),ce.m(te,null),s(o,G),s(o,K),s(e,oe),s(e,ie),s(ie,re),s(re,X),s(X,W),s(W,de),s(W,_e),s(W,ke),s(X,ae),s(X,Q),s(re,Y),ue.m(re,null),F||(le=[we(C,"input",r[41]),we(T,"input",r[42]),we(B,"change",r[43]),we(z,"change",r[44]),we(te,"click",r[25]),we(Q,"click",r[24])],F=!0)},p($,xe){xe[0]&2048&&C.value!==$[11]&&Me(C,$[11]),xe[0]&4096&&T.value!==$[12]&&Me(T,$[12]),me===(me=Z($))&&ce?ce.p($,xe):(ce.d(1),ce=me($),ce&&(ce.c(),ce.m(te,null))),xe[0]&43008&&se!==(se=$[15]||!$[11]||!$[13])&&(te.disabled=se),xe[0]&512&&pe!==(pe=$[9].length+"")&&fe(_e,pe),he===(he=be($))&&ue?ue.p($,xe):(ue.d(1),ue=he($),ue&&(ue.c(),ue.m(re,null)))},d($){$&&u(e),ce.d(),ue.d(),F=!1,$e(le)}}}function Pr(r){let e,t,l,n,d,o,f,v=[],p=new Map,w,C;function E(b,N){return b[3]?Rr:Fr}let L=E(r),V=L(r),D=r[3]&&bs(r),S=qe(r[17].slice(0,50));const T=b=>b[48].id;for(let b=0;b<S.length;b+=1){let N=us(r,S,b),k=T(N);p.set(k,v[b]=ws(k,N))}return{c(){e=c("div"),t=c("input"),l=m(),n=c("button"),V.c(),d=m(),D&&D.c(),o=m(),f=c("div");for(let b=0;b<v.length;b+=1)v[b].c();this.h()},l(b){e=i(b,"DIV",{class:!0});var N=h(e);t=i(N,"INPUT",{type:!0,placeholder:!0,class:!0}),l=_(N),n=i(N,"BUTTON",{class:!0});var k=h(n);V.l(k),k.forEach(u),N.forEach(u),d=_(b),D&&D.l(b),o=_(b),f=i(b,"DIV",{class:!0});var g=h(f);for(let I=0;I<v.length;I+=1)v[I].l(g);g.forEach(u),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Buscar por √°lbum o artista..."),a(t,"class","flex-1 w-full bg-midnight-800 border border-white/20 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-primary-500"),a(n,"class","px-6 py-3 bg-primary-500 hover:bg-primary-600 rounded-xl font-bold transition-all shadow-lg flex items-center gap-2"),a(e,"class","mb-6 flex flex-col md:flex-row gap-4 justify-between items-start md:items-center"),a(f,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6")},m(b,N){ee(b,e,N),s(e,t),Me(t,r[2]),s(e,l),s(e,n),V.m(n,null),ee(b,d,N),D&&D.m(b,N),ee(b,o,N),ee(b,f,N);for(let k=0;k<v.length;k+=1)v[k]&&v[k].m(f,null);w||(C=[we(t,"input",r[30]),we(n,"click",r[31])],w=!0)},p(b,N){N[0]&4&&t.value!==b[2]&&Me(t,b[2]),L!==(L=E(b))&&(V.d(1),V=L(b),V&&(V.c(),V.m(n,null))),b[3]?D?D.p(b,N):(D=bs(b),D.c(),D.m(o.parentNode,o)):D&&(D.d(1),D=null),N[0]&6422656&&(S=qe(b[17].slice(0,50)),v=Qs(v,N,T,1,b,S,p,f,Js,ws,null,us))},d(b){b&&(u(e),u(d),u(o),u(f)),V.d(),D&&D.d(b);for(let N=0;N<v.length;N+=1)v[N].d();w=!1,$e(C)}}}function Sr(r){let e,t="üöÄ Publicar en Cat√°logo";return{c(){e=c("span"),e.textContent=t},l(l){e=i(l,"SPAN",{"data-svelte-h":!0}),R(e)!=="svelte-11qhkiu"&&(e.textContent=t)},m(l,n){ee(l,e,n)},p:je,d(l){l&&u(e)}}}function Br(r){let e,t,l=Math.round(r[16])+"",n,d;return{c(){e=c("div"),t=U(`\r
                            Subiendo `),n=U(l),d=U("%..."),this.h()},l(o){e=i(o,"DIV",{class:!0}),h(e).forEach(u),t=O(o,`\r
                            Subiendo `),n=O(o,l),d=O(o,"%..."),this.h()},h(){a(e,"class","animate-spin h-4 w-4 border-2 border-white/30 border-t-white rounded-full")},m(o,f){ee(o,e,f),ee(o,t,f),ee(o,n,f),ee(o,d,f)},p(o,f){f[0]&65536&&l!==(l=Math.round(o[16])+"")&&fe(n,l)},d(o){o&&(u(e),u(t),u(n),u(d))}}}function Lr(r){let e,t=qe(r[9]),l=[];for(let n=0;n<t.length;n+=1)l[n]=vs(cs(r,t,n));return{c(){e=c("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=i(n,"DIV",{class:!0});var d=h(e);for(let o=0;o<l.length;o+=1)l[o].l(d);d.forEach(u),this.h()},h(){a(e,"class","divide-y divide-white/5")},m(n,d){ee(n,e,d);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,d){if(d[0]&69206656){t=qe(n[9]);let o;for(o=0;o<t.length;o+=1){const f=cs(n,t,o);l[o]?l[o].p(f,d):(l[o]=vs(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),xt(l,n)}}}function Or(r){let e,t="El cat√°logo est√° vac√≠o. Sube tu primera canci√≥n.";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-7fzich"&&(e.textContent=t),this.h()},h(){a(e,"class","p-8 text-center text-slate-500")},m(l,n){ee(l,e,n)},p:je,d(l){l&&u(e)}}}function Ur(r){let e,t="Cargando...";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-18hjy8t"&&(e.textContent=t),this.h()},h(){a(e,"class","p-8 text-center text-slate-500")},m(l,n){ee(l,e,n)},p:je,d(l){l&&u(e)}}}function Mr(r){let e;return{c(){e=U("‚ñ∂")},l(t){e=O(t,"‚ñ∂")},m(t,l){ee(t,e,l)},d(t){t&&u(e)}}}function jr(r){let e;return{c(){e=U("‚è∏")},l(t){e=O(t,"‚è∏")},m(t,l){ee(t,e,l)},d(t){t&&u(e)}}}function vs(r){let e,t,l,n,d,o,f,v,p=r[51].title+"",w,C,E,L=r[51].artist+"",V,D,S,T,b,N,k="üóëÔ∏è",g,I,P;function B(H,M){return H[7]===H[51].url?jr:Mr}let x=B(r),A=x(r);function y(){return r[45](r[51])}function j(){return r[46](r[51])}return{c(){e=c("div"),t=c("div"),l=c("img"),o=m(),f=c("div"),v=c("p"),w=U(p),C=m(),E=c("p"),V=U(L),D=m(),S=c("div"),T=c("button"),A.c(),b=m(),N=c("button"),N.textContent=k,g=m(),this.h()},l(H){e=i(H,"DIV",{class:!0});var M=h(e);t=i(M,"DIV",{class:!0});var z=h(t);l=i(z,"IMG",{src:!0,alt:!0,class:!0}),z.forEach(u),o=_(M),f=i(M,"DIV",{class:!0});var q=h(f);v=i(q,"P",{class:!0});var te=h(v);w=O(te,p),te.forEach(u),C=_(q),E=i(q,"P",{class:!0});var se=h(E);V=O(se,L),se.forEach(u),q.forEach(u),D=_(M),S=i(M,"DIV",{class:!0});var G=h(S);T=i(G,"BUTTON",{class:!0});var K=h(T);A.l(K),K.forEach(u),b=_(G),N=i(G,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),R(N)!=="svelte-1886e0s"&&(N.textContent=k),G.forEach(u),g=_(M),M.forEach(u),this.h()},h(){Ut(l.src,n=r[51].coverUrl)||a(l,"src",n),a(l,"alt",d=r[51].title),a(l,"class","w-full h-full object-cover opacity-80 group-hover:opacity-100"),a(t,"class","w-10 h-10 rounded bg-black/50 overflow-hidden flex-shrink-0"),a(v,"class","font-bold text-white text-sm truncate"),a(E,"class","text-xs text-slate-400 truncate"),a(f,"class","flex-1 min-w-0"),a(T,"class","w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center text-white transition-colors"),a(N,"class","w-8 h-8 rounded-full bg-red-500/10 hover:bg-red-500/20 text-red-500 flex items-center justify-center transition-colors"),a(N,"title","Eliminar"),a(S,"class","flex items-center gap-2"),a(e,"class","p-3 flex items-center gap-4 hover:bg-white/5 transition-colors group")},m(H,M){ee(H,e,M),s(e,t),s(t,l),s(e,o),s(e,f),s(f,v),s(v,w),s(f,C),s(f,E),s(E,V),s(e,D),s(e,S),s(S,T),A.m(T,null),s(S,b),s(S,N),s(e,g),I||(P=[we(T,"click",y),we(N,"click",j)],I=!0)},p(H,M){r=H,M[0]&512&&!Ut(l.src,n=r[51].coverUrl)&&a(l,"src",n),M[0]&512&&d!==(d=r[51].title)&&a(l,"alt",d),M[0]&512&&p!==(p=r[51].title+"")&&fe(w,p),M[0]&512&&L!==(L=r[51].artist+"")&&fe(V,L),x!==(x=B(r))&&(A.d(1),A=x(r),A&&(A.c(),A.m(T,null)))},d(H){H&&u(e),A.d(),I=!1,$e(P)}}}function Fr(r){let e;return{c(){e=U("Ôºã Nuevo √Ålbum")},l(t){e=O(t,"Ôºã Nuevo √Ålbum")},m(t,l){ee(t,e,l)},d(t){t&&u(e)}}}function Rr(r){let e;return{c(){e=U("‚úï Cancelar")},l(t){e=O(t,"‚úï Cancelar")},m(t,l){ee(t,e,l)},d(t){t&&u(e)}}}function bs(r){let e,t,l,n="‚úï",d,o,f='<span class="text-3xl">üíø</span> Crear Nuevo √Ålbum',v,p,w,C,E,L="T√≠tulo del √Ålbum",V,D,S,T,b,N="Artista (Seleccionar Verificado)",k,g,I,P,B="-- Selecciona un Artista --",x,A,y="‚ñº",j,H,M,z,q="Recargar lista",te,se,G,K="Categor√≠a",J,oe,ie,re="M√∫sica",X,W="Juegos / Focus",de,pe="Ambiente",_e,ke,ae,Q,ve="Portada del √Ålbum",Y,F,le,Z,me,ce,be,he="Tracks (Selecci√≥n m√∫ltiple)",ue,$,xe,Le,Ee,De,ne,Pe="Cancelar",Te,Ce,ye=r[4]?"Subiendo y Procesando...":"üöÄ Publicar √Ålbum",Ie,Ne,Re,He=qe(r[0]),Ae=[];for(let ge=0;ge<He.length;ge+=1)Ae[ge]=_s(hs(r,He,ge));function rt(ge,Ue){return ge[5].coverFile?zr:Hr}let ze=rt(r),Fe=ze(r);function Oe(ge,Ue){return ge[5].tracks.length>0?Gr:qr}let Se=Oe(r),Ve=Se(r);return{c(){e=c("div"),t=c("div"),l=c("button"),l.textContent=n,d=m(),o=c("h3"),o.innerHTML=f,v=m(),p=c("div"),w=c("div"),C=c("label"),E=c("span"),E.textContent=L,V=m(),D=c("input"),S=m(),T=c("label"),b=c("span"),b.textContent=N,k=m(),g=c("div"),I=c("select"),P=c("option"),P.textContent=B;for(let ge=0;ge<Ae.length;ge+=1)Ae[ge].c();x=m(),A=c("div"),A.textContent=y,j=m(),H=c("p"),M=U(`¬øNo encuentras al artista? Aseg√∫rate de que tenga el rol\r
                                    'artist' o est√© 'verificado'.\r
                                    `),z=c("button"),z.textContent=q,te=m(),se=c("label"),G=c("span"),G.textContent=K,J=m(),oe=c("select"),ie=c("option"),ie.textContent=re,X=c("option"),X.textContent=W,de=c("option"),de.textContent=pe,_e=m(),ke=c("div"),ae=c("label"),Q=c("span"),Q.textContent=ve,Y=m(),F=c("div"),Fe.c(),le=m(),Z=c("input"),me=m(),ce=c("label"),be=c("span"),be.textContent=he,ue=m(),$=c("div"),xe=c("input"),Le=m(),Ve.c(),Ee=m(),De=c("div"),ne=c("button"),ne.textContent=Pe,Te=m(),Ce=c("button"),Ie=U(ye),this.h()},l(ge){e=i(ge,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var Ue=h(e);t=i(Ue,"DIV",{class:!0});var Be=h(t);l=i(Be,"BUTTON",{class:!0,"data-svelte-h":!0}),R(l)!=="svelte-zd03a2"&&(l.textContent=n),d=_(Be),o=i(Be,"H3",{class:!0,"data-svelte-h":!0}),R(o)!=="svelte-l3sd0f"&&(o.innerHTML=f),v=_(Be),p=i(Be,"DIV",{class:!0});var Qe=h(p);w=i(Qe,"DIV",{class:!0});var at=h(w);C=i(at,"LABEL",{class:!0});var Xe=h(C);E=i(Xe,"SPAN",{class:!0,"data-svelte-h":!0}),R(E)!=="svelte-1b0kyf9"&&(E.textContent=L),V=_(Xe),D=i(Xe,"INPUT",{type:!0,class:!0,placeholder:!0}),Xe.forEach(u),S=_(at),T=i(at,"LABEL",{class:!0});var et=h(T);b=i(et,"SPAN",{class:!0,"data-svelte-h":!0}),R(b)!=="svelte-1ug56w1"&&(b.textContent=N),k=_(et),g=i(et,"DIV",{class:!0});var Ye=h(g);I=i(Ye,"SELECT",{class:!0});var ft=h(I);P=i(ft,"OPTION",{"data-svelte-h":!0}),R(P)!=="svelte-zt3b1k"&&(P.textContent=B);for(let Dt=0;Dt<Ae.length;Dt+=1)Ae[Dt].l(ft);ft.forEach(u),x=_(Ye),A=i(Ye,"DIV",{class:!0,"data-svelte-h":!0}),R(A)!=="svelte-ronnek"&&(A.textContent=y),Ye.forEach(u),j=_(et),H=i(et,"P",{class:!0});var Je=h(H);M=O(Je,`¬øNo encuentras al artista? Aseg√∫rate de que tenga el rol\r
                                    'artist' o est√© 'verificado'.\r
                                    `),z=i(Je,"BUTTON",{class:!0,"data-svelte-h":!0}),R(z)!=="svelte-1lzll0h"&&(z.textContent=q),Je.forEach(u),et.forEach(u),te=_(at),se=i(at,"LABEL",{class:!0});var tt=h(se);G=i(tt,"SPAN",{class:!0,"data-svelte-h":!0}),R(G)!=="svelte-90j49n"&&(G.textContent=K),J=_(tt),oe=i(tt,"SELECT",{class:!0});var mt=h(oe);ie=i(mt,"OPTION",{"data-svelte-h":!0}),R(ie)!=="svelte-so9z49"&&(ie.textContent=re),X=i(mt,"OPTION",{"data-svelte-h":!0}),R(X)!=="svelte-enmzzp"&&(X.textContent=W),de=i(mt,"OPTION",{"data-svelte-h":!0}),R(de)!=="svelte-mboq3a"&&(de.textContent=pe),mt.forEach(u),tt.forEach(u),at.forEach(u),_e=_(Qe),ke=i(Qe,"DIV",{class:!0});var ot=h(ke);ae=i(ot,"LABEL",{class:!0});var lt=h(ae);Q=i(lt,"SPAN",{class:!0,"data-svelte-h":!0}),R(Q)!=="svelte-1c7lph1"&&(Q.textContent=ve),Y=_(lt),F=i(lt,"DIV",{class:!0});var it=h(F);Fe.l(it),le=_(it),Z=i(it,"INPUT",{type:!0,accept:!0,class:!0}),it.forEach(u),lt.forEach(u),me=_(ot),ce=i(ot,"LABEL",{class:!0});var ht=h(ce);be=i(ht,"SPAN",{class:!0,"data-svelte-h":!0}),R(be)!=="svelte-1xiecty"&&(be.textContent=he),ue=_(ht),$=i(ht,"DIV",{class:!0});var Et=h($);xe=i(Et,"INPUT",{type:!0,accept:!0,class:!0}),Le=_(Et),Ve.l(Et),Et.forEach(u),ht.forEach(u),ot.forEach(u),Qe.forEach(u),Ee=_(Be),De=i(Be,"DIV",{class:!0});var ut=h(De);ne=i(ut,"BUTTON",{class:!0,"data-svelte-h":!0}),R(ne)!=="svelte-qyv1s4"&&(ne.textContent=Pe),Te=_(ut),Ce=i(ut,"BUTTON",{class:!0});var Tt=h(Ce);Ie=O(Tt,ye),Tt.forEach(u),ut.forEach(u),Be.forEach(u),Ue.forEach(u),this.h()},h(){a(l,"class","absolute top-4 right-4 text-slate-400 hover:text-white transition-colors"),a(o,"class","text-2xl font-bold mb-6 flex items-center gap-3"),a(E,"class","block text-sm font-semibold text-slate-400 group-focus-within:text-primary-400 mb-2 transition-colors"),a(D,"type","text"),a(D,"class","w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary-500 focus:ring-1 focus:ring-primary-500 outline-none transition-all placeholder-slate-600"),a(D,"placeholder","Ej. Summer Vibes"),a(C,"class","block group"),a(b,"class","block text-sm font-semibold text-slate-400 group-focus-within:text-primary-400 mb-2 transition-colors"),P.__value="",Me(P,P.__value),P.disabled=!0,P.selected=!0,a(I,"class","w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary-500 focus:ring-1 focus:ring-primary-500 outline-none appearance-none transition-all"),r[1]===void 0&&At(()=>r[34].call(I)),a(A,"class","absolute inset-y-0 right-0 flex items-center px-4 pointer-events-none text-slate-500"),a(g,"class","relative"),a(z,"class","text-primary-400 underline hover:text-primary-300 ml-1"),a(H,"class","text-xs text-slate-500 mt-2"),a(T,"class","block group"),a(G,"class","block text-sm font-semibold text-slate-400 group-focus-within:text-primary-400 mb-2 transition-colors"),ie.__value="musica",Me(ie,ie.__value),X.__value="juegos",Me(X,X.__value),de.__value="ambiente",Me(de,de.__value),a(oe,"class","w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-primary-500 outline-none"),r[5].category===void 0&&At(()=>r[35].call(oe)),a(se,"class","block group"),a(w,"class","space-y-5"),a(Q,"class","block text-sm font-semibold text-slate-400 group-hover:text-primary-400 mb-2 transition-colors"),a(Z,"type","file"),a(Z,"accept","image/*"),a(Z,"class","absolute inset-0 opacity-0 cursor-pointer"),a(F,"class","relative w-full aspect-video md:aspect-square bg-black/40 border-2 border-dashed border-white/10 rounded-xl flex flex-col items-center justify-center p-4 group-hover:border-primary-500/50 transition-all overflow-hidden"),a(ae,"class","block group cursor-pointer"),a(be,"class","block text-sm font-semibold text-slate-400 mb-2"),a(xe,"type","file"),xe.multiple=!0,a(xe,"accept","audio/*"),a(xe,"class","w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-primary-500/20 file:text-primary-400 hover:file:bg-primary-500/30 cursor-pointer"),a($,"class","bg-black/40 border border-white/10 rounded-xl p-4"),a(ce,"class","block group"),a(ke,"class","space-y-5"),a(p,"class","grid grid-cols-1 md:grid-cols-2 gap-8 mb-8"),a(ne,"class","px-6 py-2 text-slate-400 hover:text-white font-medium transition-colors"),Ce.disabled=r[4],a(Ce,"class","px-8 py-3 bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-500 hover:to-purple-500 rounded-xl font-bold text-white shadow-lg shadow-primary-900/20 disabled:opacity-50 disabled:cursor-not-allowed transform hover:-translate-y-0.5 transition-all w-full md:w-auto"),a(De,"class","flex justify-end items-center gap-4 pt-4 border-t border-white/5"),a(t,"class","bg-midnight-900 border border-white/10 rounded-3xl p-6 md:p-8 w-full max-w-3xl shadow-2xl relative overflow-y-auto max-h-[90vh]"),a(e,"class","fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fade-in cursor-pointer"),a(e,"role","button"),a(e,"tabindex","0"),a(e,"aria-label","Cerrar modal")},m(ge,Ue){ee(ge,e,Ue),s(e,t),s(t,l),s(t,d),s(t,o),s(t,v),s(t,p),s(p,w),s(w,C),s(C,E),s(C,V),s(C,D),Me(D,r[5].title),s(w,S),s(w,T),s(T,b),s(T,k),s(T,g),s(g,I),s(I,P);for(let Be=0;Be<Ae.length;Be+=1)Ae[Be]&&Ae[Be].m(I,null);dt(I,r[1],!0),s(g,x),s(g,A),s(T,j),s(T,H),s(H,M),s(H,z),s(w,te),s(w,se),s(se,G),s(se,J),s(se,oe),s(oe,ie),s(oe,X),s(oe,de),dt(oe,r[5].category,!0),s(p,_e),s(p,ke),s(ke,ae),s(ae,Q),s(ae,Y),s(ae,F),Fe.m(F,null),s(F,le),s(F,Z),s(ke,me),s(ke,ce),s(ce,be),s(ce,ue),s(ce,$),s($,xe),s($,Le),Ve.m($,null),s(t,Ee),s(t,De),s(De,ne),s(De,Te),s(De,Ce),s(Ce,Ie),Ne||(Re=[we(l,"click",r[32]),we(D,"input",r[33]),we(I,"change",r[34]),we(z,"click",r[23]),we(oe,"change",r[35]),we(Z,"change",r[18]),we(xe,"change",r[19]),we(ne,"click",r[36]),we(Ce,"click",r[20]),we(e,"click",qs(r[37])),we(e,"keydown",r[38])],Ne=!0)},p(ge,Ue){if(Ue[0]&32&&D.value!==ge[5].title&&Me(D,ge[5].title),Ue[0]&1){He=qe(ge[0]);let Be;for(Be=0;Be<He.length;Be+=1){const Qe=hs(ge,He,Be);Ae[Be]?Ae[Be].p(Qe,Ue):(Ae[Be]=_s(Qe),Ae[Be].c(),Ae[Be].m(I,null))}for(;Be<Ae.length;Be+=1)Ae[Be].d(1);Ae.length=He.length}Ue[0]&3&&dt(I,ge[1]),Ue[0]&32&&dt(oe,ge[5].category),ze===(ze=rt(ge))&&Fe?Fe.p(ge,Ue):(Fe.d(1),Fe=ze(ge),Fe&&(Fe.c(),Fe.m(F,le))),Se===(Se=Oe(ge))&&Ve?Ve.p(ge,Ue):(Ve.d(1),Ve=Se(ge),Ve&&(Ve.c(),Ve.m($,null))),Ue[0]&16&&ye!==(ye=ge[4]?"Subiendo y Procesando...":"üöÄ Publicar √Ålbum")&&fe(Ie,ye),Ue[0]&16&&(Ce.disabled=ge[4])},d(ge){ge&&u(e),xt(Ae,ge),Fe.d(),Ve.d(),Ne=!1,$e(Re)}}}function _s(r){let e,t=r[57].displayName+"",l,n,d=r[57].isFounder?"(Fundador üíé)":"",o,f,v;return{c(){e=c("option"),l=U(t),n=m(),o=U(d),f=m(),this.h()},l(p){e=i(p,"OPTION",{});var w=h(e);l=O(w,t),n=_(w),o=O(w,d),f=_(w),w.forEach(u),this.h()},h(){e.__value=v=r[57].uid,Me(e,e.__value)},m(p,w){ee(p,e,w),s(e,l),s(e,n),s(e,o),s(e,f)},p(p,w){w[0]&1&&t!==(t=p[57].displayName+"")&&fe(l,t),w[0]&1&&d!==(d=p[57].isFounder?"(Fundador üíé)":"")&&fe(o,d),w[0]&1&&v!==(v=p[57].uid)&&(e.__value=v,Me(e,e.__value))},d(p){p&&u(e)}}}function Hr(r){let e,t="üñºÔ∏è",l,n,d="Click para subir imagen";return{c(){e=c("span"),e.textContent=t,l=m(),n=c("span"),n.textContent=d,this.h()},l(o){e=i(o,"SPAN",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1x6sqgy"&&(e.textContent=t),l=_(o),n=i(o,"SPAN",{class:!0,"data-svelte-h":!0}),R(n)!=="svelte-127sb12"&&(n.textContent=d),this.h()},h(){a(e,"class","text-4xl mb-2 opacity-50"),a(n,"class","text-xs text-slate-500 text-center")},m(o,f){ee(o,e,f),ee(o,l,f),ee(o,n,f)},p:je,d(o){o&&(u(e),u(l),u(n))}}}function zr(r){let e,t,l='<span class="text-white font-bold">Cambiar Imagen</span>';return{c(){e=c("div"),t=c("div"),t.innerHTML=l,this.h()},l(n){e=i(n,"DIV",{class:!0,style:!0});var d=h(e);t=i(d,"DIV",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1nqq5i2"&&(t.innerHTML=l),d.forEach(u),this.h()},h(){a(t,"class","absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"),a(e,"class","absolute inset-0 bg-cover bg-center"),Il(e,"background-image","url("+URL.createObjectURL(r[5].coverFile)+")")},m(n,d){ee(n,e,d),s(e,t)},p(n,d){d[0]&32&&Il(e,"background-image","url("+URL.createObjectURL(n[5].coverFile)+")")},d(n){n&&u(e)}}}function qr(r){let e,t="Ning√∫n track seleccionado";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-gnqwkz"&&(e.textContent=t),this.h()},h(){a(e,"class","mt-4 text-center text-xs text-slate-600 italic py-2")},m(l,n){ee(l,e,n)},p:je,d(l){l&&u(e)}}}function Gr(r){let e,t=qe(r[5].tracks),l=[];for(let n=0;n<t.length;n+=1)l[n]=ms(fs(r,t,n));return{c(){e=c("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=i(n,"DIV",{class:!0});var d=h(e);for(let o=0;o<l.length;o+=1)l[o].l(d);d.forEach(u),this.h()},h(){a(e,"class","mt-4 max-h-32 overflow-y-auto pr-2 custom-scrollbar svelte-qqas83")},m(n,d){ee(n,e,d);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,d){if(d[0]&32){t=qe(n[5].tracks);let o;for(o=0;o<t.length;o+=1){const f=fs(n,t,o);l[o]?l[o].p(f,d):(l[o]=ms(f),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),xt(l,n)}}}function ms(r){let e,t,l="üéµ",n,d=r[54].name+"",o,f;return{c(){e=c("div"),t=c("span"),t.textContent=l,n=m(),o=U(d),f=m(),this.h()},l(v){e=i(v,"DIV",{class:!0});var p=h(e);t=i(p,"SPAN",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1g0zmsm"&&(t.textContent=l),n=_(p),o=O(p,d),f=_(p),p.forEach(u),this.h()},h(){a(t,"class","text-primary-500"),a(e,"class","flex items-center gap-2 py-2 border-b border-white/5 last:border-0 text-xs text-slate-300")},m(v,p){ee(v,e,p),s(e,t),s(e,n),s(e,o),s(e,f)},p(v,p){p[0]&32&&d!==(d=v[54].name+"")&&fe(o,d)},d(v){v&&u(e)}}}function gs(r){let e,t="PRO";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-iptan5"&&(e.textContent=t),this.h()},h(){a(e,"class","absolute top-0 right-0 bg-yellow-500 text-black text-[10px] font-bold px-1.5 py-0.5")},m(l,n){ee(l,e,n)},d(l){l&&u(e)}}}function Kr(r){let e,t="Sin pistas disponibles";return{c(){e=c("p"),e.textContent=t,this.h()},l(l){e=i(l,"P",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-xhrmay"&&(e.textContent=t),this.h()},h(){a(e,"class","text-xs text-slate-500 text-center py-2")},m(l,n){ee(l,e,n)},p:je,d(l){l&&u(e)}}}function Qr(r){let e,t=qe(r[48].tracks),l=[];for(let n=0;n<t.length;n+=1)l[n]=xs(ds(r,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=Vl()},l(n){for(let d=0;d<l.length;d+=1)l[d].l(n);e=Vl()},m(n,d){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(n,d);ee(n,e,d)},p(n,d){if(d[0]&2228352){t=qe(n[48].tracks);let o;for(o=0;o<t.length;o+=1){const f=ds(n,t,o);l[o]?l[o].p(f,d):(l[o]=xs(f),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),xt(l,n)}}}function Jr(r){let e;return{c(){e=U("‚ñ∂")},l(t){e=O(t,"‚ñ∂")},m(t,l){ee(t,e,l)},d(t){t&&u(e)}}}function Xr(r){let e;return{c(){e=U("‚è∏")},l(t){e=O(t,"‚è∏")},m(t,l){ee(t,e,l)},d(t){t&&u(e)}}}function xs(r){let e,t,l,n,d=r[51].title+"",o,f,v,p;function w(V,D){return V[7]===V[51].file?Xr:Jr}let C=w(r),E=C(r);function L(){return r[39](r[51])}return{c(){e=c("div"),t=c("button"),E.c(),l=m(),n=c("span"),o=U(d),f=m(),this.h()},l(V){e=i(V,"DIV",{class:!0});var D=h(e);t=i(D,"BUTTON",{class:!0});var S=h(t);E.l(S),S.forEach(u),l=_(D),n=i(D,"SPAN",{class:!0});var T=h(n);o=O(T,d),T.forEach(u),f=_(D),D.forEach(u),this.h()},h(){a(t,"class","text-primary-400 hover:text-white"),a(n,"class","text-slate-300 truncate"),a(e,"class","flex items-center gap-2 py-1 hover:bg-white/5 rounded px-2 text-xs")},m(V,D){ee(V,e,D),s(e,t),E.m(t,null),s(e,l),s(e,n),s(n,o),s(e,f),v||(p=we(t,"click",L),v=!0)},p(V,D){r=V,C!==(C=w(r))&&(E.d(1),E=C(r),E&&(E.c(),E.m(t,null))),D[0]&131072&&d!==(d=r[51].title+"")&&fe(o,d)},d(V){V&&u(e),E.d(),v=!1,p()}}}function ws(r,e){let t,l,n,d,o,f,v,p,w,C,E=e[48].title+"",L,V,D,S,T=e[48].artist+"",b,N,k,g=e[48].category+"",I,P,B=(e[48].tracks?.length||0)+"",x,A,y,j,H,M,z,q="üóëÔ∏è Eliminar √Ålbum",te,se,G,K=e[48].isPremium&&gs();function J(X,W){return X[48].tracks&&X[48].tracks.length>0?Qr:Kr}let oe=J(e),ie=oe(e);function re(){return e[40](e[48])}return{key:r,first:null,c(){t=c("div"),l=c("div"),n=c("div"),d=c("img"),v=m(),K&&K.c(),p=m(),w=c("div"),C=c("h3"),L=U(E),D=m(),S=c("p"),b=U(T),N=m(),k=c("p"),I=U(g),P=U(" ‚Ä¢ "),x=U(B),A=U(" tracks"),y=m(),j=c("div"),ie.c(),H=m(),M=c("div"),z=c("button"),z.textContent=q,te=m(),this.h()},l(X){t=i(X,"DIV",{class:!0});var W=h(t);l=i(W,"DIV",{class:!0});var de=h(l);n=i(de,"DIV",{class:!0});var pe=h(n);d=i(pe,"IMG",{src:!0,alt:!0,class:!0}),v=_(pe),K&&K.l(pe),pe.forEach(u),p=_(de),w=i(de,"DIV",{class:!0});var _e=h(w);C=i(_e,"H3",{class:!0,title:!0});var ke=h(C);L=O(ke,E),ke.forEach(u),D=_(_e),S=i(_e,"P",{class:!0});var ae=h(S);b=O(ae,T),ae.forEach(u),N=_(_e),k=i(_e,"P",{class:!0});var Q=h(k);I=O(Q,g),P=O(Q," ‚Ä¢ "),x=O(Q,B),A=O(Q," tracks"),Q.forEach(u),_e.forEach(u),de.forEach(u),y=_(W),j=i(W,"DIV",{class:!0});var ve=h(j);ie.l(ve),ve.forEach(u),H=_(W),M=i(W,"DIV",{class:!0});var Y=h(M);z=i(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),R(z)!=="svelte-d3ozip"&&(z.textContent=q),Y.forEach(u),te=_(W),W.forEach(u),this.h()},h(){Ut(d.src,o=e[48].cover)||a(d,"src",o),a(d,"alt",f=e[48].title),a(d,"class","w-full h-full object-cover"),a(n,"class","w-20 h-20 rounded-lg overflow-hidden bg-black/50 flex-shrink-0 relative"),a(C,"class","font-bold text-white truncate"),a(C,"title",V=e[48].title),a(S,"class","text-sm text-slate-400 truncate"),a(k,"class","text-xs text-slate-500 mt-1 capitalize"),a(w,"class","overflow-hidden"),a(l,"class","flex gap-4 mb-4"),a(j,"class","bg-black/20 rounded-xl p-3 mb-4 max-h-32 overflow-y-auto custom-scrollbar svelte-qqas83"),a(z,"class","text-xs flex items-center gap-1 text-red-400 hover:text-red-300 px-3 py-1.5 rounded-lg hover:bg-red-500/10 transition-colors"),a(M,"class","flex justify-end pt-3 border-t border-white/10"),a(t,"class","bg-white/5 border border-white/10 rounded-2xl p-5 hover:bg-white/10 transition-colors group"),this.first=t},m(X,W){ee(X,t,W),s(t,l),s(l,n),s(n,d),s(n,v),K&&K.m(n,null),s(l,p),s(l,w),s(w,C),s(C,L),s(w,D),s(w,S),s(S,b),s(w,N),s(w,k),s(k,I),s(k,P),s(k,x),s(k,A),s(t,y),s(t,j),ie.m(j,null),s(t,H),s(t,M),s(M,z),s(t,te),se||(G=we(z,"click",re),se=!0)},p(X,W){e=X,W[0]&131072&&!Ut(d.src,o=e[48].cover)&&a(d,"src",o),W[0]&131072&&f!==(f=e[48].title)&&a(d,"alt",f),e[48].isPremium?K||(K=gs(),K.c(),K.m(n,null)):K&&(K.d(1),K=null),W[0]&131072&&E!==(E=e[48].title+"")&&fe(L,E),W[0]&131072&&V!==(V=e[48].title)&&a(C,"title",V),W[0]&131072&&T!==(T=e[48].artist+"")&&fe(b,T),W[0]&131072&&g!==(g=e[48].category+"")&&fe(I,g),W[0]&131072&&B!==(B=(e[48].tracks?.length||0)+"")&&fe(x,B),oe===(oe=J(e))&&ie?ie.p(e,W):(ie.d(1),ie=oe(e),ie&&(ie.c(),ie.m(j,null)))},d(X){X&&u(t),K&&K.d(),ie.d(),se=!1,G()}}}function Zr(r){let e,t,l,n='<h2 class="text-2xl font-bold text-white mb-2">Gesti√≥n Musical</h2> <p class="text-slate-400">Gestiona la biblioteca de la app y el cat√°logo para creadores.</p>',d,o,f,v,p,w,C,E,L,V,D,S,T,b=r[8]&&ps(r);function N(I,P){return I[6]==="library"?Pr:Nr}let k=N(r),g=k(r);return{c(){e=c("div"),t=c("div"),l=c("div"),l.innerHTML=n,d=m(),o=c("div"),f=c("button"),v=U("Biblioteca App"),w=m(),C=c("button"),E=U("Cat√°logo Streamers"),V=m(),b&&b.c(),D=m(),g.c(),this.h()},l(I){e=i(I,"DIV",{class:!0});var P=h(e);t=i(P,"DIV",{class:!0});var B=h(t);l=i(B,"DIV",{"data-svelte-h":!0}),R(l)!=="svelte-frte3z"&&(l.innerHTML=n),d=_(B),o=i(B,"DIV",{class:!0});var x=h(o);f=i(x,"BUTTON",{class:!0});var A=h(f);v=O(A,"Biblioteca App"),A.forEach(u),w=_(x),C=i(x,"BUTTON",{class:!0});var y=h(C);E=O(y,"Cat√°logo Streamers"),y.forEach(u),x.forEach(u),B.forEach(u),V=_(P),b&&b.l(P),D=_(P),g.l(P),P.forEach(u),this.h()},h(){a(f,"class",p="px-4 py-2 rounded-lg text-sm font-bold transition-colors "+(r[6]==="library"?"bg-primary-500 text-white shadow-lg":"text-slate-400 hover:text-white")),a(C,"class",L="px-4 py-2 rounded-lg text-sm font-bold transition-colors "+(r[6]==="creators"?"bg-purple-500 text-white shadow-lg":"text-slate-400 hover:text-white")),a(o,"class","flex bg-black/30 p-1 rounded-xl"),a(t,"class","flex items-center justify-between mb-6"),a(e,"class","animate-fade-in")},m(I,P){ee(I,e,P),s(e,t),s(t,l),s(t,d),s(t,o),s(o,f),s(f,v),s(o,w),s(o,C),s(C,E),s(e,V),b&&b.m(e,null),s(e,D),g.m(e,null),S||(T=[we(f,"click",r[28]),we(C,"click",r[29])],S=!0)},p(I,P){P[0]&64&&p!==(p="px-4 py-2 rounded-lg text-sm font-bold transition-colors "+(I[6]==="library"?"bg-primary-500 text-white shadow-lg":"text-slate-400 hover:text-white"))&&a(f,"class",p),P[0]&64&&L!==(L="px-4 py-2 rounded-lg text-sm font-bold transition-colors "+(I[6]==="creators"?"bg-purple-500 text-white shadow-lg":"text-slate-400 hover:text-white"))&&a(C,"class",L),I[8]?b?b.p(I,P):(b=ps(I),b.c(),b.m(e,D)):b&&(b.d(1),b=null),k===(k=N(I))&&g?g.p(I,P):(g.d(1),g=k(I),g&&(g.c(),g.m(e,null)))},i:je,o:je,d(I){I&&u(e),b&&b.d(),g.d(),S=!1,$e(T)}}}async function ks(r,e){const t=await fetch("/api/r2/sign-url",{method:"POST",body:JSON.stringify({fileName:r.name,fileType:r.type,folder:e})});if(!t.ok)throw new Error("Failed to get upload URL");const{uploadUrl:l,key:n}=await t.json();if(!(await fetch(l,{method:"PUT",body:r,headers:{"Content-Type":r.type}})).ok)throw new Error("Failed to upload file to R2");return`https://pub-68b007968c59b47aa64fadcf.r2.dev/${n}`}function Wr(r,e,t){let l,n;ml(r,bl,F=>t(27,n=F));let d=!1,o=!1,f=[],v="",p={title:"",artist:"",artistId:"",category:"musica",coverFile:null,tracks:[]};function w(F){t(5,p.coverFile=F.target.files[0],p)}function C(F){t(5,p.tracks=Array.from(F.target.files),p)}async function E(){if(!p.title||!p.artist||!p.coverFile||p.tracks.length===0){alert("Completa todos los campos (Portada y Tracks obligatorios)");return}t(4,o=!0);try{const F=p.artist.replace(/[^a-zA-Z0-9]/g,"_"),le=p.title.replace(/[^a-zA-Z0-9]/g,"_"),Z=`artists/${F}/${le}`,me=await ks(p.coverFile,Z),ce=[];for(const be of p.tracks){const he=await ks(be,Z);ce.push({title:be.name.replace(/\.[^/.]+$/,""),artist:p.artist,file:he,id:crypto.randomUUID(),duration:0})}await Pl(Vt(Ke,"albums"),{title:p.title,artist:p.artist,category:p.category,cover:me,tracks:ce,createdAt:Sl(),vibeId:"custom",price:"Free",tag:"New",description:"Uploaded via Admin R2",isPremium:!1}),alert("‚úÖ √Ålbum creado y subido a R2 exitosamente"),t(3,d=!1),t(5,p={title:"",artist:"",artistId:"",category:"musica",coverFile:null,tracks:[]})}catch(F){console.error(F),alert("Error: "+F.message)}finally{t(4,o=!1)}}let L="library",V="",D=null,S=null,T="";function b(F){D===F?(S?.pause(),t(7,D=null)):(S&&S.pause(),S=new Audio(F),S.play(),t(7,D=F),S.onended=()=>t(7,D=null))}async function N(F){if(confirm(`‚ö†Ô∏è ¬øELIMINAR √ÅLBUM "${F.title}"?

Esta acci√≥n es irreversible.`))try{await Ft(nt(Ke,"albums",F.id)),bl.update(le=>({...le,availableAlbums:le.availableAlbums.filter(Z=>Z.id!==F.id)})),t(8,T="‚úÖ √Ålbum eliminado correctamente"),setTimeout(()=>t(8,T=""),3e3)}catch(le){console.error(le),le.code==="permission-denied"?t(8,T="‚ùå No tienes permisos o es un √°lbum del sistema (no eliminable)"):t(8,T="‚ùå Error al eliminar (probablemente es un √°lbum est√°tico local): "+le.message)}}let k=[],g=!1,I="",P="ChillChess Originals",B=null,x=null,A=!1,y=0;yt(async()=>{await Promise.all([H(),j()])});async function j(){try{const F=Mt(Vt(Ke,"users"),Xs("isVerified","==",!0)),le=await il(F);t(0,f=le.docs.map(Z=>{const me=Z.data();return{uid:Z.id,displayName:me.displayName||me.username||"Sin Nombre",photoURL:me.photoURL,isFounder:me.subscriptionTier==="pro"||me.subscriptionTier==="premium"}})),console.log("Verified Artists loaded:",f.length)}catch(F){console.warn("Error loading verified artists:",F)}}async function H(){t(10,g=!0);try{const F=Mt(Vt(Ke,"creatorCatalog"),Rt("createdAt","desc")),le=await il(F);t(9,k=le.docs.map(Z=>({id:Z.id,...Z.data()})))}catch(F){console.error("Error loading catalog:",F)}finally{t(10,g=!1)}}async function M(){if(!I||!B){alert("T√≠tulo y archivo de audio son obligatorios");return}t(15,A=!0),t(16,y=10);try{const F=Date.now(),le=`catalog/${F}_${B.name}`,Z=dl(fl,le);await Bl(Z,B);const me=await Ll(Z);t(16,y=60);let ce="";if(x){const he=`catalog/covers/${F}_${x.name}`,ue=dl(fl,he);await Bl(ue,x),ce=await Ll(ue)}t(16,y=80),await Pl(Vt(Ke,"creatorCatalog"),{title:I,artist:P,url:me,coverUrl:ce||"/images/default-cover.jpg",storagePath:le,createdAt:Sl(),duration:0}),t(16,y=100),t(8,T="‚úÖ Pista a√±adida al cat√°logo"),t(11,I=""),t(13,B=null),t(14,x=null),document.querySelectorAll('input[type="file"]').forEach(he=>he.value=""),await H(),setTimeout(()=>t(8,T=""),3e3)}catch(F){console.error(F),alert("Error al subir: "+F.message)}finally{t(15,A=!1),t(16,y=0)}}async function z(F){if(confirm(`¬øEliminar "${F.title}" del cat√°logo?`))try{if(await Ft(nt(Ke,"creatorCatalog",F.id)),F.storagePath){const le=dl(fl,F.storagePath);await Zs(le).catch(()=>console.warn("Audio file not found"))}t(9,k=k.filter(le=>le.id!==F.id)),t(8,T="üóëÔ∏è Pista eliminada")}catch(le){alert("Error al eliminar: "+le.message)}}const q=()=>t(6,L="library"),te=()=>t(6,L="creators");function se(){V=this.value,t(2,V)}const G=()=>t(3,d=!d),K=()=>t(3,d=!1);function J(){p.title=this.value,t(5,p),t(1,v),t(0,f)}function oe(){v=jt(this),t(1,v),t(0,f)}function ie(){p.category=jt(this),t(5,p),t(1,v),t(0,f)}const re=()=>t(3,d=!1),X=()=>t(3,d=!1),W=F=>F.key==="Escape"&&t(3,d=!1),de=F=>b(F.file),pe=F=>N(F);function _e(){I=this.value,t(11,I)}function ke(){P=this.value,t(12,P)}const ae=F=>t(13,B=F.currentTarget.files?.[0]||null),Q=F=>t(14,x=F.currentTarget.files?.[0]||null),ve=F=>b(F.url),Y=F=>z(F);return r.$$.update=()=>{if(r.$$.dirty[0]&3&&v){const F=f.find(le=>le.uid===v);F&&(t(5,p.artist=F.displayName,p),t(5,p.artistId=F.uid,p))}r.$$.dirty[0]&134217732&&t(17,l=n.availableAlbums.filter(F=>{const le=V.toLowerCase();return F.title.toLowerCase().includes(le)||F.artist.toLowerCase().includes(le)}))},[f,v,V,d,o,p,L,D,T,k,g,I,P,B,x,A,y,l,w,C,E,b,N,j,H,M,z,n,q,te,se,G,K,J,oe,ie,re,X,W,de,pe,_e,ke,ae,Q,ve,Y]}class Yr extends wt{constructor(e){super(),kt(this,e,Wr,Zr,Ct,{},null,[-1,-1])}}function Cs(r,e,t){const l=r.slice();return l[5]=e[t],l}function ys(r){let e,t,l=new Date(r[5].timestamp).toLocaleTimeString()+"",n,d,o,f,v=r[5].module+"",p,w,C,E,L=r[5].message+"",V,D;return{c(){e=c("div"),t=c("span"),n=U(l),d=m(),o=c("span"),f=U("["),p=U(v),w=U("]"),C=m(),E=c("span"),V=U(L),this.h()},l(S){e=i(S,"DIV",{class:!0});var T=h(e);t=i(T,"SPAN",{class:!0});var b=h(t);n=O(b,l),b.forEach(u),d=_(T),o=i(T,"SPAN",{class:!0});var N=h(o);f=O(N,"["),p=O(N,v),w=O(N,"]"),N.forEach(u),C=_(T),E=i(T,"SPAN",{class:!0});var k=h(E);V=O(k,L),k.forEach(u),T.forEach(u),this.h()},h(){a(t,"class","text-slate-500 w-24 flex-shrink-0"),a(o,"class","font-bold w-24 flex-shrink-0 flex items-center gap-2"),a(E,"class","text-slate-300"),a(e,"class",D="flex gap-4 p-2 hover:bg-white/5 rounded border-l-2 "+Ts(r[5].type)+" mb-1 svelte-bfe4de")},m(S,T){ee(S,e,T),s(e,t),s(t,n),s(e,d),s(e,o),s(o,f),s(o,p),s(o,w),s(e,C),s(e,E),s(E,V)},p(S,T){T&2&&l!==(l=new Date(S[5].timestamp).toLocaleTimeString()+"")&&fe(n,l),T&2&&v!==(v=S[5].module+"")&&fe(p,v),T&2&&L!==(L=S[5].message+"")&&fe(V,L),T&2&&D!==(D="flex gap-4 p-2 hover:bg-white/5 rounded border-l-2 "+Ts(S[5].type)+" mb-1 svelte-bfe4de")&&a(e,"class",D)},d(S){S&&u(e)}}}function Es(r){let e,t="No hay logs para mostrar";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-10mp30q"&&(e.textContent=t),this.h()},h(){a(e,"class","text-center py-12 text-slate-500")},m(l,n){ee(l,e,n)},d(l){l&&u(e)}}}function $r(r){let e,t,l,n='<h2 class="text-2xl font-bold text-white mb-2">Logs del Sistema</h2> <p class="text-slate-400">Registro de actividad y errores</p>',d,o,f,v,p,w,C,E,L,V,D,S,T,b,N=qe(r[1]),k=[];for(let I=0;I<N.length;I+=1)k[I]=ys(Cs(r,N,I));let g=r[1].length===0&&Es();return{c(){e=c("div"),t=c("div"),l=c("div"),l.innerHTML=n,d=m(),o=c("div"),f=c("button"),v=U("Todos"),w=m(),C=c("button"),E=U("Errores"),V=m(),D=c("div");for(let I=0;I<k.length;I+=1)k[I].c();S=m(),g&&g.c(),this.h()},l(I){e=i(I,"DIV",{class:!0});var P=h(e);t=i(P,"DIV",{class:!0});var B=h(t);l=i(B,"DIV",{"data-svelte-h":!0}),R(l)!=="svelte-1tzxayg"&&(l.innerHTML=n),d=_(B),o=i(B,"DIV",{class:!0});var x=h(o);f=i(x,"BUTTON",{class:!0});var A=h(f);v=O(A,"Todos"),A.forEach(u),w=_(x),C=i(x,"BUTTON",{class:!0});var y=h(C);E=O(y,"Errores"),y.forEach(u),x.forEach(u),B.forEach(u),V=_(P),D=i(P,"DIV",{class:!0});var j=h(D);for(let H=0;H<k.length;H+=1)k[H].l(j);S=_(j),g&&g.l(j),j.forEach(u),P.forEach(u),this.h()},h(){a(f,"class",p="px-3 py-1 bg-white/5 hover:bg-white/10 rounded-lg text-sm "+(r[0]==="all"?"text-white bg-white/10":"text-slate-400")),a(C,"class",L="px-3 py-1 bg-white/5 hover:bg-white/10 rounded-lg text-sm "+(r[0]==="error"?"text-red-400 bg-red-500/10":"text-slate-400")),a(o,"class","flex gap-2"),a(t,"class","flex items-center justify-between mb-6"),a(D,"class","bg-[#0F172A] border border-white/10 rounded-2xl p-4 font-mono text-sm h-[600px] overflow-y-auto custom-scrollbar svelte-bfe4de"),a(e,"class","animate-fade-in")},m(I,P){ee(I,e,P),s(e,t),s(t,l),s(t,d),s(t,o),s(o,f),s(f,v),s(o,w),s(o,C),s(C,E),s(e,V),s(e,D);for(let B=0;B<k.length;B+=1)k[B]&&k[B].m(D,null);s(D,S),g&&g.m(D,null),T||(b=[we(f,"click",r[3]),we(C,"click",r[4])],T=!0)},p(I,[P]){if(P&1&&p!==(p="px-3 py-1 bg-white/5 hover:bg-white/10 rounded-lg text-sm "+(I[0]==="all"?"text-white bg-white/10":"text-slate-400"))&&a(f,"class",p),P&1&&L!==(L="px-3 py-1 bg-white/5 hover:bg-white/10 rounded-lg text-sm "+(I[0]==="error"?"text-red-400 bg-red-500/10":"text-slate-400"))&&a(C,"class",L),P&2){N=qe(I[1]);let B;for(B=0;B<N.length;B+=1){const x=Cs(I,N,B);k[B]?k[B].p(x,P):(k[B]=ys(x),k[B].c(),k[B].m(D,S))}for(;B<k.length;B+=1)k[B].d(1);k.length=N.length}I[1].length===0?g||(g=Es(),g.c(),g.m(D,null)):g&&(g.d(1),g=null)},i:je,o:je,d(I){I&&u(e),xt(k,I),g&&g.d(),T=!1,$e(b)}}}function Ts(r){switch(r){case"success":return"text-green-400 border-green-500/50";case"error":return"text-red-400 border-red-500/50";case"warning":return"text-yellow-400 border-yellow-500/50";default:return"text-blue-400 border-blue-500/50"}}function ea(r,e,t){let l,n=[],d="all";yt(()=>{t(2,n=[{id:"1",type:"info",message:"Admin panel initialized",timestamp:Date.now(),module:"System"},{id:"2",type:"success",message:"User database connected",timestamp:Date.now()-1e3,module:"Database"},{id:"3",type:"info",message:"Checked 145 users status",timestamp:Date.now()-5e3,module:"Users"}])});const o=()=>t(0,d="all"),f=()=>t(0,d="error");return r.$$.update=()=>{r.$$.dirty&5&&t(1,l=d==="all"?n:n.filter(v=>v.type===d))},[d,l,n,o,f]}class ta extends wt{constructor(e){super(),kt(this,e,ea,$r,Ct,{})}}function Ds(r,e,t){const l=r.slice();return l[24]=e[t],l}function Is(r){let e,t,l=r[0].length===0?"No hay bugs reportados":"No hay bugs con los filtros seleccionados",n;return{c(){e=c("div"),t=c("p"),n=U(l),this.h()},l(d){e=i(d,"DIV",{class:!0});var o=h(e);t=i(o,"P",{class:!0});var f=h(t);n=O(f,l),f.forEach(u),o.forEach(u),this.h()},h(){a(t,"class","text-slate-400"),a(e,"class","text-center py-12 bg-white/5 rounded-2xl border border-white/10")},m(d,o){ee(d,e,o),s(e,t),s(t,n)},p(d,o){o&1&&l!==(l=d[0].length===0?"No hay bugs reportados":"No hay bugs con los filtros seleccionados")&&fe(n,l)},d(d){d&&u(e)}}}function Vs(r){let e,t,l,n="Descripci√≥n:",d,o,f=r[24].description+"",v,p,w,C,E,L="Estado:",V,D,S,T,b,N,k,g,I,P,B,x,A,y,j,H,M,z,q,te,se,G="Notas del Admin:",K,J,oe,ie,re=r[24].steps&&As(r);function X(){return r[15](r[24])}function W(){return r[16](r[24])}function de(){return r[17](r[24])}function pe(){return r[18](r[24])}let _e=r[4]!==r[24].id&&Ns(r);function ke(ve,Y){return ve[4]===ve[24].id?ra:ve[24].adminNotes?sa:la}let ae=ke(r),Q=ae(r);return{c(){e=c("div"),t=c("div"),l=c("p"),l.textContent=n,d=m(),o=c("p"),v=U(f),p=m(),re&&re.c(),w=m(),C=c("div"),E=c("p"),E.textContent=L,V=m(),D=c("div"),S=c("button"),T=U("üìù Reportado"),N=m(),k=c("button"),g=U("üîç En Revisi√≥n"),P=m(),B=c("button"),x=U("‚úÖ Solucionado"),y=m(),j=c("button"),H=U("‚ùå No es Bug"),z=m(),q=c("div"),te=c("div"),se=c("p"),se.textContent=G,K=m(),_e&&_e.c(),J=m(),Q.c(),this.h()},l(ve){e=i(ve,"DIV",{class:!0});var Y=h(e);t=i(Y,"DIV",{});var F=h(t);l=i(F,"P",{class:!0,"data-svelte-h":!0}),R(l)!=="svelte-fkgtkt"&&(l.textContent=n),d=_(F),o=i(F,"P",{class:!0});var le=h(o);v=O(le,f),le.forEach(u),F.forEach(u),p=_(Y),re&&re.l(Y),w=_(Y),C=i(Y,"DIV",{});var Z=h(C);E=i(Z,"P",{class:!0,"data-svelte-h":!0}),R(E)!=="svelte-fdqvni"&&(E.textContent=L),V=_(Z),D=i(Z,"DIV",{class:!0});var me=h(D);S=i(me,"BUTTON",{class:!0});var ce=h(S);T=O(ce,"üìù Reportado"),ce.forEach(u),N=_(me),k=i(me,"BUTTON",{class:!0});var be=h(k);g=O(be,"üîç En Revisi√≥n"),be.forEach(u),P=_(me),B=i(me,"BUTTON",{class:!0});var he=h(B);x=O(he,"‚úÖ Solucionado"),he.forEach(u),y=_(me),j=i(me,"BUTTON",{class:!0});var ue=h(j);H=O(ue,"‚ùå No es Bug"),ue.forEach(u),me.forEach(u),Z.forEach(u),z=_(Y),q=i(Y,"DIV",{});var $=h(q);te=i($,"DIV",{class:!0});var xe=h(te);se=i(xe,"P",{class:!0,"data-svelte-h":!0}),R(se)!=="svelte-1m4eb75"&&(se.textContent=G),K=_(xe),_e&&_e.l(xe),xe.forEach(u),J=_($),Q.l($),$.forEach(u),Y.forEach(u),this.h()},h(){a(l,"class","text-xs text-slate-500 uppercase font-bold mb-2"),a(o,"class","text-slate-300 leading-relaxed"),a(E,"class","text-xs text-slate-500 uppercase font-bold mb-2"),a(S,"class",b="px-4 py-2 rounded-xl transition-all "+(r[24].status==="reported"?It("reported"):"bg-white/5 text-slate-400 hover:bg-white/10")),a(k,"class",I="px-4 py-2 rounded-xl transition-all "+(r[24].status==="reviewing"?It("reviewing"):"bg-white/5 text-slate-400 hover:bg-white/10")),a(B,"class",A="px-4 py-2 rounded-xl transition-all "+(r[24].status==="fixed"?It("fixed"):"bg-white/5 text-slate-400 hover:bg-white/10")),a(j,"class",M="px-4 py-2 rounded-xl transition-all "+(r[24].status==="not-a-bug"?It("not-a-bug"):"bg-white/5 text-slate-400 hover:bg-white/10")),a(D,"class","flex flex-wrap gap-2"),a(se,"class","text-xs text-slate-500 uppercase font-bold"),a(te,"class","flex items-center justify-between mb-2"),a(e,"class","px-6 pb-6 space-y-4 border-t border-white/10 pt-4")},m(ve,Y){ee(ve,e,Y),s(e,t),s(t,l),s(t,d),s(t,o),s(o,v),s(e,p),re&&re.m(e,null),s(e,w),s(e,C),s(C,E),s(C,V),s(C,D),s(D,S),s(S,T),s(D,N),s(D,k),s(k,g),s(D,P),s(D,B),s(B,x),s(D,y),s(D,j),s(j,H),s(e,z),s(e,q),s(q,te),s(te,se),s(te,K),_e&&_e.m(te,null),s(q,J),Q.m(q,null),oe||(ie=[we(S,"click",X),we(k,"click",W),we(B,"click",de),we(j,"click",pe)],oe=!0)},p(ve,Y){r=ve,Y&128&&f!==(f=r[24].description+"")&&fe(v,f),r[24].steps?re?re.p(r,Y):(re=As(r),re.c(),re.m(e,w)):re&&(re.d(1),re=null),Y&128&&b!==(b="px-4 py-2 rounded-xl transition-all "+(r[24].status==="reported"?It("reported"):"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(S,"class",b),Y&128&&I!==(I="px-4 py-2 rounded-xl transition-all "+(r[24].status==="reviewing"?It("reviewing"):"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(k,"class",I),Y&128&&A!==(A="px-4 py-2 rounded-xl transition-all "+(r[24].status==="fixed"?It("fixed"):"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(B,"class",A),Y&128&&M!==(M="px-4 py-2 rounded-xl transition-all "+(r[24].status==="not-a-bug"?It("not-a-bug"):"bg-white/5 text-slate-400 hover:bg-white/10"))&&a(j,"class",M),r[4]!==r[24].id?_e?_e.p(r,Y):(_e=Ns(r),_e.c(),_e.m(te,null)):_e&&(_e.d(1),_e=null),ae===(ae=ke(r))&&Q?Q.p(r,Y):(Q.d(1),Q=ae(r),Q&&(Q.c(),Q.m(q,null)))},d(ve){ve&&u(e),re&&re.d(),_e&&_e.d(),Q.d(),oe=!1,$e(ie)}}}function As(r){let e,t,l="Pasos para Reproducir:",n,d,o=r[24].steps+"",f;return{c(){e=c("div"),t=c("p"),t.textContent=l,n=m(),d=c("pre"),f=U(o),this.h()},l(v){e=i(v,"DIV",{});var p=h(e);t=i(p,"P",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1agrlq3"&&(t.textContent=l),n=_(p),d=i(p,"PRE",{class:!0});var w=h(d);f=O(w,o),w.forEach(u),p.forEach(u),this.h()},h(){a(t,"class","text-xs text-slate-500 uppercase font-bold mb-2"),a(d,"class","bg-black/20 rounded-xl p-4 text-sm text-slate-300 whitespace-pre-wrap font-mono")},m(v,p){ee(v,e,p),s(e,t),s(e,n),s(e,d),s(d,f)},p(v,p){p&128&&o!==(o=v[24].steps+"")&&fe(f,o)},d(v){v&&u(e)}}}function Ns(r){let e,t=r[24].adminNotes?"Editar":"A√±adir",l,n,d;function o(){return r[19](r[24])}return{c(){e=c("button"),l=U(t),this.h()},l(f){e=i(f,"BUTTON",{class:!0});var v=h(e);l=O(v,t),v.forEach(u),this.h()},h(){a(e,"class","text-xs text-primary-400 hover:text-primary-300")},m(f,v){ee(f,e,v),s(e,l),n||(d=we(e,"click",o),n=!0)},p(f,v){r=f,v&128&&t!==(t=r[24].adminNotes?"Editar":"A√±adir")&&fe(l,t)},d(f){f&&u(e),n=!1,d()}}}function la(r){let e,t="Sin notas";return{c(){e=c("p"),e.textContent=t,this.h()},l(l){e=i(l,"P",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1fl5c8j"&&(e.textContent=t),this.h()},h(){a(e,"class","text-sm text-slate-500 italic")},m(l,n){ee(l,e,n)},p:je,d(l){l&&u(e)}}}function sa(r){let e,t,l=r[24].adminNotes+"",n;return{c(){e=c("div"),t=c("p"),n=U(l),this.h()},l(d){e=i(d,"DIV",{class:!0});var o=h(e);t=i(o,"P",{class:!0});var f=h(t);n=O(f,l),f.forEach(u),o.forEach(u),this.h()},h(){a(t,"class","text-sm text-primary-200"),a(e,"class","bg-primary-500/10 border border-primary-500/30 rounded-xl p-4")},m(d,o){ee(d,e,o),s(e,t),s(t,n)},p(d,o){o&128&&l!==(l=d[24].adminNotes+"")&&fe(n,l)},d(d){d&&u(e)}}}function ra(r){let e,t,l,n,d,o="Guardar",f,v,p="Cancelar",w,C;function E(){return r[21](r[24])}return{c(){e=c("div"),t=c("textarea"),l=m(),n=c("div"),d=c("button"),d.textContent=o,f=m(),v=c("button"),v.textContent=p,this.h()},l(L){e=i(L,"DIV",{class:!0});var V=h(e);t=i(V,"TEXTAREA",{placeholder:!0,class:!0,rows:!0}),h(t).forEach(u),l=_(V),n=i(V,"DIV",{class:!0});var D=h(n);d=i(D,"BUTTON",{class:!0,"data-svelte-h":!0}),R(d)!=="svelte-qijiw0"&&(d.textContent=o),f=_(D),v=i(D,"BUTTON",{class:!0,"data-svelte-h":!0}),R(v)!=="svelte-1otxule"&&(v.textContent=p),D.forEach(u),V.forEach(u),this.h()},h(){a(t,"placeholder","A√±ade notas visibles para los usuarios..."),a(t,"class","w-full px-4 py-3 bg-black/20 border border-white/10 rounded-xl text-white placeholder-slate-500 focus:border-primary-500 focus:outline-none resize-none"),a(t,"rows","3"),a(d,"class","px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-xl text-sm font-medium"),a(v,"class","px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-xl text-sm"),a(n,"class","flex gap-2"),a(e,"class","space-y-2")},m(L,V){ee(L,e,V),s(e,t),Me(t,r[5]),s(e,l),s(e,n),s(n,d),s(n,f),s(n,v),w||(C=[we(t,"input",r[20]),we(d,"click",E),we(v,"click",r[22])],w=!0)},p(L,V){r=L,V&32&&Me(t,r[5])},d(L){L&&u(e),w=!1,$e(C)}}}function Ps(r){let e,t,l,n,d,o,f,v,p=r[24].title+"",w,C,E,L,V=r[24].severity.toUpperCase()+"",D,S,T,b,N,k=r[24].author+"",g,I,P,B="‚Ä¢",x,A,y=r[24].browser+"",j,H,M=r[24].os+"",z,q,te,se="‚Ä¢",G,K,J=r[24].createdAt.toLocaleDateString("es-ES")+"",oe,ie,re,X,W,de,pe,_e,ke;function ae(){return r[14](r[24])}let Q=r[3]===r[24].id&&Vs(r);return{c(){e=c("div"),t=c("button"),l=c("div"),d=m(),o=c("div"),f=c("div"),v=c("h3"),w=U(p),C=m(),E=c("div"),L=c("span"),D=U(V),T=m(),b=c("div"),N=c("span"),g=U(k),I=m(),P=c("span"),P.textContent=B,x=m(),A=c("span"),j=U(y),H=U(" / "),z=U(M),q=m(),te=c("span"),te.textContent=se,G=m(),K=c("span"),oe=U(J),ie=m(),re=nl("svg"),X=nl("path"),de=m(),Q&&Q.c(),pe=m(),this.h()},l(ve){e=i(ve,"DIV",{class:!0});var Y=h(e);t=i(Y,"BUTTON",{class:!0});var F=h(t);l=i(F,"DIV",{class:!0}),h(l).forEach(u),d=_(F),o=i(F,"DIV",{class:!0});var le=h(o);f=i(le,"DIV",{class:!0});var Z=h(f);v=i(Z,"H3",{class:!0});var me=h(v);w=O(me,p),me.forEach(u),C=_(Z),E=i(Z,"DIV",{class:!0});var ce=h(E);L=i(ce,"SPAN",{class:!0});var be=h(L);D=O(be,V),be.forEach(u),ce.forEach(u),Z.forEach(u),T=_(le),b=i(le,"DIV",{class:!0});var he=h(b);N=i(he,"SPAN",{});var ue=h(N);g=O(ue,k),ue.forEach(u),I=_(he),P=i(he,"SPAN",{"data-svelte-h":!0}),R(P)!=="svelte-7hh8jk"&&(P.textContent=B),x=_(he),A=i(he,"SPAN",{});var $=h(A);j=O($,y),H=O($," / "),z=O($,M),$.forEach(u),q=_(he),te=i(he,"SPAN",{"data-svelte-h":!0}),R(te)!=="svelte-7hh8jk"&&(te.textContent=se),G=_(he),K=i(he,"SPAN",{});var xe=h(K);oe=O(xe,J),xe.forEach(u),he.forEach(u),le.forEach(u),ie=_(F),re=al(F,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Le=h(re);X=al(Le,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(X).forEach(u),Le.forEach(u),F.forEach(u),de=_(Y),Q&&Q.l(Y),pe=_(Y),Y.forEach(u),this.h()},h(){a(l,"class",n="w-1.5 h-12 rounded-full "+tl(r[24].severity)+" flex-shrink-0"),a(v,"class","text-lg font-bold text-white flex-1"),a(L,"class",S="px-2 py-1 rounded-lg text-xs font-bold "+tl(r[24].severity)+" text-white"),a(E,"class","flex gap-2 flex-shrink-0"),a(f,"class","flex items-start gap-3 mb-2"),a(b,"class","flex flex-wrap gap-3 text-xs text-slate-400"),a(o,"class","flex-1 min-w-0"),a(X,"stroke-linecap","round"),a(X,"stroke-linejoin","round"),a(X,"stroke-width","2"),a(X,"d","M19 9l-7 7-7-7"),a(re,"class",W="w-5 h-5 text-slate-400 transition-transform "+(r[3]===r[24].id?"rotate-180":"")),a(re,"fill","none"),a(re,"stroke","currentColor"),a(re,"viewBox","0 0 24 24"),a(t,"class","w-full px-6 py-4 flex items-start gap-4 text-left hover:bg-white/5 transition-colors"),a(e,"class","bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl overflow-hidden hover:border-white/20 transition-all")},m(ve,Y){ee(ve,e,Y),s(e,t),s(t,l),s(t,d),s(t,o),s(o,f),s(f,v),s(v,w),s(f,C),s(f,E),s(E,L),s(L,D),s(o,T),s(o,b),s(b,N),s(N,g),s(b,I),s(b,P),s(b,x),s(b,A),s(A,j),s(A,H),s(A,z),s(b,q),s(b,te),s(b,G),s(b,K),s(K,oe),s(t,ie),s(t,re),s(re,X),s(e,de),Q&&Q.m(e,null),s(e,pe),_e||(ke=we(t,"click",ae),_e=!0)},p(ve,Y){r=ve,Y&128&&n!==(n="w-1.5 h-12 rounded-full "+tl(r[24].severity)+" flex-shrink-0")&&a(l,"class",n),Y&128&&p!==(p=r[24].title+"")&&fe(w,p),Y&128&&V!==(V=r[24].severity.toUpperCase()+"")&&fe(D,V),Y&128&&S!==(S="px-2 py-1 rounded-lg text-xs font-bold "+tl(r[24].severity)+" text-white")&&a(L,"class",S),Y&128&&k!==(k=r[24].author+"")&&fe(g,k),Y&128&&y!==(y=r[24].browser+"")&&fe(j,y),Y&128&&M!==(M=r[24].os+"")&&fe(z,M),Y&128&&J!==(J=r[24].createdAt.toLocaleDateString("es-ES")+"")&&fe(oe,J),Y&136&&W!==(W="w-5 h-5 text-slate-400 transition-transform "+(r[3]===r[24].id?"rotate-180":""))&&a(re,"class",W),r[3]===r[24].id?Q?Q.p(r,Y):(Q=Vs(r),Q.c(),Q.m(e,pe)):Q&&(Q.d(1),Q=null)},d(ve){ve&&u(e),Q&&Q.d(),_e=!1,ke()}}}function aa(r){let e,t,l='<div><h2 class="text-2xl font-bold text-white mb-1">Gesti√≥n de Bugs</h2> <p class="text-slate-400">Revisa y gestiona reportes de problemas</p></div>',n,d,o,f,v=r[6].total+"",p,w,C,E="Total",L,V,D,S=r[6].reported+"",T,b,N,k="Reportados",g,I,P,B=r[6].reviewing+"",x,A,y,j="En Revisi√≥n",H,M,z,q=r[6].fixed+"",te,se,G,K="Solucionados",J,oe,ie,re=r[6].critical+"",X,W,de,pe="Cr√≠ticos",_e,ke,ae,Q,ve="Todos los Estados",Y,F="Reportados",le,Z="En Revisi√≥n",me,ce="Solucionados",be,he="No es Bug",ue,$,xe,Le="Todas las Severidades",Ee,De="Cr√≠tico",ne,Pe="Alto",Te,Ce="Medio",ye,Ie="Bajo",Ne,Re,He,Ae,rt,ze=r[7].length===0&&Is(r),Fe=qe(r[7]),Oe=[];for(let Se=0;Se<Fe.length;Se+=1)Oe[Se]=Ps(Ds(r,Fe,Se));return{c(){e=c("div"),t=c("div"),t.innerHTML=l,n=m(),d=c("div"),o=c("div"),f=c("div"),p=U(v),w=m(),C=c("div"),C.textContent=E,L=m(),V=c("div"),D=c("div"),T=U(S),b=m(),N=c("div"),N.textContent=k,g=m(),I=c("div"),P=c("div"),x=U(B),A=m(),y=c("div"),y.textContent=j,H=m(),M=c("div"),z=c("div"),te=U(q),se=m(),G=c("div"),G.textContent=K,J=m(),oe=c("div"),ie=c("div"),X=U(re),W=m(),de=c("div"),de.textContent=pe,_e=m(),ke=c("div"),ae=c("select"),Q=c("option"),Q.textContent=ve,Y=c("option"),Y.textContent=F,le=c("option"),le.textContent=Z,me=c("option"),me.textContent=ce,be=c("option"),be.textContent=he,ue=m(),$=c("select"),xe=c("option"),xe.textContent=Le,Ee=c("option"),Ee.textContent=De,ne=c("option"),ne.textContent=Pe,Te=c("option"),Te.textContent=Ce,ye=c("option"),ye.textContent=Ie,Ne=m(),Re=c("div"),ze&&ze.c(),He=m();for(let Se=0;Se<Oe.length;Se+=1)Oe[Se].c();this.h()},l(Se){e=i(Se,"DIV",{class:!0});var Ve=h(e);t=i(Ve,"DIV",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1rcr37h"&&(t.innerHTML=l),n=_(Ve),d=i(Ve,"DIV",{class:!0});var ge=h(d);o=i(ge,"DIV",{class:!0});var Ue=h(o);f=i(Ue,"DIV",{class:!0});var Be=h(f);p=O(Be,v),Be.forEach(u),w=_(Ue),C=i(Ue,"DIV",{class:!0,"data-svelte-h":!0}),R(C)!=="svelte-mgrfmg"&&(C.textContent=E),Ue.forEach(u),L=_(ge),V=i(ge,"DIV",{class:!0});var Qe=h(V);D=i(Qe,"DIV",{class:!0});var at=h(D);T=O(at,S),at.forEach(u),b=_(Qe),N=i(Qe,"DIV",{class:!0,"data-svelte-h":!0}),R(N)!=="svelte-1a6zh3z"&&(N.textContent=k),Qe.forEach(u),g=_(ge),I=i(ge,"DIV",{class:!0});var Xe=h(I);P=i(Xe,"DIV",{class:!0});var et=h(P);x=O(et,B),et.forEach(u),A=_(Xe),y=i(Xe,"DIV",{class:!0,"data-svelte-h":!0}),R(y)!=="svelte-6tkozl"&&(y.textContent=j),Xe.forEach(u),H=_(ge),M=i(ge,"DIV",{class:!0});var Ye=h(M);z=i(Ye,"DIV",{class:!0});var ft=h(z);te=O(ft,q),ft.forEach(u),se=_(Ye),G=i(Ye,"DIV",{class:!0,"data-svelte-h":!0}),R(G)!=="svelte-1a81m9"&&(G.textContent=K),Ye.forEach(u),J=_(ge),oe=i(ge,"DIV",{class:!0});var Je=h(oe);ie=i(Je,"DIV",{class:!0});var tt=h(ie);X=O(tt,re),tt.forEach(u),W=_(Je),de=i(Je,"DIV",{class:!0,"data-svelte-h":!0}),R(de)!=="svelte-80ccto"&&(de.textContent=pe),Je.forEach(u),ge.forEach(u),_e=_(Ve),ke=i(Ve,"DIV",{class:!0});var mt=h(ke);ae=i(mt,"SELECT",{class:!0});var ot=h(ae);Q=i(ot,"OPTION",{"data-svelte-h":!0}),R(Q)!=="svelte-1ksydmx"&&(Q.textContent=ve),Y=i(ot,"OPTION",{"data-svelte-h":!0}),R(Y)!=="svelte-rr9ijo"&&(Y.textContent=F),le=i(ot,"OPTION",{"data-svelte-h":!0}),R(le)!=="svelte-1pd0gee"&&(le.textContent=Z),me=i(ot,"OPTION",{"data-svelte-h":!0}),R(me)!=="svelte-15ourz1"&&(me.textContent=ce),be=i(ot,"OPTION",{"data-svelte-h":!0}),R(be)!=="svelte-xis8on"&&(be.textContent=he),ot.forEach(u),ue=_(mt),$=i(mt,"SELECT",{class:!0});var lt=h($);xe=i(lt,"OPTION",{"data-svelte-h":!0}),R(xe)!=="svelte-63r4kn"&&(xe.textContent=Le),Ee=i(lt,"OPTION",{"data-svelte-h":!0}),R(Ee)!=="svelte-19rneye"&&(Ee.textContent=De),ne=i(lt,"OPTION",{"data-svelte-h":!0}),R(ne)!=="svelte-yfzmju"&&(ne.textContent=Pe),Te=i(lt,"OPTION",{"data-svelte-h":!0}),R(Te)!=="svelte-1bqg4eb"&&(Te.textContent=Ce),ye=i(lt,"OPTION",{"data-svelte-h":!0}),R(ye)!=="svelte-192hgyo"&&(ye.textContent=Ie),lt.forEach(u),mt.forEach(u),Ne=_(Ve),Re=i(Ve,"DIV",{class:!0});var it=h(Re);ze&&ze.l(it),He=_(it);for(let ht=0;ht<Oe.length;ht+=1)Oe[ht].l(it);it.forEach(u),Ve.forEach(u),this.h()},h(){a(t,"class","flex items-center justify-between"),a(f,"class","text-2xl font-bold text-white"),a(C,"class","text-xs text-slate-400"),a(o,"class","bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4"),a(D,"class","text-2xl font-bold text-amber-300"),a(N,"class","text-xs text-amber-400"),a(V,"class","bg-amber-500/10 border border-amber-500/30 rounded-2xl p-4"),a(P,"class","text-2xl font-bold text-primary-300"),a(y,"class","text-xs text-primary-400"),a(I,"class","bg-primary-500/10 border border-primary-500/30 rounded-2xl p-4"),a(z,"class","text-2xl font-bold text-green-300"),a(G,"class","text-xs text-green-400"),a(M,"class","bg-green-500/10 border border-green-500/30 rounded-2xl p-4"),a(ie,"class","text-2xl font-bold text-red-300"),a(de,"class","text-xs text-red-400"),a(oe,"class","bg-red-500/10 border border-red-500/30 rounded-2xl p-4"),a(d,"class","grid grid-cols-2 md:grid-cols-5 gap-3"),Q.__value="all",Me(Q,Q.__value),Y.__value="reported",Me(Y,Y.__value),le.__value="reviewing",Me(le,le.__value),me.__value="fixed",Me(me,me.__value),be.__value="not-a-bug",Me(be,be.__value),a(ae,"class","px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white focus:border-primary-500 focus:outline-none appearance-none cursor-pointer"),r[1]===void 0&&At(()=>r[12].call(ae)),xe.__value="all",Me(xe,xe.__value),Ee.__value="critical",Me(Ee,Ee.__value),ne.__value="high",Me(ne,ne.__value),Te.__value="medium",Me(Te,Te.__value),ye.__value="low",Me(ye,ye.__value),a($,"class","px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white focus:border-primary-500 focus:outline-none appearance-none cursor-pointer"),r[2]===void 0&&At(()=>r[13].call($)),a(ke,"class","flex flex-wrap gap-3"),a(Re,"class","space-y-3"),a(e,"class","p-6 space-y-6")},m(Se,Ve){ee(Se,e,Ve),s(e,t),s(e,n),s(e,d),s(d,o),s(o,f),s(f,p),s(o,w),s(o,C),s(d,L),s(d,V),s(V,D),s(D,T),s(V,b),s(V,N),s(d,g),s(d,I),s(I,P),s(P,x),s(I,A),s(I,y),s(d,H),s(d,M),s(M,z),s(z,te),s(M,se),s(M,G),s(d,J),s(d,oe),s(oe,ie),s(ie,X),s(oe,W),s(oe,de),s(e,_e),s(e,ke),s(ke,ae),s(ae,Q),s(ae,Y),s(ae,le),s(ae,me),s(ae,be),dt(ae,r[1],!0),s(ke,ue),s(ke,$),s($,xe),s($,Ee),s($,ne),s($,Te),s($,ye),dt($,r[2],!0),s(e,Ne),s(e,Re),ze&&ze.m(Re,null),s(Re,He);for(let ge=0;ge<Oe.length;ge+=1)Oe[ge]&&Oe[ge].m(Re,null);Ae||(rt=[we(ae,"change",r[12]),we($,"change",r[13])],Ae=!0)},p(Se,[Ve]){if(Ve&64&&v!==(v=Se[6].total+"")&&fe(p,v),Ve&64&&S!==(S=Se[6].reported+"")&&fe(T,S),Ve&64&&B!==(B=Se[6].reviewing+"")&&fe(x,B),Ve&64&&q!==(q=Se[6].fixed+"")&&fe(te,q),Ve&64&&re!==(re=Se[6].critical+"")&&fe(X,re),Ve&2&&dt(ae,Se[1]),Ve&4&&dt($,Se[2]),Se[7].length===0?ze?ze.p(Se,Ve):(ze=Is(Se),ze.c(),ze.m(Re,He)):ze&&(ze.d(1),ze=null),Ve&4024){Fe=qe(Se[7]);let ge;for(ge=0;ge<Fe.length;ge+=1){const Ue=Ds(Se,Fe,ge);Oe[ge]?Oe[ge].p(Ue,Ve):(Oe[ge]=Ps(Ue),Oe[ge].c(),Oe[ge].m(Re,null))}for(;ge<Oe.length;ge+=1)Oe[ge].d(1);Oe.length=Fe.length}},i:je,o:je,d(Se){Se&&u(e),ze&&ze.d(),xt(Oe,Se),Ae=!1,$e(rt)}}}function tl(r){switch(r){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-blue-500"}}function It(r){switch(r){case"fixed":return"bg-green-500 text-white";case"reviewing":return"bg-primary-500 text-white";case"not-a-bug":return"bg-slate-500 text-white";default:return"bg-amber-500 text-white"}}function na(r,e,t){let l,n,d=[],o=null,f="all",v="all",p=null,w=null,C="";yt(()=>{const y=Vt(Ke,"bug_reports"),j=Mt(y,Rt("createdAt","desc"));o=Hs(j,H=>{t(0,d=H.docs.map(M=>{const z=M.data();return{id:M.id,title:z.title,description:z.description,steps:z.steps,severity:z.severity,browser:z.browser,os:z.os,author:z.author,authorUid:z.authorUid,status:z.status,createdAt:z.createdAt?.toDate()||new Date,resolvedAt:z.resolvedAt?.toDate(),adminNotes:z.adminNotes}}))})}),_l(()=>{o&&o()});async function E(y,j){try{const H={status:j};(j==="fixed"||j==="not-a-bug")&&(H.resolvedAt=Ws.now()),await gt(nt(Ke,"bug_reports",y),H)}catch(H){console.error("Error updating bug status:",H),alert("Error al actualizar estado")}}async function L(y){try{await gt(nt(Ke,"bug_reports",y),{adminNotes:C.trim()}),t(4,w=null),t(5,C="")}catch(j){console.error("Error saving notes:",j),alert("Error al guardar notas")}}function V(y){t(3,p=p===y?null:y)}function D(y){t(4,w=y.id),t(5,C=y.adminNotes||"")}function S(){f=jt(this),t(1,f)}function T(){v=jt(this),t(2,v)}const b=y=>V(y.id),N=y=>E(y.id,"reported"),k=y=>E(y.id,"reviewing"),g=y=>E(y.id,"fixed"),I=y=>E(y.id,"not-a-bug"),P=y=>D(y);function B(){C=this.value,t(5,C)}const x=y=>L(y.id),A=()=>t(4,w=null);return r.$$.update=()=>{r.$$.dirty&7&&t(7,l=d.filter(y=>!(f!=="all"&&y.status!==f||v!=="all"&&y.severity!==v))),r.$$.dirty&1&&t(6,n={total:d.length,reported:d.filter(y=>y.status==="reported").length,reviewing:d.filter(y=>y.status==="reviewing").length,fixed:d.filter(y=>y.status==="fixed").length,critical:d.filter(y=>y.severity==="critical").length})},[d,f,v,p,w,C,n,l,E,L,V,D,S,T,b,N,k,g,I,P,B,x,A]}class oa extends wt{constructor(e){super(),kt(this,e,na,aa,Ct,{})}}function Ss(r){let e,t=`<div class="flex items-start gap-4"><div class="text-3xl">‚ö†Ô∏è</div> <div class="flex-1"><h3 class="text-lg font-bold text-red-300 mb-2">Backups No Configurados</h3> <p class="text-red-200 mb-4">Los backups autom√°ticos de Firestore no est√°n activos. Esto pone en riesgo
                        los datos del proyecto.</p> <a href="https://console.cloud.google.com/firestore" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-xl transition-all">Configurar en Google Cloud
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a></div></div>`;return{c(){e=c("div"),e.innerHTML=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-k8gox8"&&(e.innerHTML=t),this.h()},h(){a(e,"class","bg-red-500/10 border border-red-500/30 rounded-2xl p-6")},m(l,n){ee(l,e,n)},d(l){l&&u(e)}}}function ia(r){let e,t,l='<div><h2 class="text-2xl font-bold text-white mb-1">Sistema de Backups</h2> <p class="text-slate-400">Monitoreo y gesti√≥n de respaldos autom√°ticos</p></div>',n,d,o,f,v,p,w='<div class="text-3xl mb-2">üî•</div> <h3 class="text-lg font-bold text-white">Firestore</h3>',C,E,L=sl(r[0].firestore.status)+"",V,D,S=r[0].firestore.status.toUpperCase()+"",T,b,N,k,g,I,P="√öltimo Backup:",B,x,A=(r[0].firestore.lastBackup||"N/A")+"",y,j,H,M,z="Pr√≥ximo:",q,te,se=(r[0].firestore.nextBackup||"N/A")+"",G,K,J,oe,ie="Backups Totales:",re,X,W=r[0].firestore.backupCount+"",de,pe,_e,ke="Backup Manual",ae,Q,ve,Y,F='<div class="text-3xl mb-2">‚òÅÔ∏è</div> <h3 class="text-lg font-bold text-white">R2 Versioning</h3>',le,Z,me=sl(r[0].r2.status)+"",ce,be,he=r[0].r2.status.toUpperCase()+"",ue,$,xe,Le,Ee,De,ne="Versionado:",Pe,Te,Ce=r[0].r2.versioningEnabled?"Habilitado ‚úì":"Deshabilitado",ye,Ie,Ne,Re='<span class="text-slate-400">Retenci√≥n:</span> <span class="text-white font-medium">5 versiones</span>',He,Ae,rt=`Configurar R2
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>`,ze,Fe,Oe,Se='<div><div class="text-3xl mb-2">üóëÔ∏è</div> <h3 class="text-lg font-bold text-white">Archivos Rechazados</h3></div>',Ve,ge,Ue,Be,Qe="Pendientes:",at,Xe,et=r[0].rejectedFiles.count+"",Ye,ft,Je,tt,mt="M√°s Antiguo:",ot,lt,it=(r[0].rejectedFiles.oldestDate||"N/A")+"",ht,Et,ut,Tt=r[1]?"Limpiando...":"Limpiar > 30 d√≠as",Dt,Ht,cl,Nt,gl='<div class="flex items-start gap-4"><div class="text-3xl">üìò</div> <div class="flex-1"><h3 class="text-lg font-bold text-blue-300 mb-2">Configuraci√≥n de Backups</h3> <p class="text-blue-200 mb-4 text-sm">Para configurar backups autom√°ticos de Firestore, sigue la documentaci√≥n en <code class="px-2 py-1 bg-black/20 rounded">.agent/PENDING_FIXES.md</code> secci√≥n 5.</p> <p class="text-blue-200 text-sm">Requiere acceso a Google Cloud Platform y configuraci√≥n de Cloud Scheduler.</p></div></div>',ul,xl,ct=r[0].firestore.status==="inactive"&&Ss();return{c(){e=c("div"),t=c("div"),t.innerHTML=l,n=m(),ct&&ct.c(),d=m(),o=c("div"),f=c("div"),v=c("div"),p=c("div"),p.innerHTML=w,C=m(),E=c("span"),V=U(L),D=m(),T=U(S),N=m(),k=c("div"),g=c("div"),I=c("span"),I.textContent=P,B=m(),x=c("span"),y=U(A),j=m(),H=c("div"),M=c("span"),M.textContent=z,q=m(),te=c("span"),G=U(se),K=m(),J=c("div"),oe=c("span"),oe.textContent=ie,re=m(),X=c("span"),de=U(W),pe=m(),_e=c("button"),_e.textContent=ke,ae=m(),Q=c("div"),ve=c("div"),Y=c("div"),Y.innerHTML=F,le=m(),Z=c("span"),ce=U(me),be=m(),ue=U(he),xe=m(),Le=c("div"),Ee=c("div"),De=c("span"),De.textContent=ne,Pe=m(),Te=c("span"),ye=U(Ce),Ie=m(),Ne=c("div"),Ne.innerHTML=Re,He=m(),Ae=c("a"),Ae.innerHTML=rt,ze=m(),Fe=c("div"),Oe=c("div"),Oe.innerHTML=Se,Ve=m(),ge=c("div"),Ue=c("div"),Be=c("span"),Be.textContent=Qe,at=m(),Xe=c("span"),Ye=U(et),ft=m(),Je=c("div"),tt=c("span"),tt.textContent=mt,ot=m(),lt=c("span"),ht=U(it),Et=m(),ut=c("button"),Dt=U(Tt),cl=m(),Nt=c("div"),Nt.innerHTML=gl,this.h()},l(Ze){e=i(Ze,"DIV",{class:!0});var Ge=h(e);t=i(Ge,"DIV",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-14girl4"&&(t.innerHTML=l),n=_(Ge),ct&&ct.l(Ge),d=_(Ge),o=i(Ge,"DIV",{class:!0});var Pt=h(o);f=i(Pt,"DIV",{class:!0});var St=h(f);v=i(St,"DIV",{class:!0});var zt=h(v);p=i(zt,"DIV",{"data-svelte-h":!0}),R(p)!=="svelte-o4sv6r"&&(p.innerHTML=w),C=_(zt),E=i(zt,"SPAN",{class:!0});var qt=h(E);V=O(qt,L),D=_(qt),T=O(qt,S),qt.forEach(u),zt.forEach(u),N=_(St),k=i(St,"DIV",{class:!0});var Bt=h(k);g=i(Bt,"DIV",{class:!0});var Gt=h(g);I=i(Gt,"SPAN",{class:!0,"data-svelte-h":!0}),R(I)!=="svelte-zgreec"&&(I.textContent=P),B=_(Gt),x=i(Gt,"SPAN",{class:!0});var wl=h(x);y=O(wl,A),wl.forEach(u),Gt.forEach(u),j=_(Bt),H=i(Bt,"DIV",{class:!0});var Kt=h(H);M=i(Kt,"SPAN",{class:!0,"data-svelte-h":!0}),R(M)!=="svelte-zmn7x1"&&(M.textContent=z),q=_(Kt),te=i(Kt,"SPAN",{class:!0});var kl=h(te);G=O(kl,se),kl.forEach(u),Kt.forEach(u),K=_(Bt),J=i(Bt,"DIV",{class:!0});var Qt=h(J);oe=i(Qt,"SPAN",{class:!0,"data-svelte-h":!0}),R(oe)!=="svelte-5tbqrg"&&(oe.textContent=ie),re=_(Qt),X=i(Qt,"SPAN",{class:!0});var Cl=h(X);de=O(Cl,W),Cl.forEach(u),Qt.forEach(u),Bt.forEach(u),pe=_(St),_e=i(St,"BUTTON",{class:!0,"data-svelte-h":!0}),R(_e)!=="svelte-14pkf3r"&&(_e.textContent=ke),St.forEach(u),ae=_(Pt),Q=i(Pt,"DIV",{class:!0});var Lt=h(Q);ve=i(Lt,"DIV",{class:!0});var Jt=h(ve);Y=i(Jt,"DIV",{"data-svelte-h":!0}),R(Y)!=="svelte-18qu7uo"&&(Y.innerHTML=F),le=_(Jt),Z=i(Jt,"SPAN",{class:!0});var Xt=h(Z);ce=O(Xt,me),be=_(Xt),ue=O(Xt,he),Xt.forEach(u),Jt.forEach(u),xe=_(Lt),Le=i(Lt,"DIV",{class:!0});var Zt=h(Le);Ee=i(Zt,"DIV",{class:!0});var Wt=h(Ee);De=i(Wt,"SPAN",{class:!0,"data-svelte-h":!0}),R(De)!=="svelte-1ji8z7j"&&(De.textContent=ne),Pe=_(Wt),Te=i(Wt,"SPAN",{class:!0});var yl=h(Te);ye=O(yl,Ce),yl.forEach(u),Wt.forEach(u),Ie=_(Zt),Ne=i(Zt,"DIV",{class:!0,"data-svelte-h":!0}),R(Ne)!=="svelte-pry99p"&&(Ne.innerHTML=Re),Zt.forEach(u),He=_(Lt),Ae=i(Lt,"A",{href:!0,target:!0,rel:!0,class:!0,"data-svelte-h":!0}),R(Ae)!=="svelte-pa70x0"&&(Ae.innerHTML=rt),Lt.forEach(u),ze=_(Pt),Fe=i(Pt,"DIV",{class:!0});var Ot=h(Fe);Oe=i(Ot,"DIV",{class:!0,"data-svelte-h":!0}),R(Oe)!=="svelte-r4b409"&&(Oe.innerHTML=Se),Ve=_(Ot),ge=i(Ot,"DIV",{class:!0});var Yt=h(ge);Ue=i(Yt,"DIV",{class:!0});var $t=h(Ue);Be=i($t,"SPAN",{class:!0,"data-svelte-h":!0}),R(Be)!=="svelte-f1gby6"&&(Be.textContent=Qe),at=_($t),Xe=i($t,"SPAN",{class:!0});var El=h(Xe);Ye=O(El,et),El.forEach(u),$t.forEach(u),ft=_(Yt),Je=i(Yt,"DIV",{class:!0});var el=h(Je);tt=i(el,"SPAN",{class:!0,"data-svelte-h":!0}),R(tt)!=="svelte-1q88os3"&&(tt.textContent=mt),ot=_(el),lt=i(el,"SPAN",{class:!0});var Tl=h(lt);ht=O(Tl,it),Tl.forEach(u),el.forEach(u),Yt.forEach(u),Et=_(Ot),ut=i(Ot,"BUTTON",{class:!0});var Dl=h(ut);Dt=O(Dl,Tt),Dl.forEach(u),Ot.forEach(u),Pt.forEach(u),cl=_(Ge),Nt=i(Ge,"DIV",{class:!0,"data-svelte-h":!0}),R(Nt)!=="svelte-89j44b"&&(Nt.innerHTML=gl),Ge.forEach(u),this.h()},h(){a(t,"class","flex items-center justify-between"),a(E,"class",b="px-3 py-1 rounded-full text-xs font-bold "+ll(r[0].firestore.status)+" bg-current/10"),a(v,"class","flex items-start justify-between mb-4"),a(I,"class","text-slate-400"),a(x,"class","text-white font-medium"),a(g,"class","flex justify-between"),a(M,"class","text-slate-400"),a(te,"class","text-white font-medium"),a(H,"class","flex justify-between"),a(oe,"class","text-slate-400"),a(X,"class","text-white font-medium"),a(J,"class","flex justify-between"),a(k,"class","space-y-2 text-sm"),a(_e,"class","w-full mt-4 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white font-medium rounded-xl transition-all"),a(f,"class","bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6"),a(Z,"class",$="px-3 py-1 rounded-full text-xs font-bold "+ll(r[0].r2.status)+" bg-current/10"),a(ve,"class","flex items-start justify-between mb-4"),a(De,"class","text-slate-400"),a(Te,"class","text-white font-medium"),a(Ee,"class","flex justify-between"),a(Ne,"class","flex justify-between"),a(Le,"class","space-y-2 text-sm"),a(Ae,"href","https://dash.cloudflare.com/r2"),a(Ae,"target","_blank"),a(Ae,"rel","noopener noreferrer"),a(Ae,"class","w-full mt-4 px-4 py-2 bg-white/5 hover:bg-white/10 text-white font-medium rounded-xl transition-all inline-flex items-center justify-center gap-2"),a(Q,"class","bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6"),a(Oe,"class","flex items-start justify-between mb-4"),a(Be,"class","text-slate-400"),a(Xe,"class","text-white font-medium"),a(Ue,"class","flex justify-between"),a(tt,"class","text-slate-400"),a(lt,"class","text-white font-medium"),a(Je,"class","flex justify-between"),a(ge,"class","space-y-2 text-sm"),ut.disabled=Ht=r[1]||r[0].rejectedFiles.count===0,a(ut,"class","w-full mt-4 px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed"),a(Fe,"class","bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6"),a(o,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),a(Nt,"class","bg-blue-500/10 border border-blue-500/30 rounded-2xl p-6"),a(e,"class","p-6 space-y-6")},m(Ze,Ge){ee(Ze,e,Ge),s(e,t),s(e,n),ct&&ct.m(e,null),s(e,d),s(e,o),s(o,f),s(f,v),s(v,p),s(v,C),s(v,E),s(E,V),s(E,D),s(E,T),s(f,N),s(f,k),s(k,g),s(g,I),s(g,B),s(g,x),s(x,y),s(k,j),s(k,H),s(H,M),s(H,q),s(H,te),s(te,G),s(k,K),s(k,J),s(J,oe),s(J,re),s(J,X),s(X,de),s(f,pe),s(f,_e),s(o,ae),s(o,Q),s(Q,ve),s(ve,Y),s(ve,le),s(ve,Z),s(Z,ce),s(Z,be),s(Z,ue),s(Q,xe),s(Q,Le),s(Le,Ee),s(Ee,De),s(Ee,Pe),s(Ee,Te),s(Te,ye),s(Le,Ie),s(Le,Ne),s(Q,He),s(Q,Ae),s(o,ze),s(o,Fe),s(Fe,Oe),s(Fe,Ve),s(Fe,ge),s(ge,Ue),s(Ue,Be),s(Ue,at),s(Ue,Xe),s(Xe,Ye),s(ge,ft),s(ge,Je),s(Je,tt),s(Je,ot),s(Je,lt),s(lt,ht),s(Fe,Et),s(Fe,ut),s(ut,Dt),s(e,cl),s(e,Nt),ul||(xl=[we(_e,"click",r[3]),we(ut,"click",r[2])],ul=!0)},p(Ze,[Ge]){Ze[0].firestore.status==="inactive"?ct||(ct=Ss(),ct.c(),ct.m(e,d)):ct&&(ct.d(1),ct=null),Ge&1&&L!==(L=sl(Ze[0].firestore.status)+"")&&fe(V,L),Ge&1&&S!==(S=Ze[0].firestore.status.toUpperCase()+"")&&fe(T,S),Ge&1&&b!==(b="px-3 py-1 rounded-full text-xs font-bold "+ll(Ze[0].firestore.status)+" bg-current/10")&&a(E,"class",b),Ge&1&&A!==(A=(Ze[0].firestore.lastBackup||"N/A")+"")&&fe(y,A),Ge&1&&se!==(se=(Ze[0].firestore.nextBackup||"N/A")+"")&&fe(G,se),Ge&1&&W!==(W=Ze[0].firestore.backupCount+"")&&fe(de,W),Ge&1&&me!==(me=sl(Ze[0].r2.status)+"")&&fe(ce,me),Ge&1&&he!==(he=Ze[0].r2.status.toUpperCase()+"")&&fe(ue,he),Ge&1&&$!==($="px-3 py-1 rounded-full text-xs font-bold "+ll(Ze[0].r2.status)+" bg-current/10")&&a(Z,"class",$),Ge&1&&Ce!==(Ce=Ze[0].r2.versioningEnabled?"Habilitado ‚úì":"Deshabilitado")&&fe(ye,Ce),Ge&1&&et!==(et=Ze[0].rejectedFiles.count+"")&&fe(Ye,et),Ge&1&&it!==(it=(Ze[0].rejectedFiles.oldestDate||"N/A")+"")&&fe(ht,it),Ge&2&&Tt!==(Tt=Ze[1]?"Limpiando...":"Limpiar > 30 d√≠as")&&fe(Dt,Tt),Ge&3&&Ht!==(Ht=Ze[1]||Ze[0].rejectedFiles.count===0)&&(ut.disabled=Ht)},i:je,o:je,d(Ze){Ze&&u(e),ct&&ct.d(),ul=!1,$e(xl)}}}function ll(r){switch(r){case"active":return"text-green-400";case"inactive":return"text-slate-500";case"error":return"text-red-400"}}function sl(r){switch(r){case"active":return"‚úÖ";case"inactive":return"‚è∏Ô∏è";case"error":return"‚ùå"}}function ca(r,e,t){let l;ml(r,Ys,p=>t(5,l=p));let n={firestore:{lastBackup:null,nextBackup:null,status:"inactive",backupCount:0},r2:{versioningEnabled:!1,status:"inactive"},rejectedFiles:{count:0,oldestDate:null}},d=!1;yt(async()=>{await o()});async function o(){try{t(0,n={firestore:{lastBackup:"2025-12-30 23:00:00",nextBackup:"2025-12-31 23:00:00",status:"active",backupCount:7},r2:{versioningEnabled:!0,status:"active"},rejectedFiles:{count:0,oldestDate:null}})}catch(p){console.error("Error loading backup status:",p)}finally{}}async function f(){if(confirm("¬øEliminar archivos rechazados > 30 d√≠as?")){t(1,d=!0);try{const p=await fetch("/api/admin/cleanup-rejected",{method:"POST"});if(p.ok){const w=await p.json();alert(`‚úÖ ${w.deletedCount||0} archivos eliminados`),await o()}else throw new Error("Failed to cleanup")}catch(p){console.error("Error cleaning up:",p),alert("Error al limpiar archivos rechazados")}finally{t(1,d=!1)}}}async function v(){if(confirm("¬øIniciar backup manual de Firestore? Esto puede tardar varios minutos.")){if(!l.user){alert("Debes iniciar sesi√≥n para realizar esta acci√≥n.");return}try{const p=await l.user.getIdToken();if((await fetch("/api/admin/trigger-backup",{method:"POST",headers:{Authorization:`Bearer ${p}`}})).ok)alert("‚úÖ Backup iniciado. Revisa Google Cloud Console para el progreso.");else throw new Error("Failed to trigger backup")}catch(p){console.error("Error triggering backup:",p),alert("Error al iniciar backup manual")}}}return[n,d,f,v]}class ua extends wt{constructor(e){super(),kt(this,e,ca,ia,Ct,{})}}function da(r){let e,t,l,n,d,o,f="FIREBASE",v,p,w="FB",C,E,L,V,D,S,T,b,N="CLOUDFLARE R2",k,g,I="R2",P,B,x,A,y,j="üßπ",H,M,z="Limpiar Temp",q,te;return{c(){e=c("div"),t=c("div"),l=c("div"),d=m(),o=c("span"),o.textContent=f,v=m(),p=c("span"),p.textContent=w,C=m(),E=c("div"),L=m(),V=c("div"),D=c("div"),T=m(),b=c("span"),b.textContent=N,k=m(),g=c("span"),g.textContent=I,P=m(),B=c("div"),x=m(),A=c("button"),y=c("span"),y.textContent=j,H=m(),M=c("span"),M.textContent=z,this.h()},l(se){e=i(se,"DIV",{class:!0});var G=h(e);t=i(G,"DIV",{class:!0,title:!0});var K=h(t);l=i(K,"DIV",{class:!0}),h(l).forEach(u),d=_(K),o=i(K,"SPAN",{class:!0,"data-svelte-h":!0}),R(o)!=="svelte-13k9kls"&&(o.textContent=f),v=_(K),p=i(K,"SPAN",{class:!0,"data-svelte-h":!0}),R(p)!=="svelte-d6vr7t"&&(p.textContent=w),K.forEach(u),C=_(G),E=i(G,"DIV",{class:!0}),h(E).forEach(u),L=_(G),V=i(G,"DIV",{class:!0,title:!0});var J=h(V);D=i(J,"DIV",{class:!0}),h(D).forEach(u),T=_(J),b=i(J,"SPAN",{class:!0,"data-svelte-h":!0}),R(b)!=="svelte-1sda4ve"&&(b.textContent=N),k=_(J),g=i(J,"SPAN",{class:!0,"data-svelte-h":!0}),R(g)!=="svelte-1xfzhp1"&&(g.textContent=I),J.forEach(u),P=_(G),B=i(G,"DIV",{class:!0}),h(B).forEach(u),x=_(G),A=i(G,"BUTTON",{class:!0,title:!0});var oe=h(A);y=i(oe,"SPAN",{"data-svelte-h":!0}),R(y)!=="svelte-1plovej"&&(y.textContent=j),H=_(oe),M=i(oe,"SPAN",{class:!0,"data-svelte-h":!0}),R(M)!=="svelte-132z2ik"&&(M.textContent=z),oe.forEach(u),G.forEach(u),this.h()},h(){a(l,"class",n="w-2 h-2 rounded-full "+(r[0].firebase==="connected"?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)] animate-pulse":r[0].firebase==="checking"?"bg-yellow-500":"bg-red-500")),a(o,"class","hidden md:block text-xs font-mono text-slate-400 font-bold tracking-wide"),a(p,"class","md:hidden text-xs font-mono text-slate-400 font-bold"),a(t,"class","flex items-center gap-2"),a(t,"title","Firebase Status"),a(E,"class","w-px h-4 bg-white/10"),a(D,"class",S="w-2 h-2 rounded-full "+(r[0].r2==="connected"?"bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.6)] animate-pulse":r[0].r2==="checking"?"bg-yellow-500":"bg-red-500")),a(b,"class","hidden md:block text-xs font-mono text-slate-400 font-bold tracking-wide"),a(g,"class","md:hidden text-xs font-mono text-slate-400 font-bold"),a(V,"class","flex items-center gap-2"),a(V,"title","R2 Status"),a(B,"class","w-px h-4 bg-white/10"),a(M,"class","hidden sm:inline"),A.disabled=r[1],a(A,"class","text-xs text-slate-400 hover:text-white transition-colors disabled:opacity-50 flex items-center gap-1"),a(A,"title","Eliminar archivos temporales > 3 d√≠as"),a(e,"class","flex items-center gap-2 md:gap-4 px-3 py-2 bg-white/5 rounded-full border border-white/10 backdrop-blur-md")},m(se,G){ee(se,e,G),s(e,t),s(t,l),s(t,d),s(t,o),s(t,v),s(t,p),s(e,C),s(e,E),s(e,L),s(e,V),s(V,D),s(V,T),s(V,b),s(V,k),s(V,g),s(e,P),s(e,B),s(e,x),s(e,A),s(A,y),s(A,H),s(A,M),q||(te=we(A,"click",r[2]),q=!0)},p(se,[G]){G&1&&n!==(n="w-2 h-2 rounded-full "+(se[0].firebase==="connected"?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)] animate-pulse":se[0].firebase==="checking"?"bg-yellow-500":"bg-red-500"))&&a(l,"class",n),G&1&&S!==(S="w-2 h-2 rounded-full "+(se[0].r2==="connected"?"bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.6)] animate-pulse":se[0].r2==="checking"?"bg-yellow-500":"bg-red-500"))&&a(D,"class",S),G&2&&(A.disabled=se[1])},i:je,o:je,d(se){se&&u(e),q=!1,te()}}}function fa(r,e,t){let l={firebase:"checking",r2:"checking"},n;async function d(){try{const v=await fetch("/api/health");if(v.ok){const p=await v.json();t(0,l=p)}else t(0,l={firebase:"error",r2:"error"})}catch{t(0,l={firebase:"error",r2:"error"})}finally{}}let o=!1;async function f(){if(confirm("¬øLimpiar archivos temporales de R2 (m√°s de 3 d√≠as)?")){t(1,o=!0);try{const p=await(await fetch("/api/admin/cleanup-r2",{method:"POST"})).json();alert(p.message||"Limpieza completada")}catch{alert("Error en limpieza")}finally{t(1,o=!1)}}}return yt(()=>{d(),n=setInterval(d,3e4)}),_l(()=>{n&&clearInterval(n)}),[l,o,f]}class ha extends wt{constructor(e){super(),kt(this,e,fa,da,Ct,{})}}function Bs(r,e,t){const l=r.slice();return l[18]=e[t],l}function Ls(r){let e,t,l,n,d;return{c(){e=c("div"),this.h()},l(o){e=i(o,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0}),h(e).forEach(u),this.h()},h(){a(e,"class","fixed inset-0 bg-black/50 z-40 md:hidden backdrop-blur-sm"),a(e,"role","button"),a(e,"tabindex","0"),a(e,"aria-label","Cerrar men√∫")},m(o,f){ee(o,e,f),l=!0,n||(d=[we(e,"click",r[5]),we(e,"keydown",r[6])],n=!0)},p:je,i(o){l||(o&&At(()=>{l&&(t||(t=ol(e,vl,{},!0)),t.run(1))}),l=!0)},o(o){o&&(t||(t=ol(e,vl,{},!1)),t.run(0)),l=!1},d(o){o&&u(e),o&&t&&t.end(),n=!1,$e(d)}}}function Os(r){let e,t,l;return{c(){e=c("div"),this.h()},l(n){e=i(n,"DIV",{class:!0}),h(e).forEach(u),this.h()},h(){a(e,"class","absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-primary-500 rounded-r-full shadow-[0_0_10px_rgba(255,123,61,0.5)]")},m(n,d){ee(n,e,d),l=!0},i(n){l||(n&&At(()=>{l&&(t||(t=ol(e,Al,{},!0)),t.run(1))}),l=!0)},o(n){n&&(t||(t=ol(e,Al,{},!1)),t.run(0)),l=!1},d(n){n&&u(e),n&&t&&t.end()}}}function Us(r){let e,t=r[18].badge+"",l;return{c(){e=c("span"),l=U(t),this.h()},l(n){e=i(n,"SPAN",{class:!0});var d=h(e);l=O(d,t),d.forEach(u),this.h()},h(){a(e,"class","bg-red-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow-lg shadow-red-500/20 animate-pulse")},m(n,d){ee(n,e,d),s(e,l)},p(n,d){d&16&&t!==(t=n[18].badge+"")&&fe(l,t)},d(n){n&&u(e)}}}function Ms(r){let e,t,l,n,d=r[18].icon+"",o,f,v,p=r[18].label+"",w,C,E,L,V,D,S=r[1]===r[18].id&&Os(),T=r[18].badge&&r[18].badge>0&&Us(r);function b(){return r[8](r[18])}return{c(){e=c("button"),S&&S.c(),t=m(),l=c("div"),n=c("span"),o=U(d),f=m(),v=c("span"),w=U(p),C=m(),T&&T.c(),E=m(),this.h()},l(N){e=i(N,"BUTTON",{class:!0});var k=h(e);S&&S.l(k),t=_(k),l=i(k,"DIV",{class:!0});var g=h(l);n=i(g,"SPAN",{class:!0});var I=h(n);o=O(I,d),I.forEach(u),f=_(g),v=i(g,"SPAN",{class:!0});var P=h(v);w=O(P,p),P.forEach(u),g.forEach(u),C=_(k),T&&T.l(k),E=_(k),k.forEach(u),this.h()},h(){a(n,"class","text-xl opacity-80 group-hover:scale-110 transition-transform"),a(v,"class","font-medium text-sm tracking-wide"),a(l,"class","flex items-center gap-3 relative z-10"),a(e,"class",L="w-full flex items-center justify-between px-4 py-3.5 rounded-xl transition-all duration-200 group relative overflow-hidden "+(r[1]===r[18].id?"bg-primary-500/10 text-white shadow-lg shadow-primary-500/5 ring-1 ring-primary-500/50":"text-slate-400 hover:text-white hover:bg-white/5"))},m(N,k){ee(N,e,k),S&&S.m(e,null),s(e,t),s(e,l),s(l,n),s(n,o),s(l,f),s(l,v),s(v,w),s(e,C),T&&T.m(e,null),s(e,E),V||(D=we(e,"click",b),V=!0)},p(N,k){r=N,r[1]===r[18].id?S?k&18&&We(S,1):(S=Os(),S.c(),We(S,1),S.m(e,t)):S&&(pl(),st(S,1,1,()=>{S=null}),hl()),k&16&&d!==(d=r[18].icon+"")&&fe(o,d),k&16&&p!==(p=r[18].label+"")&&fe(w,p),r[18].badge&&r[18].badge>0?T?T.p(r,k):(T=Us(r),T.c(),T.m(e,E)):T&&(T.d(1),T=null),k&18&&L!==(L="w-full flex items-center justify-between px-4 py-3.5 rounded-xl transition-all duration-200 group relative overflow-hidden "+(r[1]===r[18].id?"bg-primary-500/10 text-white shadow-lg shadow-primary-500/5 ring-1 ring-primary-500/50":"text-slate-400 hover:text-white hover:bg-white/5"))&&a(e,"class",L)},d(N){N&&u(e),S&&S.d(),T&&T.d(),V=!1,D()}}}function pa(r){let e;return{c(){e=U("Sistema operativo y funcionando")},l(t){e=O(t,"Sistema operativo y funcionando")},m(t,l){ee(t,e,l)},d(t){t&&u(e)}}}function va(r){let e;return{c(){e=U("Actualizando m√©tricas...")},l(t){e=O(t,"Actualizando m√©tricas...")},m(t,l){ee(t,e,l)},d(t){t&&u(e)}}}function ba(r){let e,t;return e=new ta({}),{c(){_t(e.$$.fragment)},l(l){bt(e.$$.fragment,l)},m(l,n){vt(e,l,n),t=!0},p:je,i(l){t||(We(e.$$.fragment,l),t=!0)},o(l){st(e.$$.fragment,l),t=!1},d(l){pt(e,l)}}}function _a(r){let e,t;return e=new ua({}),{c(){_t(e.$$.fragment)},l(l){bt(e.$$.fragment,l)},m(l,n){vt(e,l,n),t=!0},p:je,i(l){t||(We(e.$$.fragment,l),t=!0)},o(l){st(e.$$.fragment,l),t=!1},d(l){pt(e,l)}}}function ma(r){let e,t;return e=new oa({}),{c(){_t(e.$$.fragment)},l(l){bt(e.$$.fragment,l)},m(l,n){vt(e,l,n),t=!0},p:je,i(l){t||(We(e.$$.fragment,l),t=!0)},o(l){st(e.$$.fragment,l),t=!1},d(l){pt(e,l)}}}function ga(r){let e,t;return e=new Yr({}),{c(){_t(e.$$.fragment)},l(l){bt(e.$$.fragment,l)},m(l,n){vt(e,l,n),t=!0},p:je,i(l){t||(We(e.$$.fragment,l),t=!0)},o(l){st(e.$$.fragment,l),t=!1},d(l){pt(e,l)}}}function xa(r){let e,t;return e=new Ar({}),{c(){_t(e.$$.fragment)},l(l){bt(e.$$.fragment,l)},m(l,n){vt(e,l,n),t=!0},p:je,i(l){t||(We(e.$$.fragment,l),t=!0)},o(l){st(e.$$.fragment,l),t=!1},d(l){pt(e,l)}}}function wa(r){let e,t;return e=new pr({}),{c(){_t(e.$$.fragment)},l(l){bt(e.$$.fragment,l)},m(l,n){vt(e,l,n),t=!0},p:je,i(l){t||(We(e.$$.fragment,l),t=!0)},o(l){st(e.$$.fragment,l),t=!1},d(l){pt(e,l)}}}function ka(r){let e,t;return e=new ir({}),{c(){_t(e.$$.fragment)},l(l){bt(e.$$.fragment,l)},m(l,n){vt(e,l,n),t=!0},p:je,i(l){t||(We(e.$$.fragment,l),t=!0)},o(l){st(e.$$.fragment,l),t=!1},d(l){pt(e,l)}}}function Ca(r){let e,t,l,n,d,o,f,v="Usuarios Totales",p,w,C=r[0].totalUsers+"",E,L,V,D,S=r[0].proUsers+"",T,b,N,k,g,I,P,B,x,A="√Ålbumes Activos",y,j,H=r[0].totalAlbums+"",M,z,q,te,se=r[0].verifiedArtists+"",G,K,J,oe,ie,re,X,W,de,pe="Propuestas Pendientes",_e,ke,ae=r[0].pendingProposals+"",Q,ve,Y,F,le,Z,me,ce,be,he="Bugs Reportados",ue,$,xe=r[0].pendingBugs+"",Le,Ee,De,ne,Pe,Te;n=new er({props:{size:"lg"}}),I=new lr({props:{size:"lg"}}),re=new tr({props:{size:"lg",gradient:!1}});let Ce=r[0].pendingProposals>0&&js();Z=new sr({props:{size:"lg"}});let ye=r[0].pendingBugs>0&&Fs();return{c(){e=c("div"),t=c("div"),l=c("div"),_t(n.$$.fragment),d=m(),o=c("div"),f=c("h3"),f.textContent=v,p=m(),w=c("p"),E=U(C),L=m(),V=c("div"),D=c("span"),T=U(S),b=U(" PRO"),N=m(),k=c("div"),g=c("div"),_t(I.$$.fragment),P=m(),B=c("div"),x=c("h3"),x.textContent=A,y=m(),j=c("p"),M=U(H),z=m(),q=c("div"),te=c("span"),G=U(se),K=U(" Artistas"),J=m(),oe=c("div"),ie=c("div"),_t(re.$$.fragment),X=m(),W=c("div"),de=c("h3"),de.textContent=pe,_e=m(),ke=c("p"),Q=U(ae),ve=m(),Ce&&Ce.c(),Y=m(),F=c("div"),le=c("div"),_t(Z.$$.fragment),me=m(),ce=c("div"),be=c("h3"),be.textContent=he,ue=m(),$=c("p"),Le=U(xe),Ee=m(),ye&&ye.c(),this.h()},l(Ie){e=i(Ie,"DIV",{class:!0});var Ne=h(e);t=i(Ne,"DIV",{class:!0});var Re=h(t);l=i(Re,"DIV",{class:!0});var He=h(l);bt(n.$$.fragment,He),He.forEach(u),d=_(Re),o=i(Re,"DIV",{class:!0});var Ae=h(o);f=i(Ae,"H3",{class:!0,"data-svelte-h":!0}),R(f)!=="svelte-ezkmk5"&&(f.textContent=v),p=_(Ae),w=i(Ae,"P",{class:!0});var rt=h(w);E=O(rt,C),rt.forEach(u),L=_(Ae),V=i(Ae,"DIV",{class:!0});var ze=h(V);D=i(ze,"SPAN",{class:!0});var Fe=h(D);T=O(Fe,S),b=O(Fe," PRO"),Fe.forEach(u),ze.forEach(u),Ae.forEach(u),Re.forEach(u),N=_(Ne),k=i(Ne,"DIV",{class:!0});var Oe=h(k);g=i(Oe,"DIV",{class:!0});var Se=h(g);bt(I.$$.fragment,Se),Se.forEach(u),P=_(Oe),B=i(Oe,"DIV",{class:!0});var Ve=h(B);x=i(Ve,"H3",{class:!0,"data-svelte-h":!0}),R(x)!=="svelte-1b3afv4"&&(x.textContent=A),y=_(Ve),j=i(Ve,"P",{class:!0});var ge=h(j);M=O(ge,H),ge.forEach(u),z=_(Ve),q=i(Ve,"DIV",{class:!0});var Ue=h(q);te=i(Ue,"SPAN",{class:!0});var Be=h(te);G=O(Be,se),K=O(Be," Artistas"),Be.forEach(u),Ue.forEach(u),Ve.forEach(u),Oe.forEach(u),J=_(Ne),oe=i(Ne,"DIV",{class:!0,role:!0,tabindex:!0});var Qe=h(oe);ie=i(Qe,"DIV",{class:!0});var at=h(ie);bt(re.$$.fragment,at),at.forEach(u),X=_(Qe),W=i(Qe,"DIV",{class:!0});var Xe=h(W);de=i(Xe,"H3",{class:!0,"data-svelte-h":!0}),R(de)!=="svelte-upv69h"&&(de.textContent=pe),_e=_(Xe),ke=i(Xe,"P",{class:!0});var et=h(ke);Q=O(et,ae),et.forEach(u),ve=_(Xe),Ce&&Ce.l(Xe),Xe.forEach(u),Qe.forEach(u),Y=_(Ne),F=i(Ne,"DIV",{class:!0,role:!0,tabindex:!0});var Ye=h(F);le=i(Ye,"DIV",{class:!0});var ft=h(le);bt(Z.$$.fragment,ft),ft.forEach(u),me=_(Ye),ce=i(Ye,"DIV",{class:!0});var Je=h(ce);be=i(Je,"H3",{class:!0,"data-svelte-h":!0}),R(be)!=="svelte-93hew6"&&(be.textContent=he),ue=_(Je),$=i(Je,"P",{class:!0});var tt=h($);Le=O(tt,xe),tt.forEach(u),Ee=_(Je),ye&&ye.l(Je),Je.forEach(u),Ye.forEach(u),Ne.forEach(u),this.h()},h(){a(l,"class","absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity"),a(f,"class","text-slate-400 text-sm font-medium"),a(w,"class","text-3xl font-bold text-white mt-1"),a(D,"class","text-blue-400 bg-blue-400/10 px-1.5 py-0.5 rounded font-bold"),a(V,"class","mt-2 text-xs flex items-center gap-2"),a(o,"class","relative z-10"),a(t,"class","bg-[#131b2e]/60 backdrop-blur-xl p-6 rounded-2xl border border-white/5 relative overflow-hidden group hover:border-blue-500/30 transition-colors"),a(g,"class","absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity"),a(x,"class","text-slate-400 text-sm font-medium"),a(j,"class","text-3xl font-bold text-white mt-1"),a(te,"class","text-orange-400 bg-orange-400/10 px-1.5 py-0.5 rounded font-bold"),a(q,"class","mt-2 text-xs flex items-center gap-2"),a(B,"class","relative z-10"),a(k,"class","bg-[#131b2e]/60 backdrop-blur-xl p-6 rounded-2xl border border-white/5 relative overflow-hidden group hover:border-orange-500/30 transition-colors"),a(ie,"class","absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity"),a(de,"class","text-slate-400 text-sm font-medium"),a(ke,"class","text-3xl font-bold text-white mt-1"),a(W,"class","relative z-10"),a(oe,"class","bg-[#131b2e]/60 backdrop-blur-xl p-6 rounded-2xl border border-white/5 relative overflow-hidden group hover:border-purple-500/30 transition-colors cursor-pointer outline-none focus:ring-2 focus:ring-purple-500/50"),a(oe,"role","button"),a(oe,"tabindex","0"),a(le,"class","absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity"),a(be,"class","text-slate-400 text-sm font-medium"),a($,"class","text-3xl font-bold text-white mt-1"),a(ce,"class","relative z-10"),a(F,"class","bg-[#131b2e]/60 backdrop-blur-xl p-6 rounded-2xl border border-white/5 relative overflow-hidden group hover:border-red-500/30 transition-colors cursor-pointer outline-none focus:ring-2 focus:ring-red-500/50"),a(F,"role","button"),a(F,"tabindex","0"),a(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6")},m(Ie,Ne){ee(Ie,e,Ne),s(e,t),s(t,l),vt(n,l,null),s(t,d),s(t,o),s(o,f),s(o,p),s(o,w),s(w,E),s(o,L),s(o,V),s(V,D),s(D,T),s(D,b),s(e,N),s(e,k),s(k,g),vt(I,g,null),s(k,P),s(k,B),s(B,x),s(B,y),s(B,j),s(j,M),s(B,z),s(B,q),s(q,te),s(te,G),s(te,K),s(e,J),s(e,oe),s(oe,ie),vt(re,ie,null),s(oe,X),s(oe,W),s(W,de),s(W,_e),s(W,ke),s(ke,Q),s(W,ve),Ce&&Ce.m(W,null),s(e,Y),s(e,F),s(F,le),vt(Z,le,null),s(F,me),s(F,ce),s(ce,be),s(ce,ue),s(ce,$),s($,Le),s(ce,Ee),ye&&ye.m(ce,null),ne=!0,Pe||(Te=[we(oe,"click",r[12]),we(oe,"keydown",r[13]),we(F,"click",r[14]),we(F,"keydown",r[15])],Pe=!0)},p(Ie,Ne){(!ne||Ne&1)&&C!==(C=Ie[0].totalUsers+"")&&fe(E,C),(!ne||Ne&1)&&S!==(S=Ie[0].proUsers+"")&&fe(T,S),(!ne||Ne&1)&&H!==(H=Ie[0].totalAlbums+"")&&fe(M,H),(!ne||Ne&1)&&se!==(se=Ie[0].verifiedArtists+"")&&fe(G,se),(!ne||Ne&1)&&ae!==(ae=Ie[0].pendingProposals+"")&&fe(Q,ae),Ie[0].pendingProposals>0?Ce||(Ce=js(),Ce.c(),Ce.m(W,null)):Ce&&(Ce.d(1),Ce=null),(!ne||Ne&1)&&xe!==(xe=Ie[0].pendingBugs+"")&&fe(Le,xe),Ie[0].pendingBugs>0?ye||(ye=Fs(),ye.c(),ye.m(ce,null)):ye&&(ye.d(1),ye=null)},i(Ie){ne||(We(n.$$.fragment,Ie),We(I.$$.fragment,Ie),We(re.$$.fragment,Ie),We(Z.$$.fragment,Ie),Ie&&(De||At(()=>{De=Ks(e,vl,{}),De.start()})),ne=!0)},o(Ie){st(n.$$.fragment,Ie),st(I.$$.fragment,Ie),st(re.$$.fragment,Ie),st(Z.$$.fragment,Ie),ne=!1},d(Ie){Ie&&u(e),pt(n),pt(I),pt(re),Ce&&Ce.d(),pt(Z),ye&&ye.d(),Pe=!1,$e(Te)}}}function js(r){let e,t="Requiere Revisi√≥n";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-y88sjr"&&(e.textContent=t),this.h()},h(){a(e,"class","mt-2 text-xs text-purple-400 font-bold")},m(l,n){ee(l,e,n)},d(l){l&&u(e)}}}function Fs(r){let e,t="Acci√≥n Requerida";return{c(){e=c("div"),e.textContent=t,this.h()},l(l){e=i(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1ikjmx9"&&(e.textContent=t),this.h()},h(){a(e,"class","mt-2 text-xs text-red-400 font-bold animate-pulse")},m(l,n){ee(l,e,n)},d(l){l&&u(e)}}}function ya(r){let e,t,l,n,d,o,f,v,p,w,C,E,L='<div class="w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-orange-500 flex items-center justify-center shadow-lg shadow-primary-500/20"><span class="text-xl">‚ôõ</span></div> <div><h1 class="text-xl font-bold text-white tracking-tight leading-none">AdminOS</h1> <span class="text-[10px] uppercase text-slate-500 font-bold tracking-widest">ChillChess</span></div>',V,D,S='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',T,b,N,k,g,I,P,B,x,A='<span class="text-xs font-bold">Volver a la App</span> <span class="text-[10px]">Salir del panel</span>',y,j,H,M,z,q,te,se='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>',G,K,J,oe=r[4].find(r[10])?.icon+"",ie,re,X=r[4].find(r[11])?.label+"",W,de,pe,_e,ke,ae,Q,ve,Y,F,le,Z,me,ce=r[3]&&Ls(r),be=qe(r[4]),he=[];for(let ne=0;ne<be.length;ne+=1)he[ne]=Ms(Bs(r,be,ne));P=new $s({props:{size:"sm"}});function ue(ne,Pe){return ne[2]?va:pa}let $=ue(r),xe=$(r);ae=new ha({});const Le=[Ca,ka,wa,xa,ga,ma,_a,ba],Ee=[];function De(ne,Pe){return ne[1]==="dashboard"?0:ne[1]==="users"?1:ne[1]==="proposals"?2:ne[1]==="submissions"?3:ne[1]==="music"?4:ne[1]==="bugs"?5:ne[1]==="backups"?6:ne[1]==="logs"?7:-1}return~(Y=De(r))&&(F=Ee[Y]=Le[Y](r)),{c(){e=c("meta"),t=m(),l=c("div"),n=c("div"),d=m(),o=c("div"),f=m(),v=c("div"),ce&&ce.c(),p=m(),w=c("aside"),C=c("div"),E=c("div"),E.innerHTML=L,V=m(),D=c("button"),D.innerHTML=S,T=m(),b=c("nav");for(let ne=0;ne<he.length;ne+=1)he[ne].c();N=m(),k=c("div"),g=c("a"),I=c("div"),_t(P.$$.fragment),B=m(),x=c("div"),x.innerHTML=A,j=m(),H=c("main"),M=c("header"),z=c("div"),q=c("div"),te=c("button"),te.innerHTML=se,G=m(),K=c("div"),J=c("h2"),ie=U(oe),re=m(),W=U(X),de=m(),pe=c("p"),xe.c(),_e=m(),ke=c("div"),_t(ae.$$.fragment),Q=m(),ve=c("div"),F&&F.c(),this.h()},l(ne){const Pe=Gs("svelte-1ou0zwi",document.head);e=i(Pe,"META",{name:!0,content:!0}),Pe.forEach(u),t=_(ne),l=i(ne,"DIV",{class:!0});var Te=h(l);n=i(Te,"DIV",{class:!0}),h(n).forEach(u),d=_(Te),o=i(Te,"DIV",{class:!0}),h(o).forEach(u),f=_(Te),v=i(Te,"DIV",{class:!0});var Ce=h(v);ce&&ce.l(Ce),p=_(Ce),w=i(Ce,"ASIDE",{class:!0});var ye=h(w);C=i(ye,"DIV",{class:!0});var Ie=h(C);E=i(Ie,"DIV",{class:!0,"data-svelte-h":!0}),R(E)!=="svelte-1fm2nll"&&(E.innerHTML=L),V=_(Ie),D=i(Ie,"BUTTON",{class:!0,"data-svelte-h":!0}),R(D)!=="svelte-1xbf64f"&&(D.innerHTML=S),Ie.forEach(u),T=_(ye),b=i(ye,"NAV",{class:!0});var Ne=h(b);for(let Qe=0;Qe<he.length;Qe+=1)he[Qe].l(Ne);Ne.forEach(u),N=_(ye),k=i(ye,"DIV",{class:!0});var Re=h(k);g=i(Re,"A",{href:!0,class:!0});var He=h(g);I=i(He,"DIV",{class:!0});var Ae=h(I);bt(P.$$.fragment,Ae),Ae.forEach(u),B=_(He),x=i(He,"DIV",{class:!0,"data-svelte-h":!0}),R(x)!=="svelte-199ac0x"&&(x.innerHTML=A),He.forEach(u),Re.forEach(u),ye.forEach(u),j=_(Ce),H=i(Ce,"MAIN",{class:!0});var rt=h(H);M=i(rt,"HEADER",{class:!0});var ze=h(M);z=i(ze,"DIV",{class:!0});var Fe=h(z);q=i(Fe,"DIV",{class:!0});var Oe=h(q);te=i(Oe,"BUTTON",{class:!0,"data-svelte-h":!0}),R(te)!=="svelte-tp26qi"&&(te.innerHTML=se),G=_(Oe),K=i(Oe,"DIV",{});var Se=h(K);J=i(Se,"H2",{class:!0});var Ve=h(J);ie=O(Ve,oe),re=_(Ve),W=O(Ve,X),Ve.forEach(u),de=_(Se),pe=i(Se,"P",{class:!0});var ge=h(pe);xe.l(ge),ge.forEach(u),Se.forEach(u),_e=_(Oe),ke=i(Oe,"DIV",{class:!0});var Ue=h(ke);bt(ae.$$.fragment,Ue),Ue.forEach(u),Oe.forEach(u),Fe.forEach(u),ze.forEach(u),Q=_(rt),ve=i(rt,"DIV",{class:!0});var Be=h(ve);F&&F.l(Be),Be.forEach(u),rt.forEach(u),Ce.forEach(u),Te.forEach(u),this.h()},h(){document.title="AdminOS | ChillChess",a(e,"name","theme-color"),a(e,"content","#0B1120"),a(n,"class","absolute top-0 left-0 w-[500px] h-[500px] bg-primary-600/10 rounded-full blur-[120px] pointer-events-none"),a(o,"class","absolute bottom-0 right-0 w-[600px] h-[600px] bg-purple-600/10 rounded-full blur-[150px] pointer-events-none"),a(E,"class","flex items-center gap-3"),a(D,"class","md:hidden text-slate-400 hover:text-white"),a(C,"class","p-8 border-b border-white/5 flex justify-between items-center"),a(b,"class","flex-1 overflow-y-auto py-6 px-4 space-y-1 custom-scrollbar svelte-1356xjh"),a(I,"class","bg-white/5 p-2 rounded-lg group-hover:bg-white/10 transition-colors"),a(x,"class","flex flex-col text-left"),a(g,"href","/"),a(g,"class","flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 transition-colors group text-slate-400 hover:text-white w-full"),a(k,"class","p-4 border-t border-white/5 bg-[#0f1524]/50"),a(w,"class",y="fixed md:relative z-50 h-full w-72 bg-[#131b2e]/90 md:bg-[#131b2e]/60 backdrop-blur-2xl border-r border-white/5 flex flex-col shadow-2xl transition-transform duration-300 ease-in-out "+(r[3]?"translate-x-0":"-translate-x-full md:translate-x-0")),a(te,"class","md:hidden p-2 rounded-lg bg-white/5 text-slate-300 hover:text-white"),a(J,"class","text-lg md:text-2xl font-bold text-white flex items-center gap-2"),a(pe,"class","text-xs text-slate-400 mt-1"),a(ke,"class","flex items-center gap-4"),a(q,"class","flex items-center gap-4"),a(z,"class","flex items-center justify-between h-20"),a(M,"class","sticky top-0 z-30 bg-[#0B1120]/80 backdrop-blur-xl border-b border-white/5 px-4 md:px-8 flex-shrink-0"),a(ve,"class","p-8 max-w-7xl mx-auto w-full space-y-8 pb-32 flex-1"),a(H,"class","flex-1 overflow-y-auto bg-[#0B1120] relative custom-scrollbar flex flex-col w-full svelte-1356xjh"),a(v,"class","flex h-screen overflow-hidden relative z-10"),a(l,"class","min-h-screen bg-[#0B1120] text-slate-200 font-poppins relative overflow-hidden")},m(ne,Pe){s(document.head,e),ee(ne,t,Pe),ee(ne,l,Pe),s(l,n),s(l,d),s(l,o),s(l,f),s(l,v),ce&&ce.m(v,null),s(v,p),s(v,w),s(w,C),s(C,E),s(C,V),s(C,D),s(w,T),s(w,b);for(let Te=0;Te<he.length;Te+=1)he[Te]&&he[Te].m(b,null);s(w,N),s(w,k),s(k,g),s(g,I),vt(P,I,null),s(g,B),s(g,x),s(v,j),s(v,H),s(H,M),s(M,z),s(z,q),s(q,te),s(q,G),s(q,K),s(K,J),s(J,ie),s(J,re),s(J,W),s(K,de),s(K,pe),xe.m(pe,null),s(q,_e),s(q,ke),vt(ae,ke,null),s(H,Q),s(H,ve),~Y&&Ee[Y].m(ve,null),le=!0,Z||(me=[we(D,"click",r[7]),we(te,"click",r[9])],Z=!0)},p(ne,[Pe]){if(ne[3]?ce?(ce.p(ne,Pe),Pe&8&&We(ce,1)):(ce=Ls(ne),ce.c(),We(ce,1),ce.m(v,p)):ce&&(pl(),st(ce,1,1,()=>{ce=null}),hl()),Pe&26){be=qe(ne[4]);let Ce;for(Ce=0;Ce<be.length;Ce+=1){const ye=Bs(ne,be,Ce);he[Ce]?he[Ce].p(ye,Pe):(he[Ce]=Ms(ye),he[Ce].c(),he[Ce].m(b,null))}for(;Ce<he.length;Ce+=1)he[Ce].d(1);he.length=be.length}(!le||Pe&8&&y!==(y="fixed md:relative z-50 h-full w-72 bg-[#131b2e]/90 md:bg-[#131b2e]/60 backdrop-blur-2xl border-r border-white/5 flex flex-col shadow-2xl transition-transform duration-300 ease-in-out "+(ne[3]?"translate-x-0":"-translate-x-full md:translate-x-0")))&&a(w,"class",y),(!le||Pe&18)&&oe!==(oe=ne[4].find(ne[10])?.icon+"")&&fe(ie,oe),(!le||Pe&18)&&X!==(X=ne[4].find(ne[11])?.label+"")&&fe(W,X),$!==($=ue(ne))&&(xe.d(1),xe=$(ne),xe&&(xe.c(),xe.m(pe,null)));let Te=Y;Y=De(ne),Y===Te?~Y&&Ee[Y].p(ne,Pe):(F&&(pl(),st(Ee[Te],1,1,()=>{Ee[Te]=null}),hl()),~Y?(F=Ee[Y],F?F.p(ne,Pe):(F=Ee[Y]=Le[Y](ne),F.c()),We(F,1),F.m(ve,null)):F=null)},i(ne){le||(We(ce),We(P.$$.fragment,ne),We(ae.$$.fragment,ne),We(F),le=!0)},o(ne){st(ce),st(P.$$.fragment,ne),st(ae.$$.fragment,ne),st(F),le=!1},d(ne){ne&&(u(t),u(l)),u(e),ce&&ce.d(),xt(he,ne),pt(P),xe.d(),pt(ae),~Y&&Ee[Y].d(),Z=!1,$e(me)}}}function Ea(r,e,t){let l,n;ml(r,bl,g=>t(16,n=g));let d="dashboard",o={totalUsers:0,proUsers:0,totalAlbums:0,verifiedArtists:0,pendingSubmissions:0,pendingProposals:0,pendingBugs:0},f=!0;yt(async()=>{await v()});async function v(){t(2,f=!0);try{const{collection:g,query:I,where:P,getCountFromServer:B}=await rl(async()=>{const{collection:se,query:G,where:K,getCountFromServer:J}=await import("../chunks/C9UhFrXA.js").then(oe=>oe.i);return{collection:se,query:G,where:K,getCountFromServer:J}},__vite__mapDeps([0,1,2,3]),import.meta.url),{db:x}=await rl(async()=>{const{db:se}=await import("../chunks/CSpmTaba.js").then(G=>G.ah);return{db:se}},[],import.meta.url),A=async(se,G=[])=>{const K=g(x,se),J=I(K,...G);return(await B(J)).data().count},[y,j,H,M,z,q,te]=await Promise.all([A("users"),A("users",[P("subscriptionTier","==","pro")]),A("users",[P("subscriptionTier","==","premium")]),A("artists",[P("isVerified","==",!0)]),A("musicSubmissions",[P("status","==","pending")]),A("proposals",[P("status","==","pending")]),A("bug_reports",[P("status","==","reported")])]);t(0,o={totalUsers:y,proUsers:j+H,totalAlbums:n.availableAlbums.length,verifiedArtists:M,pendingSubmissions:z,pendingProposals:q,pendingBugs:te})}catch(g){console.error("Error loading stats:",g)}finally{t(2,f=!1)}}let p=!1;const w=()=>t(3,p=!1),C=g=>{(g.key==="Escape"||g.key==="Enter")&&t(3,p=!1)},E=()=>t(3,p=!1),L=g=>{t(1,d=g.id),t(3,p=!1)},V=()=>t(3,p=!0),D=g=>g.id===d,S=g=>g.id===d,T=()=>t(1,d="proposals"),b=g=>{(g.key==="Enter"||g.key===" ")&&(t(1,d="proposals"),g.preventDefault())},N=()=>t(1,d="bugs"),k=g=>{(g.key==="Enter"||g.key===" ")&&(t(1,d="bugs"),g.preventDefault())};return r.$$.update=()=>{r.$$.dirty&1&&t(4,l=[{id:"dashboard",label:"Dashboard",icon:"üìä"},{id:"users",label:"Usuarios",icon:"üë•"},{id:"proposals",label:"Propuestas",icon:"üí°",badge:o.pendingProposals},{id:"submissions",label:"Env√≠os",icon:"üéµ",badge:o.pendingSubmissions},{id:"music",label:"M√∫sica",icon:"üéº"},{id:"bugs",label:"Bugs",icon:"üêõ",badge:o.pendingBugs},{id:"backups",label:"Backups",icon:"üíæ"},{id:"logs",label:"Logs",icon:"üìù"}])},[o,d,f,p,l,w,C,E,L,V,D,S,T,b,N,k]}class ja extends wt{constructor(e){super(),kt(this,e,Ea,ya,Ct,{})}}export{ja as component};
