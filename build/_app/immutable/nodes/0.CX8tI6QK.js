import{a4 as ei,s as Kt,n as Ot,d as g,i as D,e as Ct,b as Yt,o as qe,H as K,p as m,g as f,j as x,t as w,c as O,l as y,a as R,x as ni,r as zn,q as $,P as gn,E as ii,z as Xe,B as vn,m as At,u as pt,v as gt,k as kt,C as H,D as W,a5 as oi,a6 as ri,a7 as si,a8 as li,a9 as ai}from"../chunks/DuEcKkfz.js";import{S as Qt,i as Gt,g as Nn,t as Et,e as Fn,a as mt,f as Ht,d as ve,m as be,c as we,b as _e}from"../chunks/CXtFNhqh.js";import{w as Hn,r as ci}from"../chunks/E95olI4G.js";import{e as bn}from"../chunks/BxItBZY0.js";import{p as ui}from"../chunks/T3GZs8dk.js";import{a as Tt,t as ke,b as Wn,n as Ee,s as fi,c as di,d as hi,e as mi,i as pi}from"../chunks/CA9CvuXV.js";import{s as wn,f as _n,a as xn}from"../chunks/DOnuUoXn.js";const Wt=Math.min,Rt=Math.max,Te=Math.round,xe=Math.floor,st=e=>({x:e,y:e}),gi={left:"right",right:"left",bottom:"top",top:"bottom"},vi={start:"end",end:"start"};function je(e,t,n){return Rt(e,Wt(t,n))}function Zt(e,t){return typeof e=="function"?e(t):e}function Dt(e){return e.split("-")[0]}function te(e){return e.split("-")[1]}function jn(e){return e==="x"?"y":"x"}function Ye(e){return e==="y"?"height":"width"}const bi=new Set(["top","bottom"]);function St(e){return bi.has(Dt(e))?"y":"x"}function Je(e){return jn(St(e))}function wi(e,t,n){n===void 0&&(n=!1);const i=te(e),o=Je(e),s=Ye(o);let r=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(r=Ae(r)),[r,Ae(r)]}function _i(e){const t=Ae(e);return[Ue(e),t,Ue(t)]}function Ue(e){return e.replace(/start|end/g,t=>vi[t])}const yn=["left","right"],kn=["right","left"],xi=["top","bottom"],yi=["bottom","top"];function ki(e,t,n){switch(e){case"top":case"bottom":return n?t?kn:yn:t?yn:kn;case"left":case"right":return t?xi:yi;default:return[]}}function Ei(e,t,n,i){const o=te(e);let s=ki(Dt(e),n==="start",i);return o&&(s=s.map(r=>r+"-"+o),t&&(s=s.concat(s.map(Ue)))),s}function Ae(e){return e.replace(/left|right|bottom|top/g,t=>gi[t])}function Ti(e){return{top:0,right:0,bottom:0,left:0,...e}}function Un(e){return typeof e!="number"?Ti(e):{top:e,right:e,bottom:e,left:e}}function Se(e){const{x:t,y:n,width:i,height:o}=e;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}function En(e,t,n){let{reference:i,floating:o}=e;const s=St(t),r=Je(t),l=Ye(r),a=Dt(t),c=s==="y",d=i.x+i.width/2-o.width/2,p=i.y+i.height/2-o.height/2,b=i[l]/2-o[l]/2;let u;switch(a){case"top":u={x:d,y:i.y-o.height};break;case"bottom":u={x:d,y:i.y+i.height};break;case"right":u={x:i.x+i.width,y:p};break;case"left":u={x:i.x-o.width,y:p};break;default:u={x:i.x,y:i.y}}switch(te(t)){case"start":u[r]-=b*(n&&c?-1:1);break;case"end":u[r]+=b*(n&&c?-1:1);break}return u}const Ai=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:r}=n,l=s.filter(Boolean),a=await(r.isRTL==null?void 0:r.isRTL(t));let c=await r.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:p}=En(c,i,a),b=i,u={},h=0;for(let v=0;v<l.length;v++){const{name:_,fn:k}=l[v],{x:C,y:M,data:A,reset:E}=await k({x:d,y:p,initialPlacement:i,placement:b,strategy:o,middlewareData:u,rects:c,platform:r,elements:{reference:e,floating:t}});d=C??d,p=M??p,u={...u,[_]:{...u[_],...A}},E&&h<=50&&(h++,typeof E=="object"&&(E.placement&&(b=E.placement),E.rects&&(c=E.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:d,y:p}=En(c,b,a)),v=-1)}return{x:d,y:p,placement:b,strategy:o,middlewareData:u}};async function $n(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:s,rects:r,elements:l,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:b=!1,padding:u=0}=Zt(t,e),h=Un(u),_=l[b?p==="floating"?"reference":"floating":p],k=Se(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:a})),C=p==="floating"?{x:i,y:o,width:r.floating.width,height:r.floating.height}:r.reference,M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),A=await(s.isElement==null?void 0:s.isElement(M))?await(s.getScale==null?void 0:s.getScale(M))||{x:1,y:1}:{x:1,y:1},E=Se(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:M,strategy:a}):C);return{top:(k.top-E.top+h.top)/A.y,bottom:(E.bottom-k.bottom+h.bottom)/A.y,left:(k.left-E.left+h.left)/A.x,right:(E.right-k.right+h.right)/A.x}}const Si=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:o,rects:s,platform:r,elements:l,middlewareData:a}=t,{element:c,padding:d=0}=Zt(e,t)||{};if(c==null)return{};const p=Un(d),b={x:n,y:i},u=Je(o),h=Ye(u),v=await r.getDimensions(c),_=u==="y",k=_?"top":"left",C=_?"bottom":"right",M=_?"clientHeight":"clientWidth",A=s.reference[h]+s.reference[u]-b[u]-s.floating[h],E=b[u]-s.reference[u],T=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c));let V=T?T[M]:0;(!V||!await(r.isElement==null?void 0:r.isElement(T)))&&(V=l.floating[M]||s.floating[h]);const B=A/2-E/2,F=V/2-v[h]/2-1,I=Wt(p[k],F),Z=Wt(p[C],F),z=I,vt=V-v[h]-Z,N=V/2-v[h]/2+B,j=je(z,N,vt),Q=!a.arrow&&te(o)!=null&&N!==j&&s.reference[h]/2-(N<z?I:Z)-v[h]/2<0,P=Q?N<z?N-z:N-vt:0;return{[u]:b[u]+P,data:{[u]:j,centerOffset:N-j-P,...Q&&{alignmentOffset:P}},reset:Q}}}),Ci=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:s,rects:r,initialPlacement:l,platform:a,elements:c}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:b,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:v=!0,..._}=Zt(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const k=Dt(o),C=St(l),M=Dt(l)===l,A=await(a.isRTL==null?void 0:a.isRTL(c.floating)),E=b||(M||!v?[Ae(l)]:_i(l)),T=h!=="none";!b&&T&&E.push(...Ei(l,v,h,A));const V=[l,...E],B=await $n(t,_),F=[];let I=((i=s.flip)==null?void 0:i.overflows)||[];if(d&&F.push(B[k]),p){const N=wi(o,r,A);F.push(B[N[0]],B[N[1]])}if(I=[...I,{placement:o,overflows:F}],!F.every(N=>N<=0)){var Z,z;const N=(((Z=s.flip)==null?void 0:Z.index)||0)+1,j=V[N];if(j&&(!(p==="alignment"?C!==St(j):!1)||I.every(J=>St(J.placement)===C?J.overflows[0]>0:!0)))return{data:{index:N,overflows:I},reset:{placement:j}};let Q=(z=I.filter(P=>P.overflows[0]<=0).sort((P,J)=>P.overflows[1]-J.overflows[1])[0])==null?void 0:z.placement;if(!Q)switch(u){case"bestFit":{var vt;const P=(vt=I.filter(J=>{if(T){const tt=St(J.placement);return tt===C||tt==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(tt=>tt>0).reduce((tt,q)=>tt+q,0)]).sort((J,tt)=>J[1]-tt[1])[0])==null?void 0:vt[0];P&&(Q=P);break}case"initialPlacement":Q=l;break}if(o!==Q)return{reset:{placement:Q}}}return{}}}},Mi=new Set(["left","top"]);async function Vi(e,t){const{placement:n,platform:i,elements:o}=e,s=await(i.isRTL==null?void 0:i.isRTL(o.floating)),r=Dt(n),l=te(n),a=St(n)==="y",c=Mi.has(r)?-1:1,d=s&&a?-1:1,p=Zt(t,e);let{mainAxis:b,crossAxis:u,alignmentAxis:h}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof h=="number"&&(u=l==="end"?h*-1:h),a?{x:u*d,y:b*c}:{x:b*c,y:u*d}}const Oi=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:s,placement:r,middlewareData:l}=t,a=await Vi(t,e);return r===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:o+a.x,y:s+a.y,data:{...a,placement:r}}}}},Ri=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:s=!0,crossAxis:r=!1,limiter:l={fn:_=>{let{x:k,y:C}=_;return{x:k,y:C}}},...a}=Zt(e,t),c={x:n,y:i},d=await $n(t,a),p=St(Dt(o)),b=jn(p);let u=c[b],h=c[p];if(s){const _=b==="y"?"top":"left",k=b==="y"?"bottom":"right",C=u+d[_],M=u-d[k];u=je(C,u,M)}if(r){const _=p==="y"?"top":"left",k=p==="y"?"bottom":"right",C=h+d[_],M=h-d[k];h=je(C,h,M)}const v=l.fn({...t,[b]:u,[p]:h});return{...v,data:{x:v.x-n,y:v.y-i,enabled:{[b]:s,[p]:r}}}}}};function Ce(){return typeof window<"u"}function Ut(e){return qn(e)?(e.nodeName||"").toLowerCase():"#document"}function G(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function at(e){var t;return(t=(qn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qn(e){return Ce()?e instanceof Node||e instanceof G(e).Node:!1}function nt(e){return Ce()?e instanceof Element||e instanceof G(e).Element:!1}function lt(e){return Ce()?e instanceof HTMLElement||e instanceof G(e).HTMLElement:!1}function Tn(e){return!Ce()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof G(e).ShadowRoot}const Di=new Set(["inline","contents"]);function ee(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=it(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!Di.has(o)}const Li=new Set(["table","td","th"]);function Pi(e){return Li.has(Ut(e))}const Bi=[":popover-open",":modal"];function Me(e){return Bi.some(t=>{try{return e.matches(t)}catch{return!1}})}const Ii=["transform","translate","scale","rotate","perspective"],zi=["transform","translate","scale","rotate","perspective","filter"],Ni=["paint","layout","strict","content"];function Ke(e){const t=Qe(),n=nt(e)?it(e):e;return Ii.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||zi.some(i=>(n.willChange||"").includes(i))||Ni.some(i=>(n.contain||"").includes(i))}function Fi(e){let t=Mt(e);for(;lt(t)&&!jt(t);){if(Ke(t))return t;if(Me(t))return null;t=Mt(t)}return null}function Qe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Hi=new Set(["html","body","#document"]);function jt(e){return Hi.has(Ut(e))}function it(e){return G(e).getComputedStyle(e)}function Ve(e){return nt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mt(e){if(Ut(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Tn(e)&&e.host||at(e);return Tn(t)?t.host:t}function Xn(e){const t=Mt(e);return jt(t)?e.ownerDocument?e.ownerDocument.body:e.body:lt(t)&&ee(t)?t:Xn(t)}function Jt(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Xn(e),s=o===((i=e.ownerDocument)==null?void 0:i.body),r=G(o);if(s){const l=$e(r);return t.concat(r,r.visualViewport||[],ee(o)?o:[],l&&n?Jt(l):[])}return t.concat(o,Jt(o,[],n))}function $e(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Yn(e){const t=it(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=lt(e),s=o?e.offsetWidth:n,r=o?e.offsetHeight:i,l=Te(n)!==s||Te(i)!==r;return l&&(n=s,i=r),{width:n,height:i,$:l}}function Ge(e){return nt(e)?e:e.contextElement}function Ft(e){const t=Ge(e);if(!lt(t))return st(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:s}=Yn(t);let r=(s?Te(n.width):n.width)/i,l=(s?Te(n.height):n.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}const Wi=st(0);function Jn(e){const t=G(e);return!Qe()||!t.visualViewport?Wi:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ji(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==G(e)?!1:t}function Lt(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Ge(e);let r=st(1);t&&(i?nt(i)&&(r=Ft(i)):r=Ft(e));const l=ji(s,n,i)?Jn(s):st(0);let a=(o.left+l.x)/r.x,c=(o.top+l.y)/r.y,d=o.width/r.x,p=o.height/r.y;if(s){const b=G(s),u=i&&nt(i)?G(i):i;let h=b,v=$e(h);for(;v&&i&&u!==h;){const _=Ft(v),k=v.getBoundingClientRect(),C=it(v),M=k.left+(v.clientLeft+parseFloat(C.paddingLeft))*_.x,A=k.top+(v.clientTop+parseFloat(C.paddingTop))*_.y;a*=_.x,c*=_.y,d*=_.x,p*=_.y,a+=M,c+=A,h=G(v),v=$e(h)}}return Se({width:d,height:p,x:a,y:c})}function Oe(e,t){const n=Ve(e).scrollLeft;return t?t.left+n:Lt(at(e)).left+n}function Kn(e,t){const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-Oe(e,n),o=n.top+t.scrollTop;return{x:i,y:o}}function Ui(e){let{elements:t,rect:n,offsetParent:i,strategy:o}=e;const s=o==="fixed",r=at(i),l=t?Me(t.floating):!1;if(i===r||l&&s)return n;let a={scrollLeft:0,scrollTop:0},c=st(1);const d=st(0),p=lt(i);if((p||!p&&!s)&&((Ut(i)!=="body"||ee(r))&&(a=Ve(i)),lt(i))){const u=Lt(i);c=Ft(i),d.x=u.x+i.clientLeft,d.y=u.y+i.clientTop}const b=r&&!p&&!s?Kn(r,a):st(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-a.scrollLeft*c.x+d.x+b.x,y:n.y*c.y-a.scrollTop*c.y+d.y+b.y}}function $i(e){return Array.from(e.getClientRects())}function qi(e){const t=at(e),n=Ve(e),i=e.ownerDocument.body,o=Rt(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=Rt(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let r=-n.scrollLeft+Oe(e);const l=-n.scrollTop;return it(i).direction==="rtl"&&(r+=Rt(t.clientWidth,i.clientWidth)-o),{width:o,height:s,x:r,y:l}}const An=25;function Xi(e,t){const n=G(e),i=at(e),o=n.visualViewport;let s=i.clientWidth,r=i.clientHeight,l=0,a=0;if(o){s=o.width,r=o.height;const d=Qe();(!d||d&&t==="fixed")&&(l=o.offsetLeft,a=o.offsetTop)}const c=Oe(i);if(c<=0){const d=i.ownerDocument,p=d.body,b=getComputedStyle(p),u=d.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,h=Math.abs(i.clientWidth-p.clientWidth-u);h<=An&&(s-=h)}else c<=An&&(s+=c);return{width:s,height:r,x:l,y:a}}const Yi=new Set(["absolute","fixed"]);function Ji(e,t){const n=Lt(e,!0,t==="fixed"),i=n.top+e.clientTop,o=n.left+e.clientLeft,s=lt(e)?Ft(e):st(1),r=e.clientWidth*s.x,l=e.clientHeight*s.y,a=o*s.x,c=i*s.y;return{width:r,height:l,x:a,y:c}}function Sn(e,t,n){let i;if(t==="viewport")i=Xi(e,n);else if(t==="document")i=qi(at(e));else if(nt(t))i=Ji(t,n);else{const o=Jn(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Se(i)}function Qn(e,t){const n=Mt(e);return n===t||!nt(n)||jt(n)?!1:it(n).position==="fixed"||Qn(n,t)}function Ki(e,t){const n=t.get(e);if(n)return n;let i=Jt(e,[],!1).filter(l=>nt(l)&&Ut(l)!=="body"),o=null;const s=it(e).position==="fixed";let r=s?Mt(e):e;for(;nt(r)&&!jt(r);){const l=it(r),a=Ke(r);!a&&l.position==="fixed"&&(o=null),(s?!a&&!o:!a&&l.position==="static"&&!!o&&Yi.has(o.position)||ee(r)&&!a&&Qn(e,r))?i=i.filter(d=>d!==r):o=l,r=Mt(r)}return t.set(e,i),i}function Qi(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const r=[...n==="clippingAncestors"?Me(t)?[]:Ki(t,this._c):[].concat(n),i],l=r[0],a=r.reduce((c,d)=>{const p=Sn(t,d,o);return c.top=Rt(p.top,c.top),c.right=Wt(p.right,c.right),c.bottom=Wt(p.bottom,c.bottom),c.left=Rt(p.left,c.left),c},Sn(t,l,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Gi(e){const{width:t,height:n}=Yn(e);return{width:t,height:n}}function Zi(e,t,n){const i=lt(t),o=at(t),s=n==="fixed",r=Lt(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const a=st(0);function c(){a.x=Oe(o)}if(i||!i&&!s)if((Ut(t)!=="body"||ee(o))&&(l=Ve(t)),i){const u=Lt(t,!0,s,t);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else o&&c();s&&!i&&o&&c();const d=o&&!i&&!s?Kn(o,l):st(0),p=r.left+l.scrollLeft-a.x-d.x,b=r.top+l.scrollTop-a.y-d.y;return{x:p,y:b,width:r.width,height:r.height}}function He(e){return it(e).position==="static"}function Cn(e,t){if(!lt(e)||it(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return at(e)===n&&(n=n.ownerDocument.body),n}function Gn(e,t){const n=G(e);if(Me(e))return n;if(!lt(e)){let o=Mt(e);for(;o&&!jt(o);){if(nt(o)&&!He(o))return o;o=Mt(o)}return n}let i=Cn(e,t);for(;i&&Pi(i)&&He(i);)i=Cn(i,t);return i&&jt(i)&&He(i)&&!Ke(i)?n:i||Fi(e)||n}const to=async function(e){const t=this.getOffsetParent||Gn,n=this.getDimensions,i=await n(e.floating);return{reference:Zi(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function eo(e){return it(e).direction==="rtl"}const no={convertOffsetParentRelativeRectToViewportRelativeRect:Ui,getDocumentElement:at,getClippingRect:Qi,getOffsetParent:Gn,getElementRects:to,getClientRects:$i,getDimensions:Gi,getScale:Ft,isElement:nt,isRTL:eo};function Zn(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function io(e,t){let n=null,i;const o=at(e);function s(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function r(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),s();const c=e.getBoundingClientRect(),{left:d,top:p,width:b,height:u}=c;if(l||t(),!b||!u)return;const h=xe(p),v=xe(o.clientWidth-(d+b)),_=xe(o.clientHeight-(p+u)),k=xe(d),M={rootMargin:-h+"px "+-v+"px "+-_+"px "+-k+"px",threshold:Rt(0,Wt(1,a))||1};let A=!0;function E(T){const V=T[0].intersectionRatio;if(V!==a){if(!A)return r();V?r(!1,V):i=setTimeout(()=>{r(!1,1e-7)},1e3)}V===1&&!Zn(c,e.getBoundingClientRect())&&r(),A=!1}try{n=new IntersectionObserver(E,{...M,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,M)}n.observe(e)}return r(!0),s}function oo(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=i,c=Ge(e),d=o||s?[...c?Jt(c):[],...Jt(t)]:[];d.forEach(k=>{o&&k.addEventListener("scroll",n,{passive:!0}),s&&k.addEventListener("resize",n)});const p=c&&l?io(c,n):null;let b=-1,u=null;r&&(u=new ResizeObserver(k=>{let[C]=k;C&&C.target===c&&u&&(u.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var M;(M=u)==null||M.observe(t)})),n()}),c&&!a&&u.observe(c),u.observe(t));let h,v=a?Lt(e):null;a&&_();function _(){const k=Lt(e);v&&!Zn(v,k)&&n(),v=k,h=requestAnimationFrame(_)}return n(),()=>{var k;d.forEach(C=>{o&&C.removeEventListener("scroll",n),s&&C.removeEventListener("resize",n)}),p?.(),(k=u)==null||k.disconnect(),u=null,a&&cancelAnimationFrame(h)}}const ro=Oi,so=Ri,lo=Ci,ao=Si,co=(e,t,n)=>{const i=new Map,o={platform:no,...n},s={...o.platform,_c:i};return Ai(e,t,{...o,platform:s})},uo=Hn(void 0),We={};function Mn(e){return e==="local"?localStorage:sessionStorage}function Ze(e,t,n){const i=JSON,o="local";function s(r,l){Mn(o).setItem(r,i.stringify(l))}if(!We[e]){const r=Hn(t,c=>{const d=Mn(o).getItem(e);d&&c(i.parse(d));{const p=b=>{b.key===e&&c(b.newValue?i.parse(b.newValue):null)};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)}}),{subscribe:l,set:a}=r;We[e]={set(c){s(e,c),a(c)},update(c){const d=c(ei(r));s(e,d),a(d)},subscribe:l}}return We[e]}Ze("modeOsPrefers",!1);Ze("modeUserPrefers",void 0);Ze("modeCurrent",!1);const ti="(prefers-reduced-motion: reduce)";function fo(){return window.matchMedia(ti).matches}ci(fo(),e=>{{const t=i=>{e(i.matches)},n=window.matchMedia(ti);return n.addEventListener("change",t),()=>{n.removeEventListener("change",t)}}});function Vn(e,t,n){const i=e.slice();return i[8]=t[n],i}function On(e){let t,n,i,o,s,r,l,a=e[2]&&Rn(e);return{c(){t=y("div"),n=y("div"),i=R(),a&&a.c(),o=R(),s=y("div"),r=R(),l=y("div"),this.h()},l(c){t=x(c,"DIV",{class:!0});var d=w(t);n=x(d,"DIV",{class:!0,style:!0}),w(n).forEach(g),i=O(d),a&&a.l(d),o=O(d),s=x(d,"DIV",{class:!0}),w(s).forEach(g),r=O(d),l=x(d,"DIV",{class:!0}),w(l).forEach(g),d.forEach(g),this.h()},h(){f(n,"class","absolute inset-0 bg-cover bg-center animate-ken-burns opacity-60 transition-all duration-1000 svelte-1yijs4b"),K(n,"background-image","url('"+e[3]+"')"),K(n,"will-change","transform"),f(s,"class","absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-black/60 pointer-events-none mix-blend-multiply"),f(l,"class","absolute inset-0 bg-primary-900/10 pointer-events-none mix-blend-overlay"),f(t,"class","fixed inset-0 -z-10 overflow-hidden bg-black")},m(c,d){D(c,t,d),m(t,n),m(t,i),a&&a.m(t,null),m(t,o),m(t,s),m(t,r),m(t,l)},p(c,d){d&8&&K(n,"background-image","url('"+c[3]+"')"),c[2]?a?a.p(c,d):(a=Rn(c),a.c(),a.m(t,o)):a&&(a.d(1),a=null)},d(c){c&&g(t),a&&a.d()}}}function Rn(e){let t,n=bn(e[0]),i=[];for(let o=0;o<n.length;o+=1)i[o]=Dn(Vn(e,n,o));return{c(){t=y("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){t=x(o,"DIV",{class:!0});var s=w(t);for(let r=0;r<i.length;r+=1)i[r].l(s);s.forEach(g),this.h()},h(){f(t,"class","absolute inset-0 pointer-events-none opacity-40 transition-opacity duration-500")},m(o,s){D(o,t,s);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(t,null)},p(o,s){if(s&1){n=bn(o[0]);let r;for(r=0;r<n.length;r+=1){const l=Vn(o,n,r);i[r]?i[r].p(l,s):(i[r]=Dn(l),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(o){o&&g(t),ni(i,o)}}}function Dn(e){let t;return{c(){t=y("div"),this.h()},l(n){t=x(n,"DIV",{class:!0,style:!0}),w(t).forEach(g),this.h()},h(){f(t,"class","absolute top-[-10px] w-[1px] h-[15px] bg-white/50 animate-rain svelte-1yijs4b"),K(t,"left",e[8].left+"%"),K(t,"animation-delay",e[8].delay+"s"),K(t,"animation-duration",e[8].duration+"s"),K(t,"will-change","transform")},m(n,i){D(n,t,i)},p(n,i){i&1&&K(t,"left",n[8].left+"%"),i&1&&K(t,"animation-delay",n[8].delay+"s"),i&1&&K(t,"animation-duration",n[8].duration+"s")},d(n){n&&g(t)}}}function ho(e){let t,n=e[1]&&On(e);return{c(){n&&n.c(),t=Ct()},l(i){n&&n.l(i),t=Ct()},m(i,o){n&&n.m(i,o),D(i,t,o)},p(i,[o]){i[1]?n?n.p(i,o):(n=On(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Ot,o:Ot,d(i){i&&g(t),n&&n.d(i)}}}function mo(e,t,n){let i,o,s,r,l;Yt(e,ui,p=>n(4,r=p)),Yt(e,Tt,p=>n(5,l=p));const a={noir:"/assets/images/backgrounds/lofi-study.png",library:"/assets/images/backgrounds/library.png",zen:"/assets/images/backgrounds/zen-garden.png"};let c=[],d=!1;return qe(()=>{d=window.innerWidth<768;const p=d?50:75;n(0,c=Array.from({length:p},()=>({left:Math.random()*100,delay:Math.random()*2,duration:.5+Math.random()*.5})))}),e.$$.update=()=>{e.$$.dirty&32&&n(3,i=l.activeVibe==="custom"?a.noir:a[l.activeVibe]),e.$$.dirty&32&&n(2,o=l.currentAmbience==="rain"),e.$$.dirty&16&&n(1,s=r.url.pathname.startsWith("/app"))},[c,s,o,i,r,l]}class po extends Qt{constructor(t){super(),Gt(this,t,mo,ho,Kt,{})}}function go(e){let t,n,i,o,s;return{c(){t=y("audio"),n=R(),i=y("audio"),this.h()},l(r){t=x(r,"AUDIO",{preload:!0,crossorigin:!0}),w(t).forEach(g),n=O(r),i=x(r,"AUDIO",{preload:!0,crossorigin:!0}),w(i).forEach(g),this.h()},h(){f(t,"preload","auto"),f(t,"crossorigin","anonymous"),i.loop=!0,f(i,"preload","auto"),f(i,"crossorigin","anonymous")},m(r,l){D(r,t,l),e[6](t),D(r,n,l),D(r,i,l),e[7](i),o||(s=[$(t,"ended",e[2]),$(t,"timeupdate",e[3]),$(t,"durationchange",e[4])],o=!0)},p:Ot,i:Ot,o:Ot,d(r){r&&(g(t),g(n),g(i)),e[6](null),e[7](null),o=!1,zn(s)}}}function vo(e,t,n){let i;Yt(e,Tt,u=>n(5,i=u));const o={rain:"/assets/audio/ambience/rain.mp3",library:"/assets/audio/ambience/library.mp3",garden:"/assets/audio/ambience/garden.mp3",none:""};let s,r;function l(u,h,v){if(typeof navigator>"u"||!("mediaSession"in navigator))return;if(v.length===0){navigator.mediaSession.metadata=null;return}const _=v[u],k=i.availableAlbums.find(C=>C.id===h);_&&k&&(navigator.mediaSession.metadata=new MediaMetadata({title:_.title,artist:_.artist||k.artist,album:k.title,artwork:[{src:k.cover,sizes:"512x512",type:"image/png"},{src:k.cover,sizes:"512x512",type:"image/jpeg"}]}),navigator.mediaSession.setActionHandler("play",()=>{i.isPlaying||ke()}),navigator.mediaSession.setActionHandler("pause",()=>{i.isPlaying&&ke()}),navigator.mediaSession.setActionHandler("previoustrack",()=>Wn()),navigator.mediaSession.setActionHandler("nexttrack",()=>Ee()),navigator.mediaSession.setActionHandler("stop",()=>{i.isPlaying&&ke()}))}function a(){console.log("Track ended");const{repeatMode:u,currentTrackIndex:h,playlist:v}=i;u==="one"?s&&(n(0,s.currentTime=0,s),s.play().catch(console.error)):u==="all"?Ee():h<v.length-1?Ee():Tt.update(_=>({..._,isPlaying:!1}))}function c(){s&&Tt.update(u=>({...u,currentTime:s.currentTime}))}function d(){s&&Tt.update(u=>({...u,duration:s.duration}))}function p(u){gn[u?"unshift":"push"](()=>{s=u,n(0,s),n(5,i)})}function b(u){gn[u?"unshift":"push"](()=>{r=u,n(1,r),n(5,i)})}return e.$$.update=()=>{if(e.$$.dirty&33&&s&&i.seekRequest!==null&&(n(0,s.currentTime=i.seekRequest,s),Tt.update(u=>({...u,seekRequest:null}))),e.$$.dirty&32&&l(i.currentTrackIndex,i.currentAlbumId,i.playlist),e.$$.dirty&33&&s)if(n(0,s.volume=i.isMuted?0:i.musicVolume,s),i.playlist.length>0){const h=i.playlist[i.currentTrackIndex].file;s.getAttribute("src")!==h&&(n(0,s.src=h,s),i.isPlaying&&s.play().catch(v=>console.log("Auto-play blocked:",v))),i.isPlaying&&s.paused&&s.readyState>=2?s.play().catch(v=>console.log("Play error:",v)):!i.isPlaying&&!s.paused&&s.pause()}else s.pause(),n(0,s.src="",s);if(e.$$.dirty&34&&r){n(1,r.volume=i.isMuted?0:i.ambienceVolume,r);const u=o[i.currentAmbience];r.getAttribute("src")!==u&&(u?(n(1,r.src=u,r),i.isPlaying&&r.play().catch(console.error)):(r.pause(),n(1,r.src="",r))),i.isPlaying&&u&&r.paused&&r.readyState>=2?r.play().catch(console.error):!i.isPlaying&&!r.paused&&r.pause()}},[s,r,a,c,d,i,p,b]}class bo extends Qt{constructor(t){super(),Gt(this,t,vo,go,Kt,{})}}function Ln(e){let t,n,i;const o=[_o,wo],s=[];function r(l,a){return l[3]?0:1}return t=r(e),n=s[t]=o[t](e),{c(){n.c(),i=Ct()},l(l){n.l(l),i=Ct()},m(l,a){s[t].m(l,a),D(l,i,a)},p(l,a){let c=t;t=r(l),t===c?s[t].p(l,a):(Nn(),Et(s[c],1,1,()=>{s[c]=null}),Fn(),n=s[t],n?n.p(l,a):(n=s[t]=o[t](l),n.c()),mt(n,1),n.m(i.parentNode,i))},d(l){l&&g(i),s[t].d(l)}}}function wo(e){let t,n,i='<div class="w-8 h-1 bg-current rounded-full"></div>',o,s,r,l,a='<svg class="w-8 h-8 text-white/50 group-hover:text-white/80 transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"></path></svg>',c,d,p,b=e[0].title+"",u,h,v,_=e[0].artist+"",k,C,M,A,E,T,V,B,F,I,Z,z,vt='<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"></path></svg>',N,j,Q,P,J='<svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"></path></svg>',tt,q,bt,$t,Re,ne,ie,De,ot,Pt,qt=ye(e[1].currentTime)+"",oe,Le,wt,et,re,se,Pe,Vt,Be,Bt,Xt=ye(e[1].duration)+"",le,Ie,_t,xt,tn="â¬‡",ze,ct,ut,Ne,yt,X,Fe,en;function nn(S,L){return S[4]?yo:xo}let ae=nn(e),ft=ae(e);function on(S,L){return S[1].isPlaying?Eo:ko}let ce=on(e),dt=ce(e),Y=e[1].repeatMode==="one"&&Pn();function rn(S,L){return S[1].musicVolume===0||S[1].isMuted?So:S[1].musicVolume<.5?Ao:To}let ue=rn(e),ht=ue(e),U=e[2]&&Bn(e);return{c(){t=y("div"),n=y("button"),n.innerHTML=i,o=R(),s=y("div"),r=y("div"),l=y("div"),l.innerHTML=a,c=R(),d=y("div"),p=y("div"),u=gt(b),h=R(),v=y("div"),k=gt(_),C=R(),M=y("button"),ft.c(),A=R(),E=y("div"),T=y("div"),V=y("button"),B=W("svg"),F=W("path"),Z=R(),z=y("button"),z.innerHTML=vt,N=R(),j=y("button"),dt.c(),Q=R(),P=y("button"),P.innerHTML=J,tt=R(),q=y("button"),bt=W("svg"),$t=W("path"),Re=R(),Y&&Y.c(),De=R(),ot=y("div"),Pt=y("span"),oe=gt(qt),Le=R(),wt=y("div"),et=y("input"),Pe=R(),Vt=y("div"),Be=R(),Bt=y("span"),le=gt(Xt),Ie=R(),_t=y("div"),xt=y("button"),xt.textContent=tn,ze=R(),ct=y("div"),ut=y("button"),ht.c(),Ne=R(),U&&U.c(),this.h()},l(S){t=x(S,"DIV",{class:!0});var L=w(t);n=x(L,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),kt(n)!=="svelte-gdfvpw"&&(n.innerHTML=i),o=O(L),s=x(L,"DIV",{class:!0});var It=w(s);r=x(It,"DIV",{class:!0});var zt=w(r);l=x(zt,"DIV",{class:!0,title:!0,"data-svelte-h":!0}),kt(l)!=="svelte-o1bwqn"&&(l.innerHTML=a),c=O(zt),d=x(zt,"DIV",{class:!0});var fe=w(d);p=x(fe,"DIV",{class:!0});var sn=w(p);u=pt(sn,b),sn.forEach(g),h=O(fe),v=x(fe,"DIV",{class:!0});var ln=w(v);k=pt(ln,_),ln.forEach(g),fe.forEach(g),C=O(zt),M=x(zt,"BUTTON",{class:!0,title:!0});var an=w(M);ft.l(an),an.forEach(g),zt.forEach(g),A=O(It),E=x(It,"DIV",{class:!0});var de=w(E);T=x(de,"DIV",{class:!0});var rt=w(T);V=x(rt,"BUTTON",{class:!0,title:!0});var cn=w(V);B=H(cn,"svg",{class:!0,fill:!0,viewBox:!0});var un=w(B);F=H(un,"path",{d:!0}),w(F).forEach(g),un.forEach(g),cn.forEach(g),Z=O(rt),z=x(rt,"BUTTON",{class:!0,"data-svelte-h":!0}),kt(z)!=="svelte-azect7"&&(z.innerHTML=vt),N=O(rt),j=x(rt,"BUTTON",{class:!0});var fn=w(j);dt.l(fn),fn.forEach(g),Q=O(rt),P=x(rt,"BUTTON",{class:!0,"data-svelte-h":!0}),kt(P)!=="svelte-146i6vg"&&(P.innerHTML=J),tt=O(rt),q=x(rt,"BUTTON",{class:!0,title:!0});var he=w(q);bt=H(he,"svg",{class:!0,fill:!0,viewBox:!0});var dn=w(bt);$t=H(dn,"path",{d:!0}),w($t).forEach(g),dn.forEach(g),Re=O(he),Y&&Y.l(he),he.forEach(g),rt.forEach(g),De=O(de),ot=x(de,"DIV",{class:!0});var Nt=w(ot);Pt=x(Nt,"SPAN",{class:!0});var hn=w(Pt);oe=pt(hn,qt),hn.forEach(g),Le=O(Nt),wt=x(Nt,"DIV",{class:!0});var me=w(wt);et=x(me,"INPUT",{type:!0,min:!0,max:!0,class:!0}),Pe=O(me),Vt=x(me,"DIV",{class:!0,style:!0}),w(Vt).forEach(g),me.forEach(g),Be=O(Nt),Bt=x(Nt,"SPAN",{class:!0});var mn=w(Bt);le=pt(mn,Xt),mn.forEach(g),Nt.forEach(g),de.forEach(g),Ie=O(It),_t=x(It,"DIV",{class:!0});var pe=w(_t);xt=x(pe,"BUTTON",{class:!0,"data-svelte-h":!0}),kt(xt)!=="svelte-1n8p38a"&&(xt.textContent=tn),ze=O(pe),ct=x(pe,"DIV",{class:!0});var ge=w(ct);ut=x(ge,"BUTTON",{class:!0,title:!0});var pn=w(ut);ht.l(pn),pn.forEach(g),Ne=O(ge),U&&U.l(ge),ge.forEach(g),pe.forEach(g),It.forEach(g),L.forEach(g),this.h()},h(){f(n,"class","absolute -top-3 left-1/2 -translate-x-1/2 w-12 h-4 bg-[#121212]/95 border-t border-l border-r border-white/10 rounded-t-lg flex items-center justify-center text-white/30 hover:text-white hover:h-6 transition-all group"),f(n,"title","Minimizar reproductor"),f(l,"class","hidden sm:flex w-14 h-14 bg-white/10 rounded-lg items-center justify-center shrink-0 overflow-hidden cursor-pointer hover:bg-white/20 transition-colors group"),f(l,"title","Ver lista de canciones"),f(p,"class","font-bold text-sm sm:text-base truncate text-white"),f(v,"class","text-xs sm:text-sm text-slate-400 truncate"),f(d,"class","min-w-0 flex-1"),f(M,"class","text-white/50 hover:text-green-400 transition-colors p-2 hidden md:block"),f(M,"title","AÃ±adir a favoritos"),f(r,"class","flex items-center gap-4 w-1/3 min-w-0"),f(F,"d","M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"),f(B,"class","w-4 h-4"),f(B,"fill","currentColor"),f(B,"viewBox","0 0 24 24"),f(V,"class",I="transition-colors hidden md:block "+(e[1].shuffle?"text-green-400":"text-slate-400 hover:text-white")),f(V,"title","Aleatorio"),f(z,"class","text-white/80 hover:text-white transition-colors"),f(j,"class","w-10 h-10 rounded-full bg-white text-black flex items-center justify-center hover:scale-105 transition-transform shadow-lg shadow-white/10"),f(P,"class","text-white/80 hover:text-white transition-colors"),f($t,"d","M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"),f(bt,"class","w-4 h-4"),f(bt,"fill","currentColor"),f(bt,"viewBox","0 0 24 24"),f(q,"class",ne="transition-colors relative "+(e[1].repeatMode!=="off"?"text-green-400":"text-slate-400 hover:text-white")),f(q,"title",ie=e[1].repeatMode==="one"?"Repetir una":e[1].repeatMode==="all"?"Repetir todo":"Repetir desactivado"),f(T,"class","flex items-center gap-6 mb-1"),f(Pt,"class","w-10 text-right"),f(et,"type","range"),f(et,"min","0"),f(et,"max",re=e[1].duration||100),et.value=se=e[1].currentTime,f(et,"class","absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"),f(Vt,"class","absolute top-0 left-0 h-full bg-white rounded-full group-hover:bg-green-500 transition-colors pointer-events-none"),K(Vt,"width",e[1].currentTime/(e[1].duration||1)*100+"%"),f(wt,"class","relative flex-1 h-1 bg-white/10 rounded-full group cursor-pointer group"),f(Bt,"class","w-10"),f(ot,"class","w-full flex items-center gap-2 text-xs text-slate-400 font-mono"),f(E,"class","flex flex-col items-center justify-center flex-1 w-full max-w-xl"),f(xt,"class","md:hidden text-white/50 hover:text-white"),f(ut,"class","text-white/70 hover:text-white transition-colors"),f(ut,"title","Volumen"),f(ct,"class","hidden md:flex items-center gap-2 relative"),f(_t,"class","flex w-auto md:w-1/3 justify-end items-center gap-2 md:gap-4"),f(s,"class","flex items-center justify-between gap-4 max-w-[1920px] mx-auto relative"),f(t,"class","fixed bottom-0 left-0 w-full bg-[#121212]/95 backdrop-blur-xl border-t border-white/10 z-[50] text-white px-4 py-3 shadow-[0_-10px_40px_rgba(0,0,0,0.5)]")},m(S,L){D(S,t,L),m(t,n),m(t,o),m(t,s),m(s,r),m(r,l),m(r,c),m(r,d),m(d,p),m(p,u),m(d,h),m(d,v),m(v,k),m(r,C),m(r,M),ft.m(M,null),m(s,A),m(s,E),m(E,T),m(T,V),m(V,B),m(B,F),m(T,Z),m(T,z),m(T,N),m(T,j),dt.m(j,null),m(T,Q),m(T,P),m(T,tt),m(T,q),m(q,bt),m(bt,$t),m(q,Re),Y&&Y.m(q,null),m(E,De),m(E,ot),m(ot,Pt),m(Pt,oe),m(ot,Le),m(ot,wt),m(wt,et),m(wt,Pe),m(wt,Vt),m(ot,Be),m(ot,Bt),m(Bt,le),m(s,Ie),m(s,_t),m(_t,xt),m(_t,ze),m(_t,ct),m(ct,ut),ht.m(ut,null),m(ct,Ne),U&&U.m(ct,null),X=!0,Fe||(en=[$(n,"click",e[11]),$(l,"click",e[12]),$(M,"click",e[13]),$(V,"click",hi),$(z,"click",Wn),$(j,"click",ke),$(P,"click",Ee),$(q,"click",mi),$(et,"input",e[7]),$(xt,"click",e[14]),$(ut,"click",e[15])],Fe=!0)},p(S,L){(!X||L&1)&&b!==(b=S[0].title+"")&&At(u,b),(!X||L&1)&&_!==(_=S[0].artist+"")&&At(k,_),ae!==(ae=nn(S))&&(ft.d(1),ft=ae(S),ft&&(ft.c(),ft.m(M,null))),(!X||L&2&&I!==(I="transition-colors hidden md:block "+(S[1].shuffle?"text-green-400":"text-slate-400 hover:text-white")))&&f(V,"class",I),ce!==(ce=on(S))&&(dt.d(1),dt=ce(S),dt&&(dt.c(),dt.m(j,null))),S[1].repeatMode==="one"?Y||(Y=Pn(),Y.c(),Y.m(q,null)):Y&&(Y.d(1),Y=null),(!X||L&2&&ne!==(ne="transition-colors relative "+(S[1].repeatMode!=="off"?"text-green-400":"text-slate-400 hover:text-white")))&&f(q,"class",ne),(!X||L&2&&ie!==(ie=S[1].repeatMode==="one"?"Repetir una":S[1].repeatMode==="all"?"Repetir todo":"Repetir desactivado"))&&f(q,"title",ie),(!X||L&2)&&qt!==(qt=ye(S[1].currentTime)+"")&&At(oe,qt),(!X||L&2&&re!==(re=S[1].duration||100))&&f(et,"max",re),(!X||L&2&&se!==(se=S[1].currentTime))&&(et.value=se),(!X||L&2)&&K(Vt,"width",S[1].currentTime/(S[1].duration||1)*100+"%"),(!X||L&2)&&Xt!==(Xt=ye(S[1].duration)+"")&&At(le,Xt),ue!==(ue=rn(S))&&(ht.d(1),ht=ue(S),ht&&(ht.c(),ht.m(ut,null))),S[2]?U?U.p(S,L):(U=Bn(S),U.c(),U.m(ct,null)):U&&(U.d(1),U=null)},i(S){X||(S&&Xe(()=>{X&&(yt||(yt=Ht(t,wn,{duration:300,axis:"y"},!0)),yt.run(1))}),X=!0)},o(S){S&&(yt||(yt=Ht(t,wn,{duration:300,axis:"y"},!1)),yt.run(0)),X=!1},d(S){S&&g(t),ft.d(),dt.d(),Y&&Y.d(),ht.d(),U&&U.d(),S&&yt&&yt.end(),Fe=!1,zn(en)}}}function _o(e){let t,n,i,o,s,r,l,a,c=e[0].title+"",d,p,b,u=e[0].artist+"",h,v,_,k,C;function M(T,V){return T[1].isPlaying?Mo:Co}let A=M(e),E=A(e);return{c(){t=y("div"),n=y("button"),i=y("div"),o=y("div"),s=R(),E.c(),r=R(),l=y("div"),a=y("span"),d=gt(c),p=R(),b=y("span"),h=gt(u),this.h()},l(T){t=x(T,"DIV",{class:!0});var V=w(t);n=x(V,"BUTTON",{class:!0});var B=w(n);i=x(B,"DIV",{class:!0});var F=w(i);o=x(F,"DIV",{class:!0}),w(o).forEach(g),s=O(F),E.l(F),F.forEach(g),r=O(B),l=x(B,"DIV",{class:!0});var I=w(l);a=x(I,"SPAN",{class:!0});var Z=w(a);d=pt(Z,c),Z.forEach(g),p=O(I),b=x(I,"SPAN",{class:!0});var z=w(b);h=pt(z,u),z.forEach(g),I.forEach(g),B.forEach(g),V.forEach(g),this.h()},h(){f(o,"class","absolute inset-0 rounded-full border border-white/20 svelte-mtnxdl"),vn(o,"animate-spin-slow",e[1].isPlaying),f(i,"class","w-10 h-10 rounded-full bg-gradient-to-tr from-blue-600 to-purple-600 flex items-center justify-center relative shrink-0"),f(a,"class","text-xs font-bold text-white truncate w-full"),f(b,"class","text-[10px] text-slate-400 truncate w-full"),f(l,"class","flex flex-col text-left min-w-0"),f(n,"class","group bg-[#0F172A]/90 backdrop-blur-xl border border-white/10 p-2 pr-6 rounded-full shadow-2xl hover:scale-105 transition-all flex items-center gap-3 overflow-hidden max-w-[200px]"),f(t,"class","fixed bottom-6 right-6 z-[100] flex flex-col items-end gap-2")},m(T,V){D(T,t,V),m(t,n),m(n,i),m(i,o),m(i,s),E.m(i,null),m(n,r),m(n,l),m(l,a),m(a,d),m(l,p),m(l,b),m(b,h),_=!0,k||(C=$(n,"click",e[10]),k=!0)},p(T,V){(!_||V&2)&&vn(o,"animate-spin-slow",T[1].isPlaying),A!==(A=M(T))&&(E.d(1),E=A(T),E&&(E.c(),E.m(i,null))),(!_||V&1)&&c!==(c=T[0].title+"")&&At(d,c),(!_||V&1)&&u!==(u=T[0].artist+"")&&At(h,u)},i(T){_||(T&&Xe(()=>{_&&(v||(v=Ht(t,_n,{duration:200},!0)),v.run(1))}),_=!0)},o(T){T&&(v||(v=Ht(t,_n,{duration:200},!1)),v.run(0)),_=!1},d(T){T&&g(t),E.d(),T&&v&&v.end(),k=!1,C()}}}function xo(e){let t,n;return{c(){t=W("svg"),n=W("path"),this.h()},l(i){t=H(i,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0});var o=w(t);n=H(o,"path",{d:!0}),w(n).forEach(g),o.forEach(g),this.h()},h(){f(n,"d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"),f(t,"class","w-5 h-5"),f(t,"fill","none"),f(t,"stroke","currentColor"),f(t,"stroke-width","2"),f(t,"viewBox","0 0 24 24")},m(i,o){D(i,t,o),m(t,n)},d(i){i&&g(t)}}}function yo(e){let t,n;return{c(){t=W("svg"),n=W("path"),this.h()},l(i){t=H(i,"svg",{class:!0,viewBox:!0});var o=w(t);n=H(o,"path",{d:!0}),w(n).forEach(g),o.forEach(g),this.h()},h(){f(n,"d","M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"),f(t,"class","w-5 h-5 text-green-500 fill-current"),f(t,"viewBox","0 0 24 24")},m(i,o){D(i,t,o),m(t,n)},d(i){i&&g(t)}}}function ko(e){let t,n;return{c(){t=W("svg"),n=W("path"),this.h()},l(i){t=H(i,"svg",{class:!0,fill:!0,viewBox:!0});var o=w(t);n=H(o,"path",{d:!0}),w(n).forEach(g),o.forEach(g),this.h()},h(){f(n,"d","M8 5v14l11-7z"),f(t,"class","w-6 h-6 ml-1"),f(t,"fill","currentColor"),f(t,"viewBox","0 0 24 24")},m(i,o){D(i,t,o),m(t,n)},d(i){i&&g(t)}}}function Eo(e){let t,n;return{c(){t=W("svg"),n=W("path"),this.h()},l(i){t=H(i,"svg",{class:!0,fill:!0,viewBox:!0});var o=w(t);n=H(o,"path",{d:!0}),w(n).forEach(g),o.forEach(g),this.h()},h(){f(n,"d","M6 19h4V5H6v14zm8-14v14h4V5h-4z"),f(t,"class","w-6 h-6 ml-0.5"),f(t,"fill","currentColor"),f(t,"viewBox","0 0 24 24")},m(i,o){D(i,t,o),m(t,n)},d(i){i&&g(t)}}}function Pn(e){let t,n="1";return{c(){t=y("span"),t.textContent=n,this.h()},l(i){t=x(i,"SPAN",{class:!0,"data-svelte-h":!0}),kt(t)!=="svelte-1cynt9x"&&(t.textContent=n),this.h()},h(){f(t,"class","absolute -bottom-1 -right-1 text-[8px] font-bold")},m(i,o){D(i,t,o)},d(i){i&&g(t)}}}function To(e){let t,n;return{c(){t=W("svg"),n=W("path"),this.h()},l(i){t=H(i,"svg",{class:!0,fill:!0,viewBox:!0});var o=w(t);n=H(o,"path",{d:!0}),w(n).forEach(g),o.forEach(g),this.h()},h(){f(n,"d","M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"),f(t,"class","w-5 h-5"),f(t,"fill","currentColor"),f(t,"viewBox","0 0 24 24")},m(i,o){D(i,t,o),m(t,n)},d(i){i&&g(t)}}}function Ao(e){let t,n;return{c(){t=W("svg"),n=W("path"),this.h()},l(i){t=H(i,"svg",{class:!0,fill:!0,viewBox:!0});var o=w(t);n=H(o,"path",{d:!0}),w(n).forEach(g),o.forEach(g),this.h()},h(){f(n,"d","M7 9v6h4l5 5V4l-5 5H7z"),f(t,"class","w-5 h-5"),f(t,"fill","currentColor"),f(t,"viewBox","0 0 24 24")},m(i,o){D(i,t,o),m(t,n)},d(i){i&&g(t)}}}function So(e){let t,n;return{c(){t=W("svg"),n=W("path"),this.h()},l(i){t=H(i,"svg",{class:!0,fill:!0,viewBox:!0});var o=w(t);n=H(o,"path",{d:!0}),w(n).forEach(g),o.forEach(g),this.h()},h(){f(n,"d","M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"),f(t,"class","w-5 h-5"),f(t,"fill","currentColor"),f(t,"viewBox","0 0 24 24")},m(i,o){D(i,t,o),m(t,n)},d(i){i&&g(t)}}}function Bn(e){let t,n,i,o,s,r,l=Math.round(e[1].musicVolume*100)+"",a,c,d,p;return{c(){t=y("div"),n=y("div"),i=y("input"),s=R(),r=y("div"),a=gt(l),c=gt("%"),this.h()},l(b){t=x(b,"DIV",{class:!0});var u=w(t);n=x(u,"DIV",{class:!0});var h=w(n);i=x(h,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0,style:!0}),s=O(h),r=x(h,"DIV",{class:!0});var v=w(r);a=pt(v,l),c=pt(v,"%"),v.forEach(g),h.forEach(g),u.forEach(g),this.h()},h(){f(i,"type","range"),f(i,"min","0"),f(i,"max","1"),f(i,"step","0.01"),i.value=o=e[1].musicVolume,f(i,"class","flex-1 w-1.5 bg-white/10 rounded-lg appearance-none cursor-pointer hover:bg-white/20 transition-colors [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:shadow-[0_0_10px_rgba(255,255,255,0.5)] [&::-webkit-slider-thumb]:hover:scale-110 [&::-webkit-slider-thumb]:transition-transform [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-white [&::-moz-range-thumb]:border-0"),K(i,"writing-mode","bt-lr"),K(i,"-webkit-appearance","slider-vertical"),f(r,"class","text-xs font-bold text-white tabular-nums w-8 text-center bg-white/5 rounded px-1"),f(n,"class","flex flex-col items-center gap-3 h-32"),f(t,"class","absolute bottom-full right-0 mb-4 bg-[#0F172A]/95 backdrop-blur-xl border border-white/10 rounded-2xl p-4 shadow-2xl flex gap-4 z-50")},m(b,u){D(b,t,u),m(t,n),m(n,i),m(n,s),m(n,r),m(r,a),m(r,c),d||(p=$(i,"input",e[8]),d=!0)},p(b,u){u&2&&o!==(o=b[1].musicVolume)&&(i.value=o),u&2&&l!==(l=Math.round(b[1].musicVolume*100)+"")&&At(a,l)},d(b){b&&g(t),d=!1,p()}}}function Co(e){let t,n="â¸";return{c(){t=y("span"),t.textContent=n,this.h()},l(i){t=x(i,"SPAN",{class:!0,"data-svelte-h":!0}),kt(t)!=="svelte-qyojf6"&&(t.textContent=n),this.h()},h(){f(t,"class","text-xs")},m(i,o){D(i,t,o)},d(i){i&&g(t)}}}function Mo(e){let t,n="ðŸ”Š";return{c(){t=y("span"),t.textContent=n,this.h()},l(i){t=x(i,"SPAN",{class:!0,"data-svelte-h":!0}),kt(t)!=="svelte-1i5gy3t"&&(t.textContent=n),this.h()},h(){f(t,"class","text-xs")},m(i,o){D(i,t,o)},d(i){i&&g(t)}}}function Vo(e){let t,n=e[0]&&Ln(e);return{c(){n&&n.c(),t=Ct()},l(i){n&&n.l(i),t=Ct()},m(i,o){n&&n.m(i,o),D(i,t,o)},p(i,[o]){i[0]?n?n.p(i,o):(n=Ln(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Ot,o:Ot,d(i){i&&g(t),n&&n.d(i)}}}function ye(e){if(!e||isNaN(e))return"0:00";const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n.toString().padStart(2,"0")}`}function Oo(e,t,n){let i,o,s;Yt(e,Tt,A=>n(1,s=A));const r=ii();let l=[],a=!1,c=!1;qe(()=>{try{const A=localStorage.getItem("chillchess_favorites");A&&n(9,l=JSON.parse(A))}catch(A){console.error("Error referencing localStorage",A)}});function d(A){A&&(l.includes(A)?n(9,l=l.filter(E=>E!==A)):n(9,l=[...l,A]),localStorage.setItem("chillchess_favorites",JSON.stringify(l)))}function p(A){const E=A.target;fi(parseFloat(E.value))}let b;function u(A){const E=A.target,T=parseFloat(E.value);b&&clearTimeout(b),b=setTimeout(()=>{di(T)},50)}const h=()=>n(3,c=!1),v=()=>n(3,c=!0),_=()=>r("showTracks"),k=()=>d(i.id),C=()=>n(3,c=!0),M=()=>n(2,a=!a);return e.$$.update=()=>{e.$$.dirty&2&&n(0,i=s.playlist[s.currentTrackIndex]),e.$$.dirty&513&&n(4,o=i?.id&&l.includes(i.id))},[i,s,a,c,o,r,d,p,u,l,h,v,_,k,C,M]}class Ro extends Qt{constructor(t){super(),Gt(this,t,Oo,Vo,Kt,{})}}function In(e){let t,n,i,o,s,r,l;return{c(){t=y("div"),n=y("div"),i=R(),o=y("span"),s=gt(e[1]),this.h()},l(a){t=x(a,"DIV",{class:!0});var c=w(t);n=x(c,"DIV",{class:!0}),w(n).forEach(g),i=O(c),o=x(c,"SPAN",{class:!0});var d=w(o);s=pt(d,e[1]),d.forEach(g),c.forEach(g),this.h()},h(){f(n,"class","w-2 h-2 rounded-full bg-green-400 animate-pulse shadow-[0_0_10px_rgba(74,222,128,0.5)]"),f(o,"class","text-xs md:text-sm font-medium text-slate-200 tracking-wide font-poppins"),f(t,"class","fixed top-20 md:top-8 left-1/2 -translate-x-1/2 z-[100] px-5 py-2.5 bg-[#0F172A]/80 backdrop-blur-xl rounded-full border border-white/10 shadow-2xl flex items-center gap-3 pointer-events-none")},m(a,c){D(a,t,c),m(t,n),m(t,i),m(t,o),m(o,s),l=!0},p(a,c){(!l||c&2)&&At(s,a[1])},i(a){l||(a&&Xe(()=>{l&&(r||(r=Ht(t,xn,{y:-20,duration:600},!0)),r.run(1))}),l=!0)},o(a){a&&(r||(r=Ht(t,xn,{y:-20,duration:600},!1)),r.run(0)),l=!1},d(a){a&&g(t),a&&r&&r.end()}}}function Do(e){let t,n=e[0]&&e[1]&&In(e);return{c(){n&&n.c(),t=Ct()},l(i){n&&n.l(i),t=Ct()},m(i,o){n&&n.m(i,o),D(i,t,o)},p(i,[o]){i[0]&&i[1]?n?(n.p(i,o),o&3&&mt(n,1)):(n=In(i),n.c(),mt(n,1),n.m(t.parentNode,t)):n&&(Nn(),Et(n,1,1,()=>{n=null}),Fn())},i(i){mt(n)},o(i){Et(n)},d(i){i&&g(t),n&&n.d(i)}}}function Lo(e,t,n){let i,o;Yt(e,Tt,c=>n(5,o=c));let s=!1,r="",l="",a;return oi(()=>{a&&clearTimeout(a)}),e.$$.update=()=>{e.$$.dirty&32&&n(4,i=o.playlist?.[o.currentTrackIndex]),e.$$.dirty&28&&i&&i.id!==l&&(n(2,l=i.id||""),n(1,r=`${i.title} â€¢ ${i.artist}`),n(0,s=!0),a&&clearTimeout(a),n(3,a=setTimeout(()=>{n(0,s=!1)},4e3)))},[s,r,l,a,i,o]}class Po extends Qt{constructor(t){super(),Gt(this,t,Lo,Do,Kt,{})}}function Bo(e){let t,n,i,o,s,r,l,a,c,d,p;n=new po({});const b=e[1].default,u=ri(b,e,e[0],null);return r=new bo({}),a=new Ro({}),d=new Po({}),{c(){t=y("div"),_e(n.$$.fragment),i=R(),o=y("div"),u&&u.c(),s=R(),_e(r.$$.fragment),l=R(),_e(a.$$.fragment),c=R(),_e(d.$$.fragment),this.h()},l(h){t=x(h,"DIV",{class:!0});var v=w(t);we(n.$$.fragment,v),i=O(v),o=x(v,"DIV",{class:!0});var _=w(o);u&&u.l(_),_.forEach(g),s=O(v),we(r.$$.fragment,v),l=O(v),we(a.$$.fragment,v),c=O(v),we(d.$$.fragment,v),v.forEach(g),this.h()},h(){f(o,"class","relative z-10"),f(t,"class","min-h-screen w-full relative")},m(h,v){D(h,t,v),be(n,t,null),m(t,i),m(t,o),u&&u.m(o,null),m(t,s),be(r,t,null),m(t,l),be(a,t,null),m(t,c),be(d,t,null),p=!0},p(h,[v]){u&&u.p&&(!p||v&1)&&si(u,b,h,h[0],p?ai(b,h[0],v,null):li(h[0]),null)},i(h){p||(mt(n.$$.fragment,h),mt(u,h),mt(r.$$.fragment,h),mt(a.$$.fragment,h),mt(d.$$.fragment,h),p=!0)},o(h){Et(n.$$.fragment,h),Et(u,h),Et(r.$$.fragment,h),Et(a.$$.fragment,h),Et(d.$$.fragment,h),p=!1},d(h){h&&g(t),ve(n),u&&u.d(h),ve(r),ve(a),ve(d)}}}function Io(e,t,n){let{$$slots:i={},$$scope:o}=t;return uo.set({computePosition:co,autoUpdate:oo,offset:ro,shift:so,flip:lo,arrow:ao}),qe(()=>{pi()}),e.$$set=s=>{"$$scope"in s&&n(0,o=s.$$scope)},[o,i]}class $o extends Qt{constructor(t){super(),Gt(this,t,Io,Bo,Kt,{})}}export{$o as component};
