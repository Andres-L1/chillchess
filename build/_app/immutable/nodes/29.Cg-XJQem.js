import{s as te,n as K,d as h,q as f,i as A,a as o,y as ie,b as _,r as L,e as Q,f as k,v as x,c as R,o as se,z as X,C as m,p as Y,l as D,g as O,t as Z,w as $}from"../chunks/BckIrkyu.js";import{S as le,i as re}from"../chunks/km8sfNIa.js";import{a as ae}from"../chunks/Dd3AVUpa.js";import{p as oe}from"../chunks/BFllfxPg.js";import{p as ne,b as ce,d as de}from"../chunks/5dAqgG7A.js";function ue(i){let e,t,s='<div class="absolute inset-0 bg-primary-500/20 rounded-full blur-2xl opacity-30 animate-pulse svelte-fbobk6"></div> <img src="/logo-desktop.png" alt="ChillChess" class="h-20 w-auto relative z-10 drop-shadow-xl animate-float object-contain svelte-fbobk6"/>';return{c(){e=k("div"),t=k("div"),t.innerHTML=s,this.h()},l(l){e=_(l,"DIV",{class:!0,style:!0});var d=D(e);t=_(d,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-1damdv7"&&(t.innerHTML=s),d.forEach(h),this.h()},h(){o(t,"class","relative mb-2 svelte-fbobk6"),o(e,"class","widget-idle font-poppins flex flex-col items-center justify-center transition-all duration-500 svelte-fbobk6"),m(e,"width",i[0].width),m(e,"opacity",i[4])},m(l,d){A(l,e,d),f(e,t)},p(l,d){d&1&&m(e,"width",l[0].width),d&16&&m(e,"opacity",l[4])},d(l){l&&h(e)}}}function fe(i){let e,t,s,l,d,a,r,n,H='<div class="w-[25%] h-[25%] bg-[#0B1120] rounded-full border border-white/20 backdrop-blur-sm shadow-inner svelte-fbobk6"></div>',C,c,y,I=i[3].title+"",E,M,j,z,v=i[3].artist+"",w,S,T,p,q,F,P,G='<div class="bar-min bar-1 svelte-fbobk6"></div> <div class="bar-min bar-2 svelte-fbobk6"></div> <div class="bar-min bar-3 svelte-fbobk6"></div>',g=i[5]&&ee();return{c(){e=k("div"),t=k("div"),s=k("div"),l=k("img"),r=x(),n=k("div"),n.innerHTML=H,C=x(),c=k("div"),y=k("div"),E=$(I),j=x(),z=k("div"),w=$(v),S=x(),T=k("div"),p=k("div"),q=x(),g&&g.c(),F=x(),P=k("div"),P.innerHTML=G,this.h()},l(b){e=_(b,"DIV",{class:!0,style:!0});var u=D(e);t=_(u,"DIV",{class:!0,style:!0});var N=D(t);s=_(N,"DIV",{class:!0});var B=D(s);l=_(B,"IMG",{src:!0,alt:!0,class:!0}),r=L(B),n=_(B,"DIV",{class:!0,"data-svelte-h":!0}),O(n)!=="svelte-10v1u93"&&(n.innerHTML=H),B.forEach(h),N.forEach(h),C=L(u),c=_(u,"DIV",{class:!0});var V=D(c);y=_(V,"DIV",{class:!0});var U=D(y);E=Z(U,I),U.forEach(h),j=L(V),z=_(V,"DIV",{class:!0,style:!0});var W=D(z);w=Z(W,v),W.forEach(h),S=L(V),T=_(V,"DIV",{class:!0});var J=D(T);p=_(J,"DIV",{class:!0,style:!0}),D(p).forEach(h),J.forEach(h),q=L(V),g&&g.l(V),V.forEach(h),F=L(u),P=_(u,"DIV",{class:!0,"data-svelte-h":!0}),O(P)!=="svelte-1acrqab"&&(P.innerHTML=G),u.forEach(h),this.h()},h(){X(l.src,d=i[3].cover||"/logo-mobile.png")||o(l,"src",d),o(l,"alt",a=i[3].title),o(l,"class","w-full h-full object-cover rounded-full shadow-2xl border-[3px] border-white/10 svelte-fbobk6"),o(n,"class","absolute inset-0 flex items-center justify-center pointer-events-none svelte-fbobk6"),o(s,"class","relative w-full h-full animate-spin-slow svelte-fbobk6"),o(t,"class","album-container svelte-fbobk6"),m(t,"width",i[0].imgSize),m(t,"height",i[0].imgSize),o(y,"class",M="track-title "+i[0].fontSize+" svelte-fbobk6"),o(z,"class","artist-name svelte-fbobk6"),m(z,"font-size",i[0].fontSize==="text-lg"?"14px":i[0].fontSize==="text-base"?"12px":"10px"),o(p,"class","progress-bar svelte-fbobk6"),m(p,"width",i[1]+"%"),o(T,"class","progress-container svelte-fbobk6"),o(c,"class","track-info svelte-fbobk6"),o(P,"class","equalizer-minimal svelte-fbobk6"),o(e,"class","widget-container font-poppins svelte-fbobk6"),m(e,"width",i[0].width),m(e,"opacity",i[4])},m(b,u){A(b,e,u),f(e,t),f(t,s),f(s,l),f(s,r),f(s,n),f(e,C),f(e,c),f(c,y),f(y,E),f(c,j),f(c,z),f(z,w),f(c,S),f(c,T),f(T,p),f(c,q),g&&g.m(c,null),f(e,F),f(e,P)},p(b,u){u&8&&!X(l.src,d=b[3].cover||"/logo-mobile.png")&&o(l,"src",d),u&8&&a!==(a=b[3].title)&&o(l,"alt",a),u&1&&m(t,"width",b[0].imgSize),u&1&&m(t,"height",b[0].imgSize),u&8&&I!==(I=b[3].title+"")&&Y(E,I),u&1&&M!==(M="track-title "+b[0].fontSize+" svelte-fbobk6")&&o(y,"class",M),u&8&&v!==(v=b[3].artist+"")&&Y(w,v),u&1&&m(z,"font-size",b[0].fontSize==="text-lg"?"14px":b[0].fontSize==="text-base"?"12px":"10px"),u&2&&m(p,"width",b[1]+"%"),b[5]?g||(g=ee(),g.c(),g.m(c,null)):g&&(g.d(1),g=null),u&1&&m(e,"width",b[0].width),u&16&&m(e,"opacity",b[4])},d(b){b&&h(e),g&&g.d()}}}function ee(i){let e,t='<img src="/logo-desktop.png" alt="ChillChess" class="h-14 w-auto object-contain opacity-100 svelte-fbobk6"/>';return{c(){e=k("div"),e.innerHTML=t,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-1258kp4"&&(e.innerHTML=t),this.h()},h(){o(e,"class","logo-container mt-2 svelte-fbobk6")},m(s,l){A(s,e,l)},d(s){s&&h(e)}}}function be(i){let e,t,s;function l(r,n){return r[3]&&r[2]?fe:ue}let d=l(i),a=d(i);return{c(){e=k("meta"),t=x(),a.c(),s=Q(),this.h()},l(r){const n=ie("svelte-1umwrny",document.head);e=_(n,"META",{name:!0,content:!0,class:!0}),n.forEach(h),t=L(r),a.l(r),s=Q(),this.h()},h(){document.title="ChillChess Widget - OBS Overlay",o(e,"name","robots"),o(e,"content","noindex"),o(e,"class","svelte-fbobk6")},m(r,n){f(document.head,e),A(r,t,n),a.m(r,n),A(r,s,n)},p(r,[n]){d===(d=l(r))&&a?a.p(r,n):(a.d(1),a=d(r),a&&(a.c(),a.m(s.parentNode,s)))},i:K,o:K,d(r){r&&(h(t),h(s)),h(e),a.d(r)}}}function ve(i,e,t){let s,l,d,a,r,n,H,C,c,y,I,E,M,j,z,v,w;R(i,ae,p=>t(16,v=p)),R(i,oe,p=>t(17,w=p));let S=null;se(()=>{if(a){const p=ne(ce(de,"nowPlaying",a),q=>{q.exists()&&t(6,S=q.data())});return()=>p()}});const T={compact:{width:"300px",imgSize:"60px",fontSize:"text-sm"},medium:{width:"380px",imgSize:"72px",fontSize:"text-base"},large:{width:"450px",imgSize:"90px",fontSize:"text-lg"}};return i.$$.update=()=>{i.$$.dirty&131072&&w.url.searchParams.get("theme"),i.$$.dirty&131072&&t(7,s=w.url.searchParams.get("size")||"medium"),i.$$.dirty&131072&&t(5,l=w.url.searchParams.get("showLogo")!=="false"),i.$$.dirty&131072&&t(4,d=parseFloat(w.url.searchParams.get("opacity")||"0.9")),i.$$.dirty&131072&&t(8,a=w.url.searchParams.get("uid")),i.$$.dirty&65536&&t(15,r=v.playlist),i.$$.dirty&65536&&t(14,n=v.currentTrackIndex),i.$$.dirty&65536&&t(13,H=v.currentAlbumId),i.$$.dirty&65536&&t(9,C=v.isPlaying),i.$$.dirty&49152&&t(12,c=r&&r[n]),i.$$.dirty&73728&&t(11,y=v.availableAlbums.find(p=>p.id===H)),i.$$.dirty&6144&&t(10,I=c&&y?{title:c.title,artist:c.artist||y.artist,cover:c.coverUrl||c.cover||y.cover}:null),i.$$.dirty&1344&&t(3,E=a?S?.track:I),i.$$.dirty&832&&t(2,M=a?S?.isPlaying:C),i.$$.dirty&65856&&t(1,j=a&&S?(S.track.currentTime||0)/(S.track.duration||1)*100:v.duration>0?v.currentTime/v.duration*100:0),i.$$.dirty&128&&t(0,z=T[s]||T.medium)},[z,j,M,E,d,l,S,s,a,C,I,y,c,H,n,r,v,w]}class ke extends le{constructor(e){super(),re(this,e,ve,be,te,{})}}export{ke as component};
