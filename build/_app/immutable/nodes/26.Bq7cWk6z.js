import{_ as It}from"../chunks/CmsKOCeN.js";import{s as kt,n as Tt,d as v,D as St,E as Vt,a as e,p as Pt,i as Nt,q as t,x as J,K as qt,y as Lt,r as m,b as a,l as _,g as x,t as Ot,v as p,f as r,w as Ut,c as At,o as Bt}from"../chunks/BckIrkyu.js";import{S as Rt,i as jt}from"../chunks/km8sfNIa.js";import{g as bt}from"../chunks/BkPvZzYy.js";import{u as zt}from"../chunks/Bf7cs9Dz.js";import{t as Mt}from"../chunks/C-5qQ3rF.js";function Ht(n){let k,i,l,d,S="‚Üê Volver",D,c,C,Q="Crear Sala de Escucha",W,I,T="Escucha m√∫sica sincronizada con tus amigos en tiempo real.",F,u,y,f,X="Nombre de la Sala",P,s,K,w,q,ht="Privacidad",lt,V,b,L,vt="üåç",ot,O,xt="P√∫blica",nt,U,ft="Visible para todos",Y,it,h,A,_t="üîí",dt,B,Ct="Privada",ct,R,yt="Solo con enlace",Z,ut,g,G=n[2]?"Creando...":"Crear Sala",$,tt,mt,j,wt='<h3 class="text-sm font-bold mb-2 flex items-center gap-2"><span>‚ÑπÔ∏è</span> <span>¬øC√≥mo funciona?</span></h3> <ul class="text-xs text-slate-300 space-y-1"><li>‚Ä¢ Como host, t√∫ controlas la reproducci√≥n.</li> <li>‚Ä¢ Todos en la sala escuchan lo mismo sincronizado.</li> <li>‚Ä¢ Comparte el enlace de la sala para invitar amigos.</li></ul>',pt,gt;return{c(){k=p(),i=r("div"),l=r("div"),d=r("button"),d.textContent=S,D=p(),c=r("div"),C=r("h1"),C.textContent=Q,W=p(),I=r("p"),I.textContent=T,F=p(),u=r("form"),y=r("div"),f=r("label"),f.textContent=X,P=p(),s=r("input"),K=p(),w=r("div"),q=r("span"),q.textContent=ht,lt=p(),V=r("div"),b=r("button"),L=r("div"),L.textContent=vt,ot=p(),O=r("div"),O.textContent=xt,nt=p(),U=r("div"),U.textContent=ft,it=p(),h=r("button"),A=r("div"),A.textContent=_t,dt=p(),B=r("div"),B.textContent=Ct,ct=p(),R=r("div"),R.textContent=yt,ut=p(),g=r("button"),$=Ut(G),mt=p(),j=r("div"),j.innerHTML=wt,this.h()},l(o){Lt("svelte-dev30t",document.head).forEach(v),k=m(o),i=a(o,"DIV",{class:!0});var Et=_(i);l=a(Et,"DIV",{class:!0});var et=_(l);d=a(et,"BUTTON",{class:!0,"data-svelte-h":!0}),x(d)!=="svelte-1yl585v"&&(d.textContent=S),D=m(et),c=a(et,"DIV",{class:!0});var N=_(c);C=a(N,"H1",{class:!0,"data-svelte-h":!0}),x(C)!=="svelte-icfo5g"&&(C.textContent=Q),W=m(N),I=a(N,"P",{class:!0,"data-svelte-h":!0}),x(I)!=="svelte-ozm30q"&&(I.textContent=T),F=m(N),u=a(N,"FORM",{class:!0});var z=_(u);y=a(z,"DIV",{});var at=_(y);f=a(at,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(f)!=="svelte-1dqwzh5"&&(f.textContent=X),P=m(at),s=a(at,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0,maxlength:!0}),at.forEach(v),K=m(z),w=a(z,"DIV",{});var rt=_(w);q=a(rt,"SPAN",{class:!0,"data-svelte-h":!0}),x(q)!=="svelte-1yf5dhr"&&(q.textContent=ht),lt=m(rt),V=a(rt,"DIV",{class:!0});var st=_(V);b=a(st,"BUTTON",{type:!0,class:!0});var M=_(b);L=a(M,"DIV",{class:!0,"data-svelte-h":!0}),x(L)!=="svelte-2vuqqj"&&(L.textContent=vt),ot=m(M),O=a(M,"DIV",{class:!0,"data-svelte-h":!0}),x(O)!=="svelte-1wayyrj"&&(O.textContent=xt),nt=m(M),U=a(M,"DIV",{class:!0,"data-svelte-h":!0}),x(U)!=="svelte-19rwtna"&&(U.textContent=ft),M.forEach(v),it=m(st),h=a(st,"BUTTON",{type:!0,class:!0});var H=_(h);A=a(H,"DIV",{class:!0,"data-svelte-h":!0}),x(A)!=="svelte-3r474r"&&(A.textContent=_t),dt=m(H),B=a(H,"DIV",{class:!0,"data-svelte-h":!0}),x(B)!=="svelte-118xmr3"&&(B.textContent=Ct),ct=m(H),R=a(H,"DIV",{class:!0,"data-svelte-h":!0}),x(R)!=="svelte-da78ny"&&(R.textContent=yt),H.forEach(v),st.forEach(v),rt.forEach(v),ut=m(z),g=a(z,"BUTTON",{type:!0,class:!0});var Dt=_(g);$=Ot(Dt,G),Dt.forEach(v),z.forEach(v),mt=m(N),j=a(N,"DIV",{class:!0,"data-svelte-h":!0}),x(j)!=="svelte-tij9gl"&&(j.innerHTML=wt),N.forEach(v),et.forEach(v),Et.forEach(v),this.h()},h(){document.title="Crear Sala | ChillChess",e(d,"class","text-slate-400 hover:text-white mb-6 flex items-center gap-2"),e(C,"class","text-3xl font-bold mb-2"),e(I,"class","text-slate-400 mb-8"),e(f,"for","roomName"),e(f,"class","block text-sm font-medium mb-2"),e(s,"id","roomName"),e(s,"type","text"),e(s,"placeholder","Ej: Sesi√≥n de Estudio Nocturna"),e(s,"class","w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl focus:outline-none focus:border-primary-500 transition-colors"),e(s,"maxlength","50"),s.required=!0,e(q,"class","block text-sm font-medium mb-3"),e(L,"class","text-2xl mb-1"),e(O,"class","text-sm font-bold"),e(U,"class","text-xs opacity-70"),e(b,"type","button"),e(b,"class",Y="flex-1 py-3 px-4 rounded-xl transition-all "+(n[1]?"bg-primary-500 text-white border-2 border-primary-500":"bg-white/5 text-slate-400 border-2 border-white/10 hover:border-white/20")),e(A,"class","text-2xl mb-1"),e(B,"class","text-sm font-bold"),e(R,"class","text-xs opacity-70"),e(h,"type","button"),e(h,"class",Z="flex-1 py-3 px-4 rounded-xl transition-all "+(n[1]?"bg-white/5 text-slate-400 border-2 border-white/10 hover:border-white/20":"bg-primary-500 text-white border-2 border-primary-500")),e(V,"class","flex gap-4"),e(g,"type","submit"),g.disabled=tt=!n[0].trim()||n[2],e(g,"class","w-full py-4 bg-primary-500 hover:bg-primary-600 disabled:bg-white/10 disabled:text-slate-500 rounded-xl font-bold transition-all disabled:cursor-not-allowed"),e(u,"class","space-y-6"),e(j,"class","mt-8 p-4 bg-blue-500/10 border border-blue-500/20 rounded-xl"),e(c,"class","bg-white/5 border border-white/10 rounded-3xl p-8 backdrop-blur-xl"),e(l,"class","max-w-2xl mx-auto"),e(i,"class","min-h-screen bg-[#0B1120] text-white font-poppins p-8")},m(o,E){Nt(o,k,E),Nt(o,i,E),t(i,l),t(l,d),t(l,D),t(l,c),t(c,C),t(c,W),t(c,I),t(c,F),t(c,u),t(u,y),t(y,f),t(y,P),t(y,s),Vt(s,n[0]),t(u,K),t(u,w),t(w,q),t(w,lt),t(w,V),t(V,b),t(b,L),t(b,ot),t(b,O),t(b,nt),t(b,U),t(V,it),t(V,h),t(h,A),t(h,dt),t(h,B),t(h,ct),t(h,R),t(u,ut),t(u,g),t(g,$),t(c,mt),t(c,j),pt||(gt=[J(d,"click",n[4]),J(s,"input",n[5]),J(b,"click",n[6]),J(h,"click",n[7]),J(u,"submit",qt(n[3]))],pt=!0)},p(o,[E]){E&1&&s.value!==o[0]&&Vt(s,o[0]),E&2&&Y!==(Y="flex-1 py-3 px-4 rounded-xl transition-all "+(o[1]?"bg-primary-500 text-white border-2 border-primary-500":"bg-white/5 text-slate-400 border-2 border-white/10 hover:border-white/20"))&&e(b,"class",Y),E&2&&Z!==(Z="flex-1 py-3 px-4 rounded-xl transition-all "+(o[1]?"bg-white/5 text-slate-400 border-2 border-white/10 hover:border-white/20":"bg-primary-500 text-white border-2 border-primary-500"))&&e(h,"class",Z),E&4&&G!==(G=o[2]?"Creando...":"Crear Sala")&&Pt($,G),E&5&&tt!==(tt=!o[0].trim()||o[2])&&(g.disabled=tt)},i:Tt,o:Tt,d(o){o&&(v(k),v(i)),pt=!1,St(gt)}}}function Ft(n,k,i){let l;At(n,zt,T=>i(8,l=T));let d="",S=!0,D=!1;Bt(()=>{l.isLoggedIn||bt("/")});async function c(){if(!(!d.trim()||D)){i(2,D=!0);try{const{collection:T,addDoc:F,serverTimestamp:u}=await It(async()=>{const{collection:P,addDoc:s,serverTimestamp:K}=await import("../chunks/5dAqgG7A.js").then(w=>w.E);return{collection:P,addDoc:s,serverTimestamp:K}},[],import.meta.url),{db:y}=await It(async()=>{const{db:P}=await import("../chunks/5dAqgG7A.js").then(s=>s.F);return{db:P}},[],import.meta.url),f={name:d.trim(),hostId:l.user?.uid,hostName:l.user?.displayName||"Usuario",createdAt:u(),isPublic:S,currentTrack:null,participants:{[l.user?.uid||"unknown"]:{displayName:l.user?.displayName||"Usuario",joinedAt:u()}}},X=await F(T(y,"listeningRooms"),f);bt(`/rooms/${X.id}`)}catch(T){console.error("Error creating room:",T),Mt.error("Error al crear la sala. Intenta de nuevo.")}finally{i(2,D=!1)}}}const C=()=>bt("/rooms");function Q(){d=this.value,i(0,d)}return[d,S,D,c,C,Q,()=>i(1,S=!0),()=>i(1,S=!1)]}class Yt extends Rt{constructor(k){super(),jt(this,k,Ft,Ht,kt,{})}}export{Yt as component};
