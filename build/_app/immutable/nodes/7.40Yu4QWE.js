import{S as q,i as H,s as X,n as U,d as g,z as K,A as P,b as L,v as m,g as x,h as A,q as y,j as V,B as R,C as N,k as C,D as k,E as F,o as Q,F as W}from"../chunks/C6etf3KI.js";import{e as j}from"../chunks/SWtz04H7.js";import"../chunks/IHki7fMi.js";import{o as Z,a as $,w as ee,d as S,b as G}from"../chunks/CSpmTaba.js";import{A as z}from"../chunks/C3wcvxbl.js";function J(n,t,e){const s=n.slice();return s[5]=t[e],s}function Y(n){let t,e=n[5]+"",s,a;return{c(){t=C("p"),s=F(e),a=k(),this.h()},l(i){t=A(i,"P",{class:!0});var r=y(t);s=N(r,e),a=R(r),r.forEach(g),this.h()},h(){x(t,"class","text-xs text-slate-300 border-l-2 border-slate-700 pl-2 mb-1")},m(i,r){L(i,t,r),m(t,s),m(t,a)},p(i,r){r&2&&e!==(e=i[5]+"")&&P(s,e)},d(i){i&&g(t)}}}function te(n){let t,e="Debes iniciar sesi√≥n como Administrador primero.";return{c(){t=C("div"),t.textContent=e,this.h()},l(s){t=A(s,"DIV",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-ts380g"&&(t.textContent=e),this.h()},h(){x(t,"class","p-4 bg-red-500/20 text-red-200 rounded border border-red-500/50 text-center")},m(s,a){L(s,t,a)},p:U,d(s){s&&g(t)}}}function se(n){let t,e=n[2]?"MIGRANDO... (NO CIERRES)":"INICIAR MIGRACI√ìN A LA NUBE üöÄ",s,a,i;return{c(){t=C("button"),s=F(e),this.h()},l(r){t=A(r,"BUTTON",{class:!0});var u=y(t);s=N(u,e),u.forEach(g),this.h()},h(){t.disabled=n[2],x(t,"class","w-full py-4 bg-primary-600 hover:bg-primary-500 disabled:bg-slate-700 text-white font-bold rounded-lg transition-all shadow-lg shadow-primary-500/20")},m(r,u){L(r,t,u),m(t,s),a||(i=W(t,"click",n[4]),a=!0)},p(r,u){u&4&&e!==(e=r[2]?"MIGRANDO... (NO CIERRES)":"INICIAR MIGRACI√ìN A LA NUBE üöÄ")&&P(s,e),u&4&&(t.disabled=r[2])},d(r){r&&g(t),a=!1,i()}}}function ae(n){let t,e,s,a="System Migration Tool",i,r,u=`Esta herramienta subir√° el contenido est√°tico (Albums.ts) y el\r
            perfil de JULYACTV a la base de datos Firestore en tiempo real.`,d,h,f,w,E,_,M,I=j(n[1]),c=[];for(let o=0;o<I.length;o+=1)c[o]=Y(J(n,I,o));function B(o,b){return o[3]?se:te}let D=B(n),p=D(n);return{c(){t=C("div"),e=C("div"),s=C("h1"),s.textContent=a,i=k(),r=C("p"),r.textContent=u,d=k(),h=C("div"),f=C("p"),w=F("> ESTADO: "),E=F(n[0]),_=k();for(let o=0;o<c.length;o+=1)c[o].c();M=k(),p.c(),this.h()},l(o){t=A(o,"DIV",{class:!0});var b=y(t);e=A(b,"DIV",{class:!0});var l=y(e);s=A(l,"H1",{class:!0,"data-svelte-h":!0}),V(s)!=="svelte-1yefwly"&&(s.textContent=a),i=R(l),r=A(l,"P",{class:!0,"data-svelte-h":!0}),V(r)!=="svelte-hn13iy"&&(r.textContent=u),d=R(l),h=A(l,"DIV",{class:!0});var v=y(h);f=A(v,"P",{class:!0});var O=y(f);w=N(O,"> ESTADO: "),E=N(O,n[0]),O.forEach(g),_=R(v);for(let T=0;T<c.length;T+=1)c[T].l(v);v.forEach(g),M=R(l),p.l(l),l.forEach(g),b.forEach(g),this.h()},h(){x(s,"class","text-3xl font-bold mb-2 text-primary-500"),x(r,"class","text-slate-400 mb-6"),x(f,"class","text-green-400 font-bold mb-2"),x(h,"class","bg-black/50 p-4 rounded border border-white/10 mb-6 min-h-[100px] max-h-[300px] overflow-y-auto"),x(e,"class","max-w-2xl w-full bg-white/5 border border-white/10 rounded-xl p-6"),x(t,"class","min-h-screen bg-black text-white font-mono p-8 flex flex-col items-center")},m(o,b){L(o,t,b),m(t,e),m(e,s),m(e,i),m(e,r),m(e,d),m(e,h),m(h,f),m(f,w),m(f,E),m(h,_);for(let l=0;l<c.length;l+=1)c[l]&&c[l].m(h,null);m(e,M),p.m(e,null)},p(o,[b]){if(b&1&&P(E,o[0]),b&2){I=j(o[1]);let l;for(l=0;l<I.length;l+=1){const v=J(o,I,l);c[l]?c[l].p(v,b):(c[l]=Y(v),c[l].c(),c[l].m(h,null))}for(;l<c.length;l+=1)c[l].d(1);c.length=I.length}D===(D=B(o))&&p?p.p(o,b):(p.d(1),p=D(o),p&&(p.c(),p.m(e,null)))},i:U,o:U,d(o){o&&g(t),K(c,o),p.d()}}}function re(n,t,e){let s="Esperando autenticaci√≥n...",a=[],i=!1,r=!1;Q(()=>{Z($,d=>{d?d.email==="andreslgumuzio@gmail.com"?(e(3,r=!0),e(0,s="Listo para migrar. Logueado como "+d.email)):e(0,s="No tienes permisos (Email no coincide)."):e(0,s="Por favor inicia sesi√≥n primero en /admin")})});async function u(){if(!i){e(2,i=!0),e(1,a=["Iniciando migraci√≥n masiva...","---"]);try{const d=ee(S);e(1,a=[...a,">> Preparando perfil de JULYACTV..."]);const h=G(S,"artists","julyactv-official");d.set(h,{userId:"julyactv-official",artistName:"JULYACTV",bio:"Visionario del sonido urbano y creador de atm√≥sferas inmersivas en ChillChess.",avatarUrl:"/assets/images/covers/asap.jpg",isVerified:!0,followerCount:0,socialLinks:[{platform:"twitter",url:"https://twitter.com/julyactv"},{platform:"instagram",url:"https://instagram.com/julyactv"}],createdAt:Date.now(),updatedAt:Date.now()}),e(1,a=[...a,`>> Preparando ${z.length} √°lbumes...`]);for(const f of z){const w=G(S,"albums",f.id),E=f.tracks?.map(_=>({id:_.id,title:_.title,artist:_.artist,file:_.file,duration:_.duration||0}))||[];d.set(w,{...f,tracks:E,lastUpdated:Date.now()}),e(1,a=[...a,`   + √Ålbum: ${f.title}`])}e(1,a=[...a,"---","Enviando datos a Firebase (Commit Batch)..."]),await d.commit(),e(1,a=[...a,"‚úÖ ¬°MIGRACI√ìN COMPLETADA CON √âXITO!","Ahora los datos est√°n en la nube."]),e(0,s="Migraci√≥n Finalizada.")}catch(d){console.error(d),e(1,a=[...a,"‚ùå ERROR FATAL:",d.message]),e(0,s="Error en la migraci√≥n.")}finally{e(2,i=!1)}}}return[s,a,i,r,u]}class de extends q{constructor(t){super(),H(this,t,re,ae,X,{})}}export{de as component};
