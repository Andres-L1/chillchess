import{S as be,i as me,s as we,n as z,d as f,b as C,e as oe,W as ve,L as le,A as Q,v as h,F as V,Q as ke,g as a,h as v,q as g,B as U,j as X,C as A,k,D,E as G,T as ge,N as J,Y as ye,w as M,x as L,y as te}from"./BJqnC6n6.js";import"./IHki7fMi.js";import{z as Ee,a as K,A as Ce,B as Te,C as xe}from"./Cc16BkMR.js";function ne(s){let t,e,r,l,o,i="âœ•",n,c,_=s[2]?"ğŸ”‘":"â™Ÿï¸",x,u,d,O,T,E,y,p,m,j,F='<a href="/privacy" target="_blank" class="hover:text-white underline transition-colors">Privacidad</a> <span>â€¢</span> <a href="/terms" target="_blank" class="hover:text-white underline transition-colors">TÃ©rminos</a>',Y,Z;function $(b,B){return b[2]?Ne:Ie}let H=$(s),R=H(s);function w(b,B){return b[2]?Pe:Be}let W=w(s),S=W(s),I=!s[2]&&ue(s),N=s[7]&&ce(s);function re(b,B){return b[3]&&b[2]?De:Ue}let ee=re(s),q=ee(s);return{c(){t=k("div"),e=k("button"),r=D(),l=k("div"),o=k("button"),o.textContent=i,n=D(),c=k("div"),x=G(_),u=D(),d=k("h2"),R.c(),O=D(),T=k("p"),S.c(),E=D(),I&&I.c(),y=D(),N&&N.c(),p=D(),q.c(),m=D(),j=k("div"),j.innerHTML=F,this.h()},l(b){t=v(b,"DIV",{class:!0});var B=g(t);e=v(B,"BUTTON",{class:!0,"aria-label":!0}),g(e).forEach(f),r=U(B),l=v(B,"DIV",{class:!0,role:!0,"aria-modal":!0,tabindex:!0});var P=g(l);o=v(P,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),X(o)!=="svelte-i5n6q2"&&(o.textContent=i),n=U(P),c=v(P,"DIV",{class:!0});var se=g(c);x=A(se,_),se.forEach(f),u=U(P),d=v(P,"H2",{class:!0});var ie=g(d);R.l(ie),ie.forEach(f),O=U(P),T=v(P,"P",{class:!0});var ae=g(T);S.l(ae),ae.forEach(f),E=U(P),I&&I.l(P),y=U(P),N&&N.l(P),p=U(P),q.l(P),m=U(P),j=v(P,"DIV",{class:!0,"data-svelte-h":!0}),X(j)!=="svelte-1asjxv2"&&(j.innerHTML=F),P.forEach(f),B.forEach(f),this.h()},h(){a(e,"class","absolute inset-0 w-full h-full bg-black/60 backdrop-blur-sm cursor-default focus:outline-none"),a(e,"aria-label","Cerrar modal"),a(o,"class","absolute top-4 right-4 text-white/50 hover:text-white transition-colors p-1"),a(o,"aria-label","Cerrar"),a(c,"class","w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center mb-6 text-3xl shadow-lg"),a(d,"class","text-2xl font-bold font-poppins mb-2 text-center"),a(T,"class","text-white/60 text-sm mb-6 leading-relaxed text-center"),a(j,"class","mt-6 flex justify-center gap-4 text-xs text-white/30 w-full border-t border-white/5 pt-4"),a(l,"class","relative w-full max-w-sm bg-[#1a1a1a]/95 border border-white/10 rounded-2xl shadow-2xl overflow-hidden glass-panel p-8 text-white pointer-events-auto z-10 flex flex-col items-center svelte-p6piuy"),a(l,"role","dialog"),a(l,"aria-modal","true"),a(l,"tabindex","-1"),a(t,"class","fixed inset-0 z-[100] flex items-center justify-center p-4")},m(b,B){C(b,t,B),h(t,e),h(t,r),h(t,l),h(l,o),h(l,n),h(l,c),h(c,x),h(l,u),h(l,d),R.m(d,null),h(l,O),h(l,T),S.m(T,null),h(l,E),I&&I.m(l,null),h(l,y),N&&N.m(l,null),h(l,p),q.m(l,null),h(l,m),h(l,j),Y||(Z=[V(e,"click",s[10]),V(o,"click",s[10]),V(l,"click",ke(s[11])),V(l,"keydown",s[20])],Y=!0)},p(b,B){B&4&&_!==(_=b[2]?"ğŸ”‘":"â™Ÿï¸")&&Q(x,_),H===(H=$(b))&&R?R.p(b,B):(R.d(1),R=H(b),R&&(R.c(),R.m(d,null))),W===(W=w(b))&&S?S.p(b,B):(S.d(1),S=W(b),S&&(S.c(),S.m(T,null))),b[2]?I&&(I.d(1),I=null):I?I.p(b,B):(I=ue(b),I.c(),I.m(l,y)),b[7]?N?N.p(b,B):(N=ce(b),N.c(),N.m(l,p)):N&&(N.d(1),N=null),ee===(ee=re(b))&&q?q.p(b,B):(q.d(1),q=ee(b),q&&(q.c(),q.m(l,m)))},d(b){b&&f(t),R.d(),S.d(),I&&I.d(),N&&N.d(),q.d(),Y=!1,le(Z)}}}function Ie(s){let t=s[1]?"Crear Cuenta":"Bienvenido",e;return{c(){e=G(t)},l(r){e=A(r,t)},m(r,l){C(r,e,l)},p(r,l){l&2&&t!==(t=r[1]?"Crear Cuenta":"Bienvenido")&&Q(e,t)},d(r){r&&f(e)}}}function Ne(s){let t;return{c(){t=G("Recuperar ContraseÃ±a")},l(e){t=A(e,"Recuperar ContraseÃ±a")},m(e,r){C(e,t,r)},p:z,d(e){e&&f(t)}}}function Be(s){let t=s[1]?"Ãšnete para guardar tu progreso y desbloquear vibes.":"Accede a tu espacio de concentraciÃ³n.",e;return{c(){e=G(t)},l(r){e=A(r,t)},m(r,l){C(r,e,l)},p(r,l){l&2&&t!==(t=r[1]?"Ãšnete para guardar tu progreso y desbloquear vibes.":"Accede a tu espacio de concentraciÃ³n.")&&Q(e,t)},d(r){r&&f(e)}}}function Pe(s){let t=s[3]?"Â¡Correo enviado! Revisa tu bandeja de entrada.":"Ingresa tu correo y te enviaremos un enlace para restablecerla.",e;return{c(){e=G(t)},l(r){e=A(r,t)},m(r,l){C(r,e,l)},p(r,l){l&8&&t!==(t=r[3]?"Â¡Correo enviado! Revisa tu bandeja de entrada.":"Ingresa tu correo y te enviaremos un enlace para restablecerla.")&&Q(e,t)},d(r){r&&f(e)}}}function ue(s){let t,e,r,l,o,i,n,c,_,x;return{c(){t=k("div"),e=k("button"),r=G("Entrar"),o=D(),i=k("button"),n=G("Registrarse"),this.h()},l(u){t=v(u,"DIV",{class:!0});var d=g(t);e=v(d,"BUTTON",{class:!0,type:!0});var O=g(e);r=A(O,"Entrar"),O.forEach(f),o=U(d),i=v(d,"BUTTON",{class:!0,type:!0});var T=g(i);n=A(T,"Registrarse"),T.forEach(f),d.forEach(f),this.h()},h(){a(e,"class",l="flex-1 py-2 text-sm font-medium rounded-lg transition-all "+(s[1]?"text-white/40 hover:text-white":"bg-white/10 text-white shadow-sm")),a(e,"type","button"),a(i,"class",c="flex-1 py-2 text-sm font-medium rounded-lg transition-all "+(s[1]?"bg-white/10 text-white shadow-sm":"text-white/40 hover:text-white")),a(i,"type","button"),a(t,"class","flex gap-4 mb-6 bg-white/5 p-1 rounded-xl w-full")},m(u,d){C(u,t,d),h(t,e),h(e,r),h(t,o),h(t,i),h(i,n),_||(x=[V(e,"click",s[12]),V(i,"click",s[13])],_=!0)},p(u,d){d&2&&l!==(l="flex-1 py-2 text-sm font-medium rounded-lg transition-all "+(u[1]?"text-white/40 hover:text-white":"bg-white/10 text-white shadow-sm"))&&a(e,"class",l),d&2&&c!==(c="flex-1 py-2 text-sm font-medium rounded-lg transition-all "+(u[1]?"bg-white/10 text-white shadow-sm":"text-white/40 hover:text-white"))&&a(i,"class",c)},d(u){u&&f(t),_=!1,le(x)}}}function ce(s){let t,e;return{c(){t=k("div"),e=G(s[7]),this.h()},l(r){t=v(r,"DIV",{class:!0});var l=g(t);e=A(l,s[7]),l.forEach(f),this.h()},h(){a(t,"class","w-full bg-red-500/10 border border-red-500/20 text-red-200 text-xs px-4 py-2 rounded-lg mb-4 text-left")},m(r,l){C(r,t,l),h(t,e)},p(r,l){l&128&&Q(e,r[7])},d(r){r&&f(t)}}}function Ue(s){let t,e,r,l,o,i,n,c,_,x,u=!s[2]&&s[1]&&fe(s),d=!s[2]&&de(s);function O(p,m){return p[8]?Ve:Re}let T=O(s),E=T(s),y=s[2]&&pe(s);return{c(){t=k("form"),u&&u.c(),e=D(),r=k("div"),l=k("input"),o=D(),d&&d.c(),i=D(),n=k("button"),E.c(),c=D(),y&&y.c(),this.h()},l(p){t=v(p,"FORM",{class:!0});var m=g(t);u&&u.l(m),e=U(m),r=v(m,"DIV",{class:!0});var j=g(r);l=v(j,"INPUT",{type:!0,placeholder:!0,class:!0}),j.forEach(f),o=U(m),d&&d.l(m),i=U(m),n=v(m,"BUTTON",{type:!0,class:!0});var F=g(n);E.l(F),F.forEach(f),c=U(m),y&&y.l(m),m.forEach(f),this.h()},h(){a(l,"type","email"),a(l,"placeholder","Correo electrÃ³nico"),a(l,"class","w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-blue-500 transition-colors"),l.required=!0,l.disabled=s[8],a(r,"class","relative"),a(n,"type","submit"),n.disabled=s[8],a(n,"class","w-full py-3.5 bg-white text-black font-bold rounded-xl hover:bg-slate-100 transition-all hover:scale-[1.02] active:scale-[0.98] shadow-lg shadow-white/20 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed mt-2"),a(t,"class","w-full flex flex-col gap-4")},m(p,m){C(p,t,m),u&&u.m(t,null),h(t,e),h(t,r),h(r,l),J(l,s[4]),h(t,o),d&&d.m(t,null),h(t,i),h(t,n),E.m(n,null),h(t,c),y&&y.m(t,null),_||(x=[V(l,"input",s[16]),V(t,"submit",ye(s[9]))],_=!0)},p(p,m){!p[2]&&p[1]?u?u.p(p,m):(u=fe(p),u.c(),u.m(t,e)):u&&(u.d(1),u=null),m&256&&(l.disabled=p[8]),m&16&&l.value!==p[4]&&J(l,p[4]),p[2]?d&&(d.d(1),d=null):d?d.p(p,m):(d=de(p),d.c(),d.m(t,i)),T===(T=O(p))&&E?E.p(p,m):(E.d(1),E=T(p),E&&(E.c(),E.m(n,null))),m&256&&(n.disabled=p[8]),p[2]?y?y.p(p,m):(y=pe(p),y.c(),y.m(t,null)):y&&(y.d(1),y=null)},d(p){p&&f(t),u&&u.d(),d&&d.d(),E.d(),y&&y.d(),_=!1,le(x)}}}function De(s){let t,e="Volver al Inicio de SesiÃ³n",r,l;return{c(){t=k("button"),t.textContent=e,this.h()},l(o){t=v(o,"BUTTON",{class:!0,"data-svelte-h":!0}),X(t)!=="svelte-7y6unx"&&(t.textContent=e),this.h()},h(){a(t,"class","w-full py-3.5 bg-white/10 hover:bg-white/20 text-white font-bold rounded-xl transition-all")},m(o,i){C(o,t,i),r||(l=V(t,"click",s[14]),r=!0)},p:z,d(o){o&&f(t),r=!1,l()}}}function fe(s){let t,e,r,l;return{c(){t=k("div"),e=k("input"),this.h()},l(o){t=v(o,"DIV",{});var i=g(t);e=v(i,"INPUT",{type:!0,placeholder:!0,class:!0}),i.forEach(f),this.h()},h(){a(e,"type","text"),a(e,"placeholder","Nombre de usuario"),a(e,"class","w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-blue-500 transition-colors"),e.required=!0,e.disabled=s[8]},m(o,i){C(o,t,i),h(t,e),J(e,s[6]),r||(l=V(e,"input",s[15]),r=!0)},p(o,i){i&256&&(e.disabled=o[8]),i&64&&e.value!==o[6]&&J(e,o[6])},d(o){o&&f(t),r=!1,l()}}}function de(s){let t,e,r,l,o,i=!s[1]&&he(s);return{c(){t=k("div"),e=k("input"),r=D(),i&&i.c(),this.h()},l(n){t=v(n,"DIV",{});var c=g(t);e=v(c,"INPUT",{type:!0,placeholder:!0,class:!0,minlength:!0}),r=U(c),i&&i.l(c),c.forEach(f),this.h()},h(){a(e,"type","password"),a(e,"placeholder","ContraseÃ±a"),a(e,"class","w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/40 focus:outline-none focus:border-blue-500 transition-colors"),e.required=!0,a(e,"minlength","6"),e.disabled=s[8]},m(n,c){C(n,t,c),h(t,e),J(e,s[5]),h(t,r),i&&i.m(t,null),l||(o=V(e,"input",s[17]),l=!0)},p(n,c){c&256&&(e.disabled=n[8]),c&32&&e.value!==n[5]&&J(e,n[5]),n[1]?i&&(i.d(1),i=null):i?i.p(n,c):(i=he(n),i.c(),i.m(t,null))},d(n){n&&f(t),i&&i.d(),l=!1,o()}}}function he(s){let t,e,r="Â¿Olvidaste tu contraseÃ±a?",l,o;return{c(){t=k("div"),e=k("button"),e.textContent=r,this.h()},l(i){t=v(i,"DIV",{class:!0});var n=g(t);e=v(n,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1dft787"&&(e.textContent=r),n.forEach(f),this.h()},h(){a(e,"type","button"),a(e,"class","text-xs text-white/40 hover:text-white transition-colors"),a(t,"class","flex justify-end mt-2")},m(i,n){C(i,t,n),h(t,e),l||(o=V(e,"click",s[18]),l=!0)},p:z,d(i){i&&f(t),l=!1,o()}}}function Re(s){let t=s[2]?"Enviar Enlace":s[1]?"Registrarse":"Iniciar SesiÃ³n",e;return{c(){e=G(t)},l(r){e=A(r,t)},m(r,l){C(r,e,l)},p(r,l){l&6&&t!==(t=r[2]?"Enviar Enlace":r[1]?"Registrarse":"Iniciar SesiÃ³n")&&Q(e,t)},d(r){r&&f(e)}}}function Ve(s){let t;return{c(){t=k("span"),this.h()},l(e){t=v(e,"SPAN",{class:!0}),g(t).forEach(f),this.h()},h(){a(t,"class","w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin")},m(e,r){C(e,t,r)},p:z,d(e){e&&f(t)}}}function pe(s){let t,e="Cancelar",r,l;return{c(){t=k("button"),t.textContent=e,this.h()},l(o){t=v(o,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),X(t)!=="svelte-tcfcq1"&&(t.textContent=e),this.h()},h(){a(t,"type","button"),a(t,"class","w-full py-2 text-sm text-white/50 hover:text-white transition-colors")},m(o,i){C(o,t,i),r||(l=V(t,"click",s[19]),r=!0)},p:z,d(o){o&&f(t),r=!1,l()}}}function je(s){let t,e=s[0]&&ne(s);return{c(){e&&e.c(),t=oe()},l(r){e&&e.l(r),t=oe()},m(r,l){e&&e.m(r,l),C(r,t,l)},p(r,[l]){r[0]?e?e.p(r,l):(e=ne(r),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:z,o:z,d(r){r&&f(t),e&&e.d(r)}}}function Oe(s,t,e){let{show:r=!1}=t;const l=ve();let o=!1,i=!1,n=!1,c="",_="",x="",u="",d=!1;async function O(){if(!c){e(7,u="Ingresa tu correo para enviarte el enlace.");return}e(8,d=!0),e(7,u="");try{await xe(K,c),e(3,n=!0)}catch(w){console.error(w),w.code==="auth/user-not-found"?e(7,u="No encontramos una cuenta con este correo."):w.code==="auth/invalid-email"?e(7,u="El correo no es vÃ¡lido."):e(7,u="Error al enviar correo: "+w.message)}finally{e(8,d=!1)}}async function T(){if(i){await O();return}if(!c||!_){e(7,u="Por favor completa todos los campos");return}if(o&&!x){e(7,u="Necesitamos tu nombre para el perfil");return}e(8,d=!0),e(7,u="");try{let w;if(o?(w=await Ee(K,c,_),K.currentUser&&await Ce(K.currentUser,{displayName:x})):w=await Te(K,c,_),w.user){const W=await w.user.getIdToken();await fetch("/api/auth/session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:W})})}l("close")}catch(w){console.error(w),w.code==="auth/email-already-in-use"?e(7,u="Este correo ya estÃ¡ registrado. Intenta iniciar sesiÃ³n."):w.code==="auth/wrong-password"||w.code==="auth/user-not-found"||w.code==="auth/invalid-credential"?e(7,u="Credenciales incorrectas."):w.code==="auth/weak-password"?e(7,u="La contraseÃ±a debe tener al menos 6 caracteres."):e(7,u="Error: "+w.message)}finally{e(8,d=!1)}}function E(){l("close"),setTimeout(()=>{e(2,i=!1),e(3,n=!1),e(7,u="")},300)}function y(w){ge.call(this,s,w)}const p=()=>{e(1,o=!1),e(7,u="")},m=()=>{e(1,o=!0),e(7,u="")},j=()=>{e(2,i=!1),e(3,n=!1)};function F(){x=this.value,e(6,x)}function Y(){c=this.value,e(4,c)}function Z(){_=this.value,e(5,_)}const $=()=>{e(2,i=!0),e(7,u="")},H=()=>{e(2,i=!1),e(7,u="")},R=w=>w.key==="Escape"&&E();return s.$$set=w=>{"show"in w&&e(0,r=w.show)},[r,o,i,n,c,_,x,u,d,T,E,y,p,m,j,F,Y,Z,$,H,R]}class Fe extends be{constructor(t){super(),me(this,t,Oe,je,we,{show:0})}}function _e(s){let t,e,r,l;return{c(){t=L("defs"),e=L("linearGradient"),r=L("stop"),l=L("stop"),this.h()},l(o){t=M(o,"defs",{});var i=g(t);e=M(i,"linearGradient",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0});var n=g(e);r=M(n,"stop",{offset:!0,style:!0}),g(r).forEach(f),l=M(n,"stop",{offset:!0,style:!0}),g(l).forEach(f),n.forEach(f),i.forEach(f),this.h()},h(){a(r,"offset","0%"),te(r,"stop-color","#FF7B3D"),te(r,"stop-opacity","1"),a(l,"offset","100%"),te(l,"stop-color","#FFB347"),te(l,"stop-opacity","1"),a(e,"id","settingsGradient"),a(e,"x1","0%"),a(e,"y1","0%"),a(e,"x2","100%"),a(e,"y2","100%")},m(o,i){C(o,t,i),h(t,e),h(e,r),h(e,l)},d(o){o&&f(t)}}}function Se(s){let t,e,r,l,o,i,n=s[1]&&_e();return{c(){t=L("svg"),n&&n.c(),e=L("path"),l=L("circle"),this.h()},l(c){t=M(c,"svg",{class:!0,viewBox:!0,fill:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var _=g(t);n&&n.l(_),e=M(_,"path",{d:!0,stroke:!0}),g(e).forEach(f),l=M(_,"circle",{cx:!0,cy:!0,r:!0,stroke:!0,fill:!0}),g(l).forEach(f),_.forEach(f),this.h()},h(){a(e,"d","M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.39a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"),a(e,"stroke",r=s[1]?"url(#settingsGradient)":"currentColor"),a(l,"cx","12"),a(l,"cy","12"),a(l,"r","3"),a(l,"stroke",o=s[1]?"url(#settingsGradient)":"currentColor"),a(l,"fill","none"),a(t,"class",i=s[2][s[0]]),a(t,"viewBox","0 0 24 24"),a(t,"fill","none"),a(t,"stroke-width","2"),a(t,"stroke-linecap","round"),a(t,"stroke-linejoin","round")},m(c,_){C(c,t,_),n&&n.m(t,null),h(t,e),h(t,l)},p(c,[_]){c[1]?n||(n=_e(),n.c(),n.m(t,e)):n&&(n.d(1),n=null),_&2&&r!==(r=c[1]?"url(#settingsGradient)":"currentColor")&&a(e,"stroke",r),_&2&&o!==(o=c[1]?"url(#settingsGradient)":"currentColor")&&a(l,"stroke",o),_&1&&i!==(i=c[2][c[0]])&&a(t,"class",i)},i:z,o:z,d(c){c&&f(t),n&&n.d()}}}function qe(s,t,e){let{size:r="md"}=t,{gradient:l=!0}=t;const o={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};return s.$$set=i=>{"size"in i&&e(0,r=i.size),"gradient"in i&&e(1,l=i.gradient)},[r,l,o]}class Me extends be{constructor(t){super(),me(this,t,qe,Se,we,{size:0,gradient:1})}}export{Fe as A,Me as S};
