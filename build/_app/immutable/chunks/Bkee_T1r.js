import{a as e,o as s,ah as r,E as o,F as i,G as n,H as l,I as d,J as u,K as c,L as g,M as _,N as m,O as y,P as h,Q as p,R as f,S as F,U as S,V as D,W as A,X as I,Y as E,Z as P,T as C,_ as T,$ as v,a0 as Q,a1 as b,a2 as w,a3 as R,a4 as V,a5 as B,a6 as W,a7 as L,a8 as O,k as U,x,y as K,c as M,a9 as N,aa as j,m as q,ab as G,b as $,ac as k,ad as z,ae as H,af as J,g as X,f as Y,ag as Z,v as aa,t as ea,n as ta,p as sa,q as ra,l as oa,s as ia,u as na,e as la,w as da}from"./Cc16BkMR.js";import{w as ua}from"./Dd9dlJ0t.js";const ma=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:o,AggregateField:i,AggregateQuerySnapshot:n,Bytes:l,CollectionReference:d,DocumentReference:u,DocumentSnapshot:c,FieldPath:g,FieldValue:_,Firestore:m,FirestoreError:y,GeoPoint:h,Query:p,QueryCompositeFilterConstraint:f,QueryConstraint:F,QueryDocumentSnapshot:S,QueryFieldFilterConstraint:D,QueryLimitConstraint:A,QueryOrderByConstraint:I,QuerySnapshot:E,SnapshotMetadata:P,Timestamp:C,VectorValue:T,WriteBatch:v,_AutoId:Q,_ByteString:b,_DatabaseId:w,_DocumentKey:R,_EmptyAuthCredentialsProvider:V,_FieldPath:B,_cast:W,_logWarn:L,_validateIsNotUsedTogether:O,addDoc:U,arrayRemove:x,arrayUnion:K,collection:M,connectFirestoreEmulator:N,count:j,deleteDoc:q,deleteField:G,doc:$,ensureFirestoreConfigured:k,executeWrite:z,getAggregateFromServer:H,getCountFromServer:J,getDoc:X,getDocs:Y,getFirestore:Z,increment:aa,limit:ea,onSnapshot:ta,orderBy:sa,query:ra,serverTimestamp:oa,setDoc:ia,updateDoc:na,where:la,writeBatch:da},Symbol.toStringTag,{value:"Module"})),ca={user:null,loading:!0,isLoggedIn:!1},t=ua(ca);typeof window<"u"&&e?s(e,a=>{t.set({user:a,loading:!1,isLoggedIn:!!a})}):t.update(a=>({...a,loading:!1}));const ya=async()=>{if(e){await r(e);try{await fetch("/api/auth/session",{method:"DELETE"})}catch(a){console.error("Session cleanup failed",a)}}};export{ma as i,ya as l,t as u};
