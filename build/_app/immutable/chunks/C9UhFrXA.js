import{a as e,o as s,ag as r,D as o,E as i,F as n,G as l,H as d,I as u,J as c,K as g,L as _,M as m,N as y,O as h,Q as p,P as f,R as F,S,U as D,V as A,W as I,X as E,Y as P,T as C,Z as T,_ as v,$ as Q,a0 as b,a1 as w,a2 as R,a3 as V,a4 as B,a5 as W,a6 as L,a7 as O,i as U,p as x,t as K,c as M,a8 as N,a9 as j,x as q,aa as G,b as $,ab as z,ac as H,ad as J,ae as X,g as Y,f as Z,af as k,r as aa,l as ea,n as ta,e as sa,q as ra,h as oa,s as ia,u as na,v as la,w as da}from"./CSpmTaba.js";import{w as ua}from"./Dmpml9mb.js";const ma=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:o,AggregateField:i,AggregateQuerySnapshot:n,Bytes:l,CollectionReference:d,DocumentReference:u,DocumentSnapshot:c,FieldPath:g,FieldValue:_,Firestore:m,FirestoreError:y,GeoPoint:h,Query:p,QueryCompositeFilterConstraint:f,QueryConstraint:F,QueryDocumentSnapshot:S,QueryFieldFilterConstraint:D,QueryLimitConstraint:A,QueryOrderByConstraint:I,QuerySnapshot:E,SnapshotMetadata:P,Timestamp:C,VectorValue:T,WriteBatch:v,_AutoId:Q,_ByteString:b,_DatabaseId:w,_DocumentKey:R,_EmptyAuthCredentialsProvider:V,_FieldPath:B,_cast:W,_logWarn:L,_validateIsNotUsedTogether:O,addDoc:U,arrayRemove:x,arrayUnion:K,collection:M,connectFirestoreEmulator:N,count:j,deleteDoc:q,deleteField:G,doc:$,ensureFirestoreConfigured:z,executeWrite:H,getAggregateFromServer:J,getCountFromServer:X,getDoc:Y,getDocs:Z,getFirestore:k,increment:aa,limit:ea,onSnapshot:ta,orderBy:sa,query:ra,serverTimestamp:oa,setDoc:ia,updateDoc:na,where:la,writeBatch:da},Symbol.toStringTag,{value:"Module"})),ca={user:null,loading:!0,isLoggedIn:!1},t=ua(ca);typeof window<"u"&&e?s(e,a=>{t.set({user:a,loading:!1,isLoggedIn:!!a})}):t.update(a=>({...a,loading:!1}));const ya=async()=>{if(e){await r(e);try{await fetch("/api/auth/session",{method:"DELETE"})}catch(a){console.error("Session cleanup failed",a)}}};export{ma as i,ya as l,t as u};
